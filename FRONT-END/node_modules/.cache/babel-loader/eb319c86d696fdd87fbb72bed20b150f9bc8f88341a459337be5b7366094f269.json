{"ast":null,"code":"/* Tabulator v5.5.2 (c) Oliver Folkerd 2023 */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).Tabulator = t();\n}(this, function () {\n  \"use strict\";\n\n  class e {\n    constructor(e) {\n      this.table = e;\n    }\n    reloadData(e, t, i) {\n      return this.table.dataLoader.load(e, void 0, void 0, void 0, t, i);\n    }\n    langText() {\n      return this.table.modules.localize.getText(...arguments);\n    }\n    langBind() {\n      return this.table.modules.localize.bind(...arguments);\n    }\n    langLocale() {\n      return this.table.modules.localize.getLocale(...arguments);\n    }\n    commsConnections() {\n      return this.table.modules.comms.getConnections(...arguments);\n    }\n    commsSend() {\n      return this.table.modules.comms.send(...arguments);\n    }\n    layoutMode() {\n      return this.table.modules.layout.getMode();\n    }\n    layoutRefresh(e) {\n      return this.table.modules.layout.layout(e);\n    }\n    subscribe() {\n      return this.table.eventBus.subscribe(...arguments);\n    }\n    unsubscribe() {\n      return this.table.eventBus.unsubscribe(...arguments);\n    }\n    subscribed(e) {\n      return this.table.eventBus.subscribed(e);\n    }\n    subscriptionChange() {\n      return this.table.eventBus.subscriptionChange(...arguments);\n    }\n    dispatch() {\n      return this.table.eventBus.dispatch(...arguments);\n    }\n    chain() {\n      return this.table.eventBus.chain(...arguments);\n    }\n    confirm() {\n      return this.table.eventBus.confirm(...arguments);\n    }\n    dispatchExternal() {\n      return this.table.externalEvents.dispatch(...arguments);\n    }\n    subscribedExternal(e) {\n      return this.table.externalEvents.subscribed(e);\n    }\n    subscriptionChangeExternal() {\n      return this.table.externalEvents.subscriptionChange(...arguments);\n    }\n    options(e) {\n      return this.table.options[e];\n    }\n    setOption(e, t) {\n      return void 0 !== t && (this.table.options[e] = t), this.table.options[e];\n    }\n    deprecationCheck(e, t) {\n      return this.table.deprecationAdvisor.check(e, t);\n    }\n    deprecationCheckMsg(e, t) {\n      return this.table.deprecationAdvisor.checkMsg(e, t);\n    }\n    deprecationMsg(e) {\n      return this.table.deprecationAdvisor.msg(e);\n    }\n    module(e) {\n      return this.table.module(e);\n    }\n  }\n  class t {\n    constructor(e) {\n      return this._column = e, this.type = \"ColumnComponent\", new Proxy(this, {\n        get: function (e, t, i) {\n          return void 0 !== e[t] ? e[t] : e._column.table.componentFunctionBinder.handle(\"column\", e._column, t);\n        }\n      });\n    }\n    getElement() {\n      return this._column.getElement();\n    }\n    getDefinition() {\n      return this._column.getDefinition();\n    }\n    getField() {\n      return this._column.getField();\n    }\n    getTitleDownload() {\n      return this._column.getTitleDownload();\n    }\n    getCells() {\n      var e = [];\n      return this._column.cells.forEach(function (t) {\n        e.push(t.getComponent());\n      }), e;\n    }\n    isVisible() {\n      return this._column.visible;\n    }\n    show() {\n      this._column.isGroup ? this._column.columns.forEach(function (e) {\n        e.show();\n      }) : this._column.show();\n    }\n    hide() {\n      this._column.isGroup ? this._column.columns.forEach(function (e) {\n        e.hide();\n      }) : this._column.hide();\n    }\n    toggle() {\n      this._column.visible ? this.hide() : this.show();\n    }\n    delete() {\n      return this._column.delete();\n    }\n    getSubColumns() {\n      var e = [];\n      return this._column.columns.length && this._column.columns.forEach(function (t) {\n        e.push(t.getComponent());\n      }), e;\n    }\n    getParentColumn() {\n      return this._column.parent instanceof n && this._column.parent.getComponent();\n    }\n    _getSelf() {\n      return this._column;\n    }\n    scrollTo(e, t) {\n      return this._column.table.columnManager.scrollToColumn(this._column, e, t);\n    }\n    getTable() {\n      return this._column.table;\n    }\n    move(e, t) {\n      var i = this._column.table.columnManager.findColumn(e);\n      i ? this._column.table.columnManager.moveColumn(this._column, i, t) : console.warn(\"Move Error - No matching column found:\", i);\n    }\n    getNextColumn() {\n      var e = this._column.nextColumn();\n      return !!e && e.getComponent();\n    }\n    getPrevColumn() {\n      var e = this._column.prevColumn();\n      return !!e && e.getComponent();\n    }\n    updateDefinition(e) {\n      return this._column.updateDefinition(e);\n    }\n    getWidth() {\n      return this._column.getWidth();\n    }\n    setWidth(e) {\n      var t;\n      return t = !0 === e ? this._column.reinitializeWidth(!0) : this._column.setWidth(e), this._column.table.columnManager.rerenderColumns(!0), t;\n    }\n  }\n  var i = {\n    title: void 0,\n    field: void 0,\n    columns: void 0,\n    visible: void 0,\n    hozAlign: void 0,\n    vertAlign: void 0,\n    width: void 0,\n    minWidth: 40,\n    maxWidth: void 0,\n    maxInitialWidth: void 0,\n    cssClass: void 0,\n    variableHeight: void 0,\n    headerVertical: void 0,\n    headerHozAlign: void 0,\n    headerWordWrap: !1,\n    editableTitle: void 0\n  };\n  class s {\n    constructor(e) {\n      return this._cell = e, new Proxy(this, {\n        get: function (e, t, i) {\n          return void 0 !== e[t] ? e[t] : e._cell.table.componentFunctionBinder.handle(\"cell\", e._cell, t);\n        }\n      });\n    }\n    getValue() {\n      return this._cell.getValue();\n    }\n    getOldValue() {\n      return this._cell.getOldValue();\n    }\n    getInitialValue() {\n      return this._cell.initialValue;\n    }\n    getElement() {\n      return this._cell.getElement();\n    }\n    getRow() {\n      return this._cell.row.getComponent();\n    }\n    getData(e) {\n      return this._cell.row.getData(e);\n    }\n    getType() {\n      return \"cell\";\n    }\n    getField() {\n      return this._cell.column.getField();\n    }\n    getColumn() {\n      return this._cell.column.getComponent();\n    }\n    setValue(e, t) {\n      void 0 === t && (t = !0), this._cell.setValue(e, t);\n    }\n    restoreOldValue() {\n      this._cell.setValueActual(this._cell.getOldValue());\n    }\n    restoreInitialValue() {\n      this._cell.setValueActual(this._cell.initialValue);\n    }\n    checkHeight() {\n      this._cell.checkHeight();\n    }\n    getTable() {\n      return this._cell.table;\n    }\n    _getSelf() {\n      return this._cell;\n    }\n  }\n  class o extends e {\n    constructor(e, t) {\n      super(e.table), this.table = e.table, this.column = e, this.row = t, this.element = null, this.value = null, this.initialValue, this.oldValue = null, this.modules = {}, this.height = null, this.width = null, this.minWidth = null, this.component = null, this.loaded = !1, this.build();\n    }\n    build() {\n      this.generateElement(), this.setWidth(), this._configureCell(), this.setValueActual(this.column.getFieldValue(this.row.data)), this.initialValue = this.value;\n    }\n    generateElement() {\n      this.element = document.createElement(\"div\"), this.element.className = \"tabulator-cell\", this.element.setAttribute(\"role\", \"gridcell\");\n    }\n    _configureCell() {\n      var e = this.element,\n        t = this.column.getField();\n      (e.style.textAlign = this.column.hozAlign, this.column.vertAlign && (e.style.display = \"inline-flex\", e.style.alignItems = {\n        top: \"flex-start\",\n        bottom: \"flex-end\",\n        middle: \"center\"\n      }[this.column.vertAlign] || \"\", this.column.hozAlign && (e.style.justifyContent = {\n        left: \"flex-start\",\n        right: \"flex-end\",\n        center: \"center\"\n      }[this.column.hozAlign] || \"\")), t && e.setAttribute(\"tabulator-field\", t), this.column.definition.cssClass) && this.column.definition.cssClass.split(\" \").forEach(t => {\n        e.classList.add(t);\n      });\n      this.dispatch(\"cell-init\", this), this.column.visible || this.hide();\n    }\n    _generateContents() {\n      var e;\n      switch (typeof (e = this.chain(\"cell-format\", this, null, () => this.element.innerHTML = this.value))) {\n        case \"object\":\n          if (e instanceof Node) {\n            for (; this.element.firstChild;) this.element.removeChild(this.element.firstChild);\n            this.element.appendChild(e);\n          } else this.element.innerHTML = \"\", null != e && console.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", e);\n          break;\n        case \"undefined\":\n          this.element.innerHTML = \"\";\n          break;\n        default:\n          this.element.innerHTML = e;\n      }\n    }\n    cellRendered() {\n      this.dispatch(\"cell-rendered\", this);\n    }\n    getElement(e) {\n      return this.loaded || (this.loaded = !0, e || this.layoutElement()), this.element;\n    }\n    getValue() {\n      return this.value;\n    }\n    getOldValue() {\n      return this.oldValue;\n    }\n    setValue(e, t, i) {\n      this.setValueProcessData(e, t, i) && (this.dispatch(\"cell-value-updated\", this), this.cellRendered(), this.column.definition.cellEdited && this.column.definition.cellEdited.call(this.table, this.getComponent()), this.dispatchExternal(\"cellEdited\", this.getComponent()), this.subscribedExternal(\"dataChanged\") && this.dispatchExternal(\"dataChanged\", this.table.rowManager.getData()));\n    }\n    setValueProcessData(e, t, i) {\n      var s = !1;\n      return (this.value !== e || i) && (s = !0, t && (e = this.chain(\"cell-value-changing\", [this, e], null, e))), this.setValueActual(e), s && this.dispatch(\"cell-value-changed\", this), s;\n    }\n    setValueActual(e) {\n      this.oldValue = this.value, this.value = e, this.dispatch(\"cell-value-save-before\", this), this.column.setFieldValue(this.row.data, e), this.dispatch(\"cell-value-save-after\", this), this.loaded && this.layoutElement();\n    }\n    layoutElement() {\n      this._generateContents(), this.dispatch(\"cell-layout\", this);\n    }\n    setWidth() {\n      this.width = this.column.width, this.element.style.width = this.column.widthStyled;\n    }\n    clearWidth() {\n      this.width = \"\", this.element.style.width = \"\";\n    }\n    getWidth() {\n      return this.width || this.element.offsetWidth;\n    }\n    setMinWidth() {\n      this.minWidth = this.column.minWidth, this.element.style.minWidth = this.column.minWidthStyled;\n    }\n    setMaxWidth() {\n      this.maxWidth = this.column.maxWidth, this.element.style.maxWidth = this.column.maxWidthStyled;\n    }\n    checkHeight() {\n      this.row.reinitializeHeight();\n    }\n    clearHeight() {\n      this.element.style.height = \"\", this.height = null, this.dispatch(\"cell-height\", this, \"\");\n    }\n    setHeight() {\n      this.height = this.row.height, this.element.style.height = this.row.heightStyled, this.dispatch(\"cell-height\", this, this.row.heightStyled);\n    }\n    getHeight() {\n      return this.height || this.element.offsetHeight;\n    }\n    show() {\n      this.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n    }\n    hide() {\n      this.element.style.display = \"none\";\n    }\n    delete() {\n      this.dispatch(\"cell-delete\", this), !this.table.rowManager.redrawBlock && this.element.parentNode && this.element.parentNode.removeChild(this.element), this.element = !1, this.column.deleteCell(this), this.row.deleteCell(this), this.calcs = {};\n    }\n    getIndex() {\n      return this.row.getCellIndex(this);\n    }\n    getComponent() {\n      return this.component || (this.component = new s(this)), this.component;\n    }\n  }\n  class n extends e {\n    constructor(e, t) {\n      super(t.table), this.definition = e, this.parent = t, this.type = \"column\", this.columns = [], this.cells = [], this.element = this.createElement(), this.contentElement = !1, this.titleHolderElement = !1, this.titleElement = !1, this.groupElement = this.createGroupElement(), this.isGroup = !1, this.hozAlign = \"\", this.vertAlign = \"\", this.field = \"\", this.fieldStructure = \"\", this.getFieldValue = \"\", this.setFieldValue = \"\", this.titleDownload = null, this.titleFormatterRendered = !1, this.mapDefinitions(), this.setField(this.definition.field), this.modules = {}, this.width = null, this.widthStyled = \"\", this.maxWidth = null, this.maxWidthStyled = \"\", this.maxInitialWidth = null, this.minWidth = null, this.minWidthStyled = \"\", this.widthFixed = !1, this.visible = !0, this.component = null, this.definition.columns ? (this.isGroup = !0, this.definition.columns.forEach((e, t) => {\n        var i = new n(e, this);\n        this.attachColumn(i);\n      }), this.checkColumnVisibility()) : t.registerColumnField(this), this._initialize();\n    }\n    createElement() {\n      var e = document.createElement(\"div\");\n      switch (e.classList.add(\"tabulator-col\"), e.setAttribute(\"role\", \"columnheader\"), e.setAttribute(\"aria-sort\", \"none\"), this.table.options.columnHeaderVertAlign) {\n        case \"middle\":\n          e.style.justifyContent = \"center\";\n          break;\n        case \"bottom\":\n          e.style.justifyContent = \"flex-end\";\n      }\n      return e;\n    }\n    createGroupElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-col-group-cols\"), e;\n    }\n    mapDefinitions() {\n      var e = this.table.options.columnDefaults;\n      if (e) for (let t in e) void 0 === this.definition[t] && (this.definition[t] = e[t]);\n      this.definition = this.table.columnManager.optionsList.generate(n.defaultOptionList, this.definition);\n    }\n    checkDefinition() {\n      Object.keys(this.definition).forEach(e => {\n        -1 === n.defaultOptionList.indexOf(e) && console.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", e);\n      });\n    }\n    setField(e) {\n      this.field = e, this.fieldStructure = e ? this.table.options.nestedFieldSeparator ? e.split(this.table.options.nestedFieldSeparator) : [e] : [], this.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData, this.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n    }\n    registerColumnPosition(e) {\n      this.parent.registerColumnPosition(e);\n    }\n    registerColumnField(e) {\n      this.parent.registerColumnField(e);\n    }\n    reRegisterPosition() {\n      this.isGroup ? this.columns.forEach(function (e) {\n        e.reRegisterPosition();\n      }) : this.registerColumnPosition(this);\n    }\n    _initialize() {\n      for (var e = this.definition; this.element.firstChild;) this.element.removeChild(this.element.firstChild);\n      e.headerVertical && (this.element.classList.add(\"tabulator-col-vertical\"), \"flip\" === e.headerVertical && this.element.classList.add(\"tabulator-col-vertical-flip\")), this.contentElement = this._buildColumnHeaderContent(), this.element.appendChild(this.contentElement), this.isGroup ? this._buildGroupHeader() : this._buildColumnHeader(), this.dispatch(\"column-init\", this);\n    }\n    _buildColumnHeader() {\n      var e = this.definition;\n      (this.dispatch(\"column-layout\", this), void 0 !== e.visible && (e.visible ? this.show(!0) : this.hide(!0)), e.cssClass) && e.cssClass.split(\" \").forEach(e => {\n        this.element.classList.add(e);\n      });\n      e.field && this.element.setAttribute(\"tabulator-field\", e.field), this.setMinWidth(parseInt(e.minWidth)), e.maxInitialWidth && (this.maxInitialWidth = parseInt(e.maxInitialWidth)), e.maxWidth && this.setMaxWidth(parseInt(e.maxWidth)), this.reinitializeWidth(), this.hozAlign = this.definition.hozAlign, this.vertAlign = this.definition.vertAlign, this.titleElement.style.textAlign = this.definition.headerHozAlign;\n    }\n    _buildColumnHeaderContent() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-col-content\"), this.titleHolderElement = document.createElement(\"div\"), this.titleHolderElement.classList.add(\"tabulator-col-title-holder\"), e.appendChild(this.titleHolderElement), this.titleElement = this._buildColumnHeaderTitle(), this.titleHolderElement.appendChild(this.titleElement), e;\n    }\n    _buildColumnHeaderTitle() {\n      var e = this.definition,\n        t = document.createElement(\"div\");\n      if (t.classList.add(\"tabulator-col-title\"), e.headerWordWrap && t.classList.add(\"tabulator-col-title-wrap\"), e.editableTitle) {\n        var i = document.createElement(\"input\");\n        i.classList.add(\"tabulator-title-editor\"), i.addEventListener(\"click\", e => {\n          e.stopPropagation(), i.focus();\n        }), i.addEventListener(\"change\", () => {\n          e.title = i.value, this.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n        }), t.appendChild(i), e.field ? this.langBind(\"columns|\" + e.field, t => {\n          i.value = t || e.title || \"&nbsp;\";\n        }) : i.value = e.title || \"&nbsp;\";\n      } else e.field ? this.langBind(\"columns|\" + e.field, i => {\n        this._formatColumnHeaderTitle(t, i || e.title || \"&nbsp;\");\n      }) : this._formatColumnHeaderTitle(t, e.title || \"&nbsp;\");\n      return t;\n    }\n    _formatColumnHeaderTitle(e, t) {\n      var i = this.chain(\"column-format\", [this, t, e], null, () => t);\n      switch (typeof i) {\n        case \"object\":\n          i instanceof Node ? e.appendChild(i) : (e.innerHTML = \"\", console.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", i));\n          break;\n        case \"undefined\":\n          e.innerHTML = \"\";\n          break;\n        default:\n          e.innerHTML = i;\n      }\n    }\n    _buildGroupHeader() {\n      (this.element.classList.add(\"tabulator-col-group\"), this.element.setAttribute(\"role\", \"columngroup\"), this.element.setAttribute(\"aria-title\", this.definition.title), this.definition.cssClass) && this.definition.cssClass.split(\" \").forEach(e => {\n        this.element.classList.add(e);\n      });\n      this.titleElement.style.textAlign = this.definition.headerHozAlign, this.element.appendChild(this.groupElement);\n    }\n    _getFlatData(e) {\n      return e[this.field];\n    }\n    _getNestedData(e) {\n      var t,\n        i = e,\n        s = this.fieldStructure,\n        o = s.length;\n      for (let e = 0; e < o && (t = i = i[s[e]], i); e++);\n      return t;\n    }\n    _setFlatData(e, t) {\n      this.field && (e[this.field] = t);\n    }\n    _setNestedData(e, t) {\n      var i = e,\n        s = this.fieldStructure,\n        o = s.length;\n      for (let e = 0; e < o; e++) if (e == o - 1) i[s[e]] = t;else {\n        if (!i[s[e]]) {\n          if (void 0 === t) break;\n          i[s[e]] = {};\n        }\n        i = i[s[e]];\n      }\n    }\n    attachColumn(e) {\n      this.groupElement ? (this.columns.push(e), this.groupElement.appendChild(e.getElement()), e.columnRendered()) : console.warn(\"Column Warning - Column being attached to another column instead of column group\");\n    }\n    verticalAlign(e, t) {\n      var i = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : t || this.parent.getHeadersElement().clientHeight;\n      this.element.style.height = i + \"px\", this.dispatch(\"column-height\", this, this.element.style.height), this.isGroup && (this.groupElement.style.minHeight = i - this.contentElement.offsetHeight + \"px\"), this.columns.forEach(function (t) {\n        t.verticalAlign(e);\n      });\n    }\n    clearVerticalAlign() {\n      this.element.style.paddingTop = \"\", this.element.style.height = \"\", this.element.style.minHeight = \"\", this.groupElement.style.minHeight = \"\", this.columns.forEach(function (e) {\n        e.clearVerticalAlign();\n      }), this.dispatch(\"column-height\", this, \"\");\n    }\n    getElement() {\n      return this.element;\n    }\n    getGroupElement() {\n      return this.groupElement;\n    }\n    getField() {\n      return this.field;\n    }\n    getTitleDownload() {\n      return this.titleDownload;\n    }\n    getFirstColumn() {\n      return this.isGroup ? !!this.columns.length && this.columns[0].getFirstColumn() : this;\n    }\n    getLastColumn() {\n      return this.isGroup ? !!this.columns.length && this.columns[this.columns.length - 1].getLastColumn() : this;\n    }\n    getColumns(e) {\n      var t = [];\n      return e ? this.columns.forEach(e => {\n        t.push(e), t = t.concat(e.getColumns(!0));\n      }) : t = this.columns, t;\n    }\n    getCells() {\n      return this.cells;\n    }\n    getTopColumn() {\n      return this.parent.isGroup ? this.parent.getTopColumn() : this;\n    }\n    getDefinition(e) {\n      var t = [];\n      return this.isGroup && e && (this.columns.forEach(function (e) {\n        t.push(e.getDefinition(!0));\n      }), this.definition.columns = t), this.definition;\n    }\n    checkColumnVisibility() {\n      var e = !1;\n      this.columns.forEach(function (t) {\n        t.visible && (e = !0);\n      }), e ? (this.show(), this.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), !1)) : this.hide();\n    }\n    show(e, t) {\n      this.visible || (this.visible = !0, this.element.style.display = \"\", this.parent.isGroup && this.parent.checkColumnVisibility(), this.cells.forEach(function (e) {\n        e.show();\n      }), this.isGroup || null !== this.width || this.reinitializeWidth(), this.table.columnManager.verticalAlignHeaders(), this.dispatch(\"column-show\", this, t), e || this.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), !0), this.parent.isGroup && this.parent.matchChildWidths(), this.silent || this.table.columnManager.rerenderColumns());\n    }\n    hide(e, t) {\n      this.visible && (this.visible = !1, this.element.style.display = \"none\", this.table.columnManager.verticalAlignHeaders(), this.parent.isGroup && this.parent.checkColumnVisibility(), this.cells.forEach(function (e) {\n        e.hide();\n      }), this.dispatch(\"column-hide\", this, t), e || this.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), !1), this.parent.isGroup && this.parent.matchChildWidths(), this.silent || this.table.columnManager.rerenderColumns());\n    }\n    matchChildWidths() {\n      var e = 0;\n      this.contentElement && this.columns.length && (this.columns.forEach(function (t) {\n        t.visible && (e += t.getWidth());\n      }), this.contentElement.style.maxWidth = e - 1 + \"px\", this.parent.isGroup && this.parent.matchChildWidths());\n    }\n    removeChild(e) {\n      var t = this.columns.indexOf(e);\n      t > -1 && this.columns.splice(t, 1), this.columns.length || this.delete();\n    }\n    setWidth(e) {\n      this.widthFixed = !0, this.setWidthActual(e);\n    }\n    setWidthActual(e) {\n      isNaN(e) && (e = Math.floor(this.table.element.clientWidth / 100 * parseInt(e))), e = Math.max(this.minWidth, e), this.maxWidth && (e = Math.min(this.maxWidth, e)), this.width = e, this.widthStyled = e ? e + \"px\" : \"\", this.element.style.width = this.widthStyled, this.isGroup || this.cells.forEach(function (e) {\n        e.setWidth();\n      }), this.parent.isGroup && this.parent.matchChildWidths(), this.dispatch(\"column-width\", this);\n    }\n    checkCellHeights() {\n      var e = [];\n      this.cells.forEach(function (t) {\n        t.row.heightInitialized && (null !== t.row.getElement().offsetParent ? (e.push(t.row), t.row.clearCellHeight()) : t.row.heightInitialized = !1);\n      }), e.forEach(function (e) {\n        e.calcHeight();\n      }), e.forEach(function (e) {\n        e.setCellHeight();\n      });\n    }\n    getWidth() {\n      var e = 0;\n      return this.isGroup ? this.columns.forEach(function (t) {\n        t.visible && (e += t.getWidth());\n      }) : e = this.width, e;\n    }\n    getLeftOffset() {\n      var e = this.element.offsetLeft;\n      return this.parent.isGroup && (e += this.parent.getLeftOffset()), e;\n    }\n    getHeight() {\n      return Math.ceil(this.element.getBoundingClientRect().height);\n    }\n    setMinWidth(e) {\n      this.maxWidth && e > this.maxWidth && (e = this.maxWidth, console.warn(\"the minWidth (\" + e + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\" + this.maxWidthStyled + \")\")), this.minWidth = e, this.minWidthStyled = e ? e + \"px\" : \"\", this.element.style.minWidth = this.minWidthStyled, this.cells.forEach(function (e) {\n        e.setMinWidth();\n      });\n    }\n    setMaxWidth(e) {\n      this.minWidth && e < this.minWidth && (e = this.minWidth, console.warn(\"the maxWidth (\" + e + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\" + this.minWidthStyled + \")\")), this.maxWidth = e, this.maxWidthStyled = e ? e + \"px\" : \"\", this.element.style.maxWidth = this.maxWidthStyled, this.cells.forEach(function (e) {\n        e.setMaxWidth();\n      });\n    }\n    delete() {\n      return new Promise((e, t) => {\n        this.isGroup && this.columns.forEach(function (e) {\n          e.delete();\n        }), this.dispatch(\"column-delete\", this);\n        var i = this.cells.length;\n        for (let e = 0; e < i; e++) this.cells[0].delete();\n        this.element.parentNode && this.element.parentNode.removeChild(this.element), this.element = !1, this.contentElement = !1, this.titleElement = !1, this.groupElement = !1, this.parent.isGroup && this.parent.removeChild(this), this.table.columnManager.deregisterColumn(this), this.table.columnManager.rerenderColumns(!0), e();\n      });\n    }\n    columnRendered() {\n      this.titleFormatterRendered && this.titleFormatterRendered(), this.dispatch(\"column-rendered\", this);\n    }\n    generateCell(e) {\n      var t = new o(this, e);\n      return this.cells.push(t), t;\n    }\n    nextColumn() {\n      var e = this.table.columnManager.findColumnIndex(this);\n      return e > -1 && this._nextVisibleColumn(e + 1);\n    }\n    _nextVisibleColumn(e) {\n      var t = this.table.columnManager.getColumnByIndex(e);\n      return !t || t.visible ? t : this._nextVisibleColumn(e + 1);\n    }\n    prevColumn() {\n      var e = this.table.columnManager.findColumnIndex(this);\n      return e > -1 && this._prevVisibleColumn(e - 1);\n    }\n    _prevVisibleColumn(e) {\n      var t = this.table.columnManager.getColumnByIndex(e);\n      return !t || t.visible ? t : this._prevVisibleColumn(e - 1);\n    }\n    reinitializeWidth(e) {\n      this.widthFixed = !1, void 0 === this.definition.width || e || this.setWidth(this.definition.width), this.dispatch(\"column-width-fit-before\", this), this.fitToData(e), this.dispatch(\"column-width-fit-after\", this);\n    }\n    fitToData(e) {\n      if (!this.isGroup) {\n        this.widthFixed || (this.element.style.width = \"\", this.cells.forEach(e => {\n          e.clearWidth();\n        }));\n        var t = this.element.offsetWidth;\n        if ((!this.width || !this.widthFixed) && (this.cells.forEach(e => {\n          var i = e.getWidth();\n          i > t && (t = i);\n        }), t)) {\n          var i = t + 1;\n          this.maxInitialWidth && !e && (i = Math.min(i, this.maxInitialWidth)), this.setWidthActual(i);\n        }\n      }\n    }\n    updateDefinition(e) {\n      var t;\n      return this.isGroup || this.parent.isGroup ? (console.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\"), Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\")) : (t = Object.assign({}, this.getDefinition()), t = Object.assign(t, e), this.table.columnManager.addColumn(t, !1, this).then(e => (t.field == this.field && (this.field = !1), this.delete().then(() => e.getComponent()))));\n    }\n    deleteCell(e) {\n      var t = this.cells.indexOf(e);\n      t > -1 && this.cells.splice(t, 1);\n    }\n    getComponent() {\n      return this.component || (this.component = new t(this)), this.component;\n    }\n  }\n  n.defaultOptionList = i;\n  class r {\n    static elVisible(e) {\n      return !(e.offsetWidth <= 0 && e.offsetHeight <= 0);\n    }\n    static elOffset(e) {\n      var t = e.getBoundingClientRect();\n      return {\n        top: t.top + window.pageYOffset - document.documentElement.clientTop,\n        left: t.left + window.pageXOffset - document.documentElement.clientLeft\n      };\n    }\n    static deepClone(e, t, i = []) {\n      var s = {}.__proto__,\n        o = [].__proto__;\n      for (var n in t || (t = Object.assign(Array.isArray(e) ? [] : {}, e)), e) {\n        let r,\n          a,\n          l = e[n];\n        null == l || \"object\" != typeof l || l.__proto__ !== s && l.__proto__ !== o || (r = i.findIndex(e => e.subject === l), r > -1 ? t[n] = i[r].copy : (a = Object.assign(Array.isArray(l) ? [] : {}, l), i.unshift({\n          subject: l,\n          copy: a\n        }), t[n] = this.deepClone(l, a, i)));\n      }\n      return t;\n    }\n  }\n  class a {\n    constructor(e, t, i = {}) {\n      this.table = e, this.msgType = t, this.registeredDefaults = Object.assign({}, i);\n    }\n    register(e, t) {\n      this.registeredDefaults[e] = t;\n    }\n    generate(e, t = {}) {\n      var i = Object.assign({}, this.registeredDefaults),\n        s = this.table.options.debugInvalidOptions || !0 === t.debugInvalidOptions;\n      Object.assign(i, e);\n      for (let e in t) i.hasOwnProperty(e) || (s && console.warn(\"Invalid \" + this.msgType + \" option:\", e), i[e] = t.key);\n      for (let e in i) e in t ? i[e] = t[e] : Array.isArray(i[e]) ? i[e] = Object.assign([], i[e]) : \"object\" == typeof i[e] && null !== i[e] ? i[e] = Object.assign({}, i[e]) : void 0 === i[e] && delete i[e];\n      return i;\n    }\n  }\n  class l extends e {\n    constructor(e) {\n      super(e), this.elementVertical = e.rowManager.element, this.elementHorizontal = e.columnManager.element, this.tableElement = e.rowManager.tableElement, this.verticalFillMode = \"fit\";\n    }\n    initialize() {}\n    clearRows() {}\n    clearColumns() {}\n    reinitializeColumnWidths(e) {}\n    renderRows() {}\n    renderColumns() {}\n    rerenderRows(e) {\n      e && e();\n    }\n    rerenderColumns(e, t) {}\n    renderRowCells(e) {}\n    rerenderRowCells(e, t) {}\n    scrollColumns(e, t) {}\n    scrollRows(e, t) {}\n    resize() {}\n    scrollToRow(e) {}\n    scrollToRowNearestTop(e) {}\n    visibleRows(e) {\n      return [];\n    }\n    rows() {\n      return this.table.rowManager.getDisplayRows();\n    }\n    styleRow(e, t) {\n      var i = e.getElement();\n      t % 2 ? (i.classList.add(\"tabulator-row-even\"), i.classList.remove(\"tabulator-row-odd\")) : (i.classList.add(\"tabulator-row-odd\"), i.classList.remove(\"tabulator-row-even\"));\n    }\n    clear() {\n      this.clearRows(), this.clearColumns();\n    }\n    render() {\n      this.renderRows(), this.renderColumns();\n    }\n    rerender(e) {\n      this.rerenderRows(), this.rerenderColumns();\n    }\n    scrollToRowPosition(e, t, i) {\n      var s = this.rows().indexOf(e),\n        o = e.getElement(),\n        n = 0;\n      return new Promise((a, l) => {\n        if (s > -1) {\n          if (void 0 === i && (i = this.table.options.scrollToRowIfVisible), !i && r.elVisible(o) && (n = r.elOffset(o).top - r.elOffset(this.elementVertical).top) > 0 && n < this.elementVertical.clientHeight - o.offsetHeight) return a(), !1;\n          switch (void 0 === t && (t = this.table.options.scrollToRowPosition), \"nearest\" === t && (t = this.scrollToRowNearestTop(e) ? \"top\" : \"bottom\"), this.scrollToRow(e), t) {\n            case \"middle\":\n            case \"center\":\n              this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight ? this.elementVertical.scrollTop = this.elementVertical.scrollTop + (o.offsetTop - this.elementVertical.scrollTop) - (this.elementVertical.scrollHeight - o.offsetTop) / 2 : this.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight / 2;\n              break;\n            case \"bottom\":\n              this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight ? this.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - o.offsetTop) + o.offsetHeight : this.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + o.offsetHeight;\n              break;\n            case \"top\":\n              this.elementVertical.scrollTop = o.offsetTop;\n          }\n          a();\n        } else console.warn(\"Scroll Error - Row not visible\"), l(\"Scroll Error - Row not visible\");\n      });\n    }\n  }\n  class h extends l {\n    constructor(e) {\n      super(e);\n    }\n    renderRowCells(e, t) {\n      const i = document.createDocumentFragment();\n      e.cells.forEach(e => {\n        i.appendChild(e.getElement());\n      }), e.element.appendChild(i), t || e.cells.forEach(e => {\n        e.cellRendered();\n      });\n    }\n    reinitializeColumnWidths(e) {\n      e.forEach(function (e) {\n        e.reinitializeWidth();\n      });\n    }\n  }\n  class d extends l {\n    constructor(e) {\n      super(e), this.leftCol = 0, this.rightCol = 0, this.scrollLeft = 0, this.vDomScrollPosLeft = 0, this.vDomScrollPosRight = 0, this.vDomPadLeft = 0, this.vDomPadRight = 0, this.fitDataColAvg = 0, this.windowBuffer = 200, this.visibleRows = null, this.initialized = !1, this.isFitData = !1, this.columns = [];\n    }\n    initialize() {\n      this.compatibilityCheck(), this.layoutCheck(), this.vertScrollListen();\n    }\n    compatibilityCheck() {\n      \"fitDataTable\" == this.options(\"layout\") && console.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\"), this.options(\"responsiveLayout\") && console.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\"), this.options(\"rtl\") && console.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n    }\n    layoutCheck() {\n      this.isFitData = this.options(\"layout\").startsWith(\"fitData\");\n    }\n    vertScrollListen() {\n      this.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this)), this.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n    }\n    clearVisRowCache() {\n      this.visibleRows = null;\n    }\n    renderColumns(e, t) {\n      this.dataChange();\n    }\n    scrollColumns(e, t) {\n      this.scrollLeft != e && (this.scrollLeft = e, this.scroll(e - (this.vDomScrollPosLeft + this.windowBuffer)));\n    }\n    calcWindowBuffer() {\n      var e = this.elementVertical.clientWidth;\n      this.table.columnManager.columnsByIndex.forEach(t => {\n        if (t.visible) {\n          var i = t.getWidth();\n          i > e && (e = i);\n        }\n      }), this.windowBuffer = 2 * e;\n    }\n    rerenderColumns(e, t) {\n      var i = {\n          cols: this.columns,\n          leftCol: this.leftCol,\n          rightCol: this.rightCol\n        },\n        s = 0;\n      e && !this.initialized || (this.clear(), this.calcWindowBuffer(), this.scrollLeft = this.elementVertical.scrollLeft, this.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer, this.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer, this.table.columnManager.columnsByIndex.forEach(e => {\n        var t,\n          i = {};\n        e.visible && (e.modules.frozen || (t = e.getWidth(), i.leftPos = s, i.rightPos = s + t, i.width = t, this.isFitData && (i.fitDataCheck = !e.modules.vdomHoz || e.modules.vdomHoz.fitDataCheck), s + t > this.vDomScrollPosLeft && s < this.vDomScrollPosRight ? (-1 == this.leftCol && (this.leftCol = this.columns.length, this.vDomPadLeft = s), this.rightCol = this.columns.length) : -1 !== this.leftCol && (this.vDomPadRight += t), this.columns.push(e), e.modules.vdomHoz = i, s += t));\n      }), this.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\", this.tableElement.style.paddingRight = this.vDomPadRight + \"px\", this.initialized = !0, t || e && !this.reinitChanged(i) || this.reinitializeRows(), this.elementVertical.scrollLeft = this.scrollLeft);\n    }\n    renderRowCells(e) {\n      if (this.initialized) this.initializeRow(e);else {\n        const t = document.createDocumentFragment();\n        e.cells.forEach(e => {\n          t.appendChild(e.getElement());\n        }), e.element.appendChild(t), e.cells.forEach(e => {\n          e.cellRendered();\n        });\n      }\n    }\n    rerenderRowCells(e, t) {\n      this.reinitializeRow(e, t);\n    }\n    reinitializeColumnWidths(e) {\n      for (let e = this.leftCol; e <= this.rightCol; e++) this.columns[e].reinitializeWidth();\n    }\n    deinitialize() {\n      this.initialized = !1;\n    }\n    clear() {\n      this.columns = [], this.leftCol = -1, this.rightCol = 0, this.vDomScrollPosLeft = 0, this.vDomScrollPosRight = 0, this.vDomPadLeft = 0, this.vDomPadRight = 0;\n    }\n    dataChange() {\n      var e,\n        t,\n        i = !1;\n      if (this.isFitData) {\n        if (this.table.columnManager.columnsByIndex.forEach(e => {\n          !e.definition.width && e.visible && (i = !0);\n        }), i && this.table.rowManager.getDisplayRows().length && (this.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer, e = this.chain(\"rows-sample\", [1], [], () => this.table.rowManager.getDisplayRows())[0])) {\n          t = e.getElement(), e.generateCells(), this.tableElement.appendChild(t);\n          for (let i = 0; i < e.cells.length; i++) {\n            let s = e.cells[i];\n            t.appendChild(s.getElement()), s.column.reinitializeWidth();\n          }\n          t.parentNode.removeChild(t), this.rerenderColumns(!1, !0);\n        }\n      } else \"fitColumns\" === this.options(\"layout\") && (this.layoutRefresh(), this.rerenderColumns(!1, !0));\n    }\n    reinitChanged(e) {\n      var t = !0;\n      return e.cols.length !== this.columns.length || e.leftCol !== this.leftCol || e.rightCol !== this.rightCol || (e.cols.forEach((e, i) => {\n        e !== this.columns[i] && (t = !1);\n      }), !t);\n    }\n    reinitializeRows() {\n      var e = this.getVisibleRows(),\n        t = this.table.rowManager.getRows().filter(t => !e.includes(t));\n      e.forEach(e => {\n        this.reinitializeRow(e, !0);\n      }), t.forEach(e => {\n        e.deinitialize();\n      });\n    }\n    getVisibleRows() {\n      return this.visibleRows || (this.visibleRows = this.table.rowManager.getVisibleRows()), this.visibleRows;\n    }\n    scroll(e) {\n      this.vDomScrollPosLeft += e, this.vDomScrollPosRight += e, Math.abs(e) > this.windowBuffer / 2 ? this.rerenderColumns() : e > 0 ? (this.addColRight(), this.removeColLeft()) : (this.addColLeft(), this.removeColRight());\n    }\n    colPositionAdjust(e, t, i) {\n      for (let s = e; s < t; s++) {\n        let e = this.columns[s];\n        e.modules.vdomHoz.leftPos += i, e.modules.vdomHoz.rightPos += i;\n      }\n    }\n    addColRight() {\n      for (var e = !1, t = !0; t;) {\n        let i = this.columns[this.rightCol + 1];\n        i && i.modules.vdomHoz.leftPos <= this.vDomScrollPosRight ? (e = !0, this.getVisibleRows().forEach(e => {\n          if (\"group\" !== e.type) {\n            var t = e.getCell(i);\n            e.getElement().insertBefore(t.getElement(), e.getCell(this.columns[this.rightCol]).getElement().nextSibling), t.cellRendered();\n          }\n        }), this.fitDataColActualWidthCheck(i), this.rightCol++, this.getVisibleRows().forEach(e => {\n          \"group\" !== e.type && (e.modules.vdomHoz.rightCol = this.rightCol);\n        }), this.rightCol >= this.columns.length - 1 ? this.vDomPadRight = 0 : this.vDomPadRight -= i.getWidth()) : t = !1;\n      }\n      e && (this.tableElement.style.paddingRight = this.vDomPadRight + \"px\");\n    }\n    addColLeft() {\n      for (var e = !1, t = !0; t;) {\n        let i = this.columns[this.leftCol - 1];\n        if (i) {\n          if (i.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft) {\n            e = !0, this.getVisibleRows().forEach(e => {\n              if (\"group\" !== e.type) {\n                var t = e.getCell(i);\n                e.getElement().insertBefore(t.getElement(), e.getCell(this.columns[this.leftCol]).getElement()), t.cellRendered();\n              }\n            }), this.leftCol--, this.getVisibleRows().forEach(e => {\n              \"group\" !== e.type && (e.modules.vdomHoz.leftCol = this.leftCol);\n            }), this.leftCol <= 0 ? this.vDomPadLeft = 0 : this.vDomPadLeft -= i.getWidth();\n            let t = this.fitDataColActualWidthCheck(i);\n            t && (this.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + t, this.vDomPadRight -= t);\n          } else t = !1;\n        } else t = !1;\n      }\n      e && (this.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\");\n    }\n    removeColRight() {\n      for (var e = !1, t = !0; t;) {\n        let i = this.columns[this.rightCol];\n        i && i.modules.vdomHoz.leftPos > this.vDomScrollPosRight ? (e = !0, this.getVisibleRows().forEach(e => {\n          if (\"group\" !== e.type) {\n            var t = e.getCell(i);\n            try {\n              e.getElement().removeChild(t.getElement());\n            } catch (e) {\n              console.warn(\"Could not removeColRight\", e.message);\n            }\n          }\n        }), this.vDomPadRight += i.getWidth(), this.rightCol--, this.getVisibleRows().forEach(e => {\n          \"group\" !== e.type && (e.modules.vdomHoz.rightCol = this.rightCol);\n        })) : t = !1;\n      }\n      e && (this.tableElement.style.paddingRight = this.vDomPadRight + \"px\");\n    }\n    removeColLeft() {\n      for (var e = !1, t = !0; t;) {\n        let i = this.columns[this.leftCol];\n        i && i.modules.vdomHoz.rightPos < this.vDomScrollPosLeft ? (e = !0, this.getVisibleRows().forEach(e => {\n          if (\"group\" !== e.type) {\n            var t = e.getCell(i);\n            try {\n              e.getElement().removeChild(t.getElement());\n            } catch (e) {\n              console.warn(\"Could not removeColLeft\", e.message);\n            }\n          }\n        }), this.vDomPadLeft += i.getWidth(), this.leftCol++, this.getVisibleRows().forEach(e => {\n          \"group\" !== e.type && (e.modules.vdomHoz.leftCol = this.leftCol);\n        })) : t = !1;\n      }\n      e && (this.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\");\n    }\n    fitDataColActualWidthCheck(e) {\n      var t, i;\n      return e.modules.vdomHoz.fitDataCheck && (e.reinitializeWidth(), (i = (t = e.getWidth()) - e.modules.vdomHoz.width) && (e.modules.vdomHoz.rightPos += i, e.modules.vdomHoz.width = t, this.colPositionAdjust(this.columns.indexOf(e) + 1, this.columns.length, i)), e.modules.vdomHoz.fitDataCheck = !1), i;\n    }\n    initializeRow(e) {\n      if (\"group\" !== e.type) {\n        e.modules.vdomHoz = {\n          leftCol: this.leftCol,\n          rightCol: this.rightCol\n        }, this.table.modules.frozenColumns && this.table.modules.frozenColumns.leftColumns.forEach(t => {\n          this.appendCell(e, t);\n        });\n        for (let t = this.leftCol; t <= this.rightCol; t++) this.appendCell(e, this.columns[t]);\n        this.table.modules.frozenColumns && this.table.modules.frozenColumns.rightColumns.forEach(t => {\n          this.appendCell(e, t);\n        });\n      }\n    }\n    appendCell(e, t) {\n      if (t && t.visible) {\n        let i = e.getCell(t);\n        e.getElement().appendChild(i.getElement()), i.cellRendered();\n      }\n    }\n    reinitializeRow(e, t) {\n      if (\"group\" !== e.type && (t || !e.modules.vdomHoz || e.modules.vdomHoz.leftCol !== this.leftCol || e.modules.vdomHoz.rightCol !== this.rightCol)) {\n        for (var i = e.getElement(); i.firstChild;) i.removeChild(i.firstChild);\n        this.initializeRow(e);\n      }\n    }\n  }\n  class c extends e {\n    constructor(e) {\n      super(e), this.blockHozScrollEvent = !1, this.headersElement = null, this.contentsElement = null, this.element = null, this.columns = [], this.columnsByIndex = [], this.columnsByField = {}, this.scrollLeft = 0, this.optionsList = new a(this.table, \"column definition\", i), this.redrawBlock = !1, this.redrawBlockUpdate = null, this.renderer = null;\n    }\n    initialize() {\n      this.initializeRenderer(), this.headersElement = this.createHeadersElement(), this.contentsElement = this.createHeaderContentsElement(), this.element = this.createHeaderElement(), this.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild), this.element.insertBefore(this.contentsElement, this.element.firstChild), this.initializeScrollWheelWatcher(), this.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this)), this.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n    }\n    padVerticalScrollbar(e) {\n      this.table.rtl ? this.headersElement.style.marginLeft = e + \"px\" : this.headersElement.style.marginRight = e + \"px\";\n    }\n    initializeRenderer() {\n      var e,\n        t = {\n          virtual: d,\n          basic: h\n        };\n      (e = \"string\" == typeof this.table.options.renderHorizontal ? t[this.table.options.renderHorizontal] : this.table.options.renderHorizontal) ? (this.renderer = new e(this.table, this.element, this.tableElement), this.renderer.initialize()) : console.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n    }\n    createHeadersElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-headers\"), e.setAttribute(\"role\", \"row\"), e;\n    }\n    createHeaderContentsElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-header-contents\"), e.setAttribute(\"role\", \"rowgroup\"), e;\n    }\n    createHeaderElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-header\"), e.setAttribute(\"role\", \"rowgroup\"), this.table.options.headerVisible || e.classList.add(\"tabulator-header-hidden\"), e;\n    }\n    getElement() {\n      return this.element;\n    }\n    getContentsElement() {\n      return this.contentsElement;\n    }\n    getHeadersElement() {\n      return this.headersElement;\n    }\n    scrollHorizontal(e) {\n      this.contentsElement.scrollLeft = e, this.scrollLeft = e, this.renderer.scrollColumns(e);\n    }\n    initializeScrollWheelWatcher() {\n      this.contentsElement.addEventListener(\"wheel\", e => {\n        var t;\n        e.deltaX && (t = this.contentsElement.scrollLeft + e.deltaX, this.table.rowManager.scrollHorizontal(t), this.table.columnManager.scrollHorizontal(t));\n      });\n    }\n    generateColumnsFromRowData(e) {\n      var t,\n        i,\n        s = [],\n        o = this.table.options.autoColumnsDefinitions;\n      if (e && e.length) {\n        for (var n in t = e[0]) {\n          let e = {\n              field: n,\n              title: n\n            },\n            o = t[n];\n          switch (typeof o) {\n            case \"undefined\":\n              i = \"string\";\n              break;\n            case \"boolean\":\n              i = \"boolean\";\n              break;\n            case \"object\":\n              i = Array.isArray(o) ? \"array\" : \"string\";\n              break;\n            default:\n              i = isNaN(o) || \"\" === o ? o.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i) ? \"alphanum\" : \"string\" : \"number\";\n          }\n          e.sorter = i, s.push(e);\n        }\n        if (o) switch (typeof o) {\n          case \"function\":\n            this.table.options.columns = o.call(this.table, s);\n            break;\n          case \"object\":\n            Array.isArray(o) ? s.forEach(e => {\n              var t = o.find(t => t.field === e.field);\n              t && Object.assign(e, t);\n            }) : s.forEach(e => {\n              o[e.field] && Object.assign(e, o[e.field]);\n            }), this.table.options.columns = s;\n        } else this.table.options.columns = s;\n        this.setColumns(this.table.options.columns);\n      }\n    }\n    setColumns(e, t) {\n      for (; this.headersElement.firstChild;) this.headersElement.removeChild(this.headersElement.firstChild);\n      this.columns = [], this.columnsByIndex = [], this.columnsByField = {}, this.dispatch(\"columns-loading\"), e.forEach((e, t) => {\n        this._addColumn(e);\n      }), this._reIndexColumns(), this.dispatch(\"columns-loaded\"), this.rerenderColumns(!1, !0), this.redraw(!0);\n    }\n    _addColumn(e, t, i) {\n      var s = new n(e, this),\n        o = s.getElement(),\n        r = i ? this.findColumnIndex(i) : i;\n      if (i && r > -1) {\n        var a = i.getTopColumn(),\n          l = this.columns.indexOf(a),\n          h = a.getElement();\n        t ? (this.columns.splice(l, 0, s), h.parentNode.insertBefore(o, h)) : (this.columns.splice(l + 1, 0, s), h.parentNode.insertBefore(o, h.nextSibling));\n      } else t ? (this.columns.unshift(s), this.headersElement.insertBefore(s.getElement(), this.headersElement.firstChild)) : (this.columns.push(s), this.headersElement.appendChild(s.getElement()));\n      return s.columnRendered(), s;\n    }\n    registerColumnField(e) {\n      e.definition.field && (this.columnsByField[e.definition.field] = e);\n    }\n    registerColumnPosition(e) {\n      this.columnsByIndex.push(e);\n    }\n    _reIndexColumns() {\n      this.columnsByIndex = [], this.columns.forEach(function (e) {\n        e.reRegisterPosition();\n      });\n    }\n    verticalAlignHeaders() {\n      var e = 0;\n      this.redrawBlock || (this.headersElement.style.height = \"\", this.columns.forEach(e => {\n        e.clearVerticalAlign();\n      }), this.columns.forEach(t => {\n        var i = t.getHeight();\n        i > e && (e = i);\n      }), this.headersElement.style.height = e + \"px\", this.columns.forEach(t => {\n        t.verticalAlign(this.table.options.columnHeaderVertAlign, e);\n      }), this.table.rowManager.adjustTableSize());\n    }\n    findColumn(e) {\n      var i;\n      if (\"object\" != typeof e) return this.columnsByField[e] || !1;\n      if (e instanceof n) return e;\n      if (e instanceof t) return e._getSelf() || !1;\n      if (\"undefined\" != typeof HTMLElement && e instanceof HTMLElement) {\n        return i = [], this.columns.forEach(e => {\n          i.push(e), i = i.concat(e.getColumns(!0));\n        }), i.find(t => t.element === e) || !1;\n      }\n      return !1;\n    }\n    getColumnByField(e) {\n      return this.columnsByField[e];\n    }\n    getColumnsByFieldRoot(e) {\n      var t = [];\n      return Object.keys(this.columnsByField).forEach(i => {\n        i.split(\".\")[0] === e && t.push(this.columnsByField[i]);\n      }), t;\n    }\n    getColumnByIndex(e) {\n      return this.columnsByIndex[e];\n    }\n    getFirstVisibleColumn() {\n      var e = this.columnsByIndex.findIndex(e => e.visible);\n      return e > -1 && this.columnsByIndex[e];\n    }\n    getColumns() {\n      return this.columns;\n    }\n    findColumnIndex(e) {\n      return this.columnsByIndex.findIndex(t => e === t);\n    }\n    getRealColumns() {\n      return this.columnsByIndex;\n    }\n    traverse(e) {\n      this.columnsByIndex.forEach((t, i) => {\n        e(t, i);\n      });\n    }\n    getDefinitions(e) {\n      var t = [];\n      return this.columnsByIndex.forEach(i => {\n        (!e || e && i.visible) && t.push(i.getDefinition());\n      }), t;\n    }\n    getDefinitionTree() {\n      var e = [];\n      return this.columns.forEach(t => {\n        e.push(t.getDefinition(!0));\n      }), e;\n    }\n    getComponents(e) {\n      var t = [];\n      return (e ? this.columns : this.columnsByIndex).forEach(e => {\n        t.push(e.getComponent());\n      }), t;\n    }\n    getWidth() {\n      var e = 0;\n      return this.columnsByIndex.forEach(t => {\n        t.visible && (e += t.getWidth());\n      }), e;\n    }\n    moveColumn(e, t, i) {\n      t.element.parentNode.insertBefore(e.element, t.element), i && t.element.parentNode.insertBefore(t.element, e.element), this.moveColumnActual(e, t, i), this.verticalAlignHeaders(), this.table.rowManager.reinitialize();\n    }\n    moveColumnActual(e, t, i) {\n      e.parent.isGroup ? this._moveColumnInArray(e.parent.columns, e, t, i) : this._moveColumnInArray(this.columns, e, t, i), this._moveColumnInArray(this.columnsByIndex, e, t, i, !0), this.rerenderColumns(!0), this.dispatch(\"column-moved\", e, t, i), this.subscribedExternal(\"columnMoved\") && this.dispatchExternal(\"columnMoved\", e.getComponent(), this.table.columnManager.getComponents());\n    }\n    _moveColumnInArray(e, t, i, s, o) {\n      var n,\n        r = e.indexOf(t);\n      r > -1 && (e.splice(r, 1), (n = e.indexOf(i)) > -1 ? s && (n += 1) : n = r, e.splice(n, 0, t), o && (this.chain(\"column-moving-rows\", [t, i, s], null, []) || []).concat(this.table.rowManager.rows).forEach(function (e) {\n        if (e.cells.length) {\n          var t = e.cells.splice(r, 1)[0];\n          e.cells.splice(n, 0, t);\n        }\n      }));\n    }\n    scrollToColumn(e, t, i) {\n      var s = 0,\n        o = e.getLeftOffset(),\n        n = 0,\n        r = e.getElement();\n      return new Promise((a, l) => {\n        if (void 0 === t && (t = this.table.options.scrollToColumnPosition), void 0 === i && (i = this.table.options.scrollToColumnIfVisible), e.visible) {\n          switch (t) {\n            case \"middle\":\n            case \"center\":\n              n = -this.element.clientWidth / 2;\n              break;\n            case \"right\":\n              n = r.clientWidth - this.headersElement.clientWidth;\n          }\n          if (!i && o > 0 && o + r.offsetWidth < this.element.clientWidth) return !1;\n          s = o + n, s = Math.max(Math.min(s, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth), 0), this.table.rowManager.scrollHorizontal(s), this.scrollHorizontal(s), a();\n        } else console.warn(\"Scroll Error - Column not visible\"), l(\"Scroll Error - Column not visible\");\n      });\n    }\n    generateCells(e) {\n      var t = [];\n      return this.columnsByIndex.forEach(i => {\n        t.push(i.generateCell(e));\n      }), t;\n    }\n    getFlexBaseWidth() {\n      var e = this.table.element.clientWidth,\n        t = 0;\n      return this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight && (e -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth), this.columnsByIndex.forEach(function (i) {\n        var s, o, n;\n        i.visible && (s = i.definition.width || 0, o = parseInt(i.minWidth), n = \"string\" == typeof s ? s.indexOf(\"%\") > -1 ? e / 100 * parseInt(s) : parseInt(s) : s, t += n > o ? n : o);\n      }), t;\n    }\n    addColumn(e, t, i) {\n      return new Promise((s, o) => {\n        var n = this._addColumn(e, t, i);\n        this._reIndexColumns(), this.dispatch(\"column-add\", e, t, i), \"fitColumns\" != this.layoutMode() && n.reinitializeWidth(), this.redraw(!0), this.table.rowManager.reinitialize(), this.rerenderColumns(), s(n);\n      });\n    }\n    deregisterColumn(e) {\n      var t,\n        i = e.getField();\n      i && delete this.columnsByField[i], (t = this.columnsByIndex.indexOf(e)) > -1 && this.columnsByIndex.splice(t, 1), (t = this.columns.indexOf(e)) > -1 && this.columns.splice(t, 1), this.verticalAlignHeaders(), this.redraw();\n    }\n    rerenderColumns(e, t) {\n      this.redrawBlock ? (!1 === e || !0 === e && null === this.redrawBlockUpdate) && (this.redrawBlockUpdate = e) : this.renderer.rerenderColumns(e, t);\n    }\n    blockRedraw() {\n      this.redrawBlock = !0, this.redrawBlockUpdate = null;\n    }\n    restoreRedraw() {\n      this.redrawBlock = !1, this.verticalAlignHeaders(), this.renderer.rerenderColumns(this.redrawBlockUpdate);\n    }\n    redraw(e) {\n      r.elVisible(this.element) && this.verticalAlignHeaders(), e && (this.table.rowManager.resetScroll(), this.table.rowManager.reinitialize()), this.confirm(\"table-redrawing\", e) || this.layoutRefresh(e), this.dispatch(\"table-redraw\", e), this.table.footerManager.redraw();\n    }\n  }\n  class u {\n    constructor(e) {\n      return this._row = e, new Proxy(this, {\n        get: function (e, t, i) {\n          return void 0 !== e[t] ? e[t] : e._row.table.componentFunctionBinder.handle(\"row\", e._row, t);\n        }\n      });\n    }\n    getData(e) {\n      return this._row.getData(e);\n    }\n    getElement() {\n      return this._row.getElement();\n    }\n    getCells() {\n      var e = [];\n      return this._row.getCells().forEach(function (t) {\n        e.push(t.getComponent());\n      }), e;\n    }\n    getCell(e) {\n      var t = this._row.getCell(e);\n      return !!t && t.getComponent();\n    }\n    getIndex() {\n      return this._row.getData(\"data\")[this._row.table.options.index];\n    }\n    getPosition() {\n      return this._row.getPosition();\n    }\n    watchPosition(e) {\n      return this._row.watchPosition(e);\n    }\n    delete() {\n      return this._row.delete();\n    }\n    scrollTo(e, t) {\n      return this._row.table.rowManager.scrollToRow(this._row, e, t);\n    }\n    move(e, t) {\n      this._row.moveToRow(e, t);\n    }\n    update(e) {\n      return this._row.updateData(e);\n    }\n    normalizeHeight() {\n      this._row.normalizeHeight(!0);\n    }\n    _getSelf() {\n      return this._row;\n    }\n    reformat() {\n      return this._row.reinitialize();\n    }\n    getTable() {\n      return this._row.table;\n    }\n    getNextRow() {\n      var e = this._row.nextRow();\n      return e ? e.getComponent() : e;\n    }\n    getPrevRow() {\n      var e = this._row.prevRow();\n      return e ? e.getComponent() : e;\n    }\n  }\n  class p extends e {\n    constructor(e, t, i = \"row\") {\n      super(t.table), this.parent = t, this.data = {}, this.type = i, this.element = !1, this.modules = {}, this.cells = [], this.height = 0, this.heightStyled = \"\", this.manualHeight = !1, this.outerHeight = 0, this.initialized = !1, this.heightInitialized = !1, this.position = 0, this.positionWatchers = [], this.component = null, this.created = !1, this.setData(e);\n    }\n    create() {\n      this.created || (this.created = !0, this.generateElement());\n    }\n    createElement() {\n      var e = document.createElement(\"div\");\n      e.classList.add(\"tabulator-row\"), e.setAttribute(\"role\", \"row\"), this.element = e;\n    }\n    getElement() {\n      return this.create(), this.element;\n    }\n    detachElement() {\n      this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element);\n    }\n    generateElement() {\n      this.createElement(), this.dispatch(\"row-init\", this);\n    }\n    generateCells() {\n      this.cells = this.table.columnManager.generateCells(this);\n    }\n    initialize(e, t) {\n      if (this.create(), !this.initialized || e) {\n        for (this.deleteCells(); this.element.firstChild;) this.element.removeChild(this.element.firstChild);\n        this.dispatch(\"row-layout-before\", this), this.generateCells(), this.initialized = !0, this.table.columnManager.renderer.renderRowCells(this, t), e && this.normalizeHeight(), this.dispatch(\"row-layout\", this), this.table.options.rowFormatter && this.table.options.rowFormatter(this.getComponent()), this.dispatch(\"row-layout-after\", this);\n      } else this.table.columnManager.renderer.rerenderRowCells(this, t);\n    }\n    rendered() {\n      this.cells.forEach(e => {\n        e.cellRendered();\n      });\n    }\n    reinitializeHeight() {\n      this.heightInitialized = !1, this.element && null !== this.element.offsetParent && this.normalizeHeight(!0);\n    }\n    deinitialize() {\n      this.initialized = !1;\n    }\n    deinitializeHeight() {\n      this.heightInitialized = !1;\n    }\n    reinitialize(e) {\n      this.initialized = !1, this.heightInitialized = !1, this.manualHeight || (this.height = 0, this.heightStyled = \"\"), this.element && null !== this.element.offsetParent && this.initialize(!0), this.dispatch(\"row-relayout\", this);\n    }\n    calcHeight(e) {\n      var t,\n        i = 0;\n      this.table.options.rowHeight ? this.height = this.table.options.rowHeight : (t = this.table.options.resizableRows ? this.element.clientHeight : 0, this.cells.forEach(function (e) {\n        var t = e.getHeight();\n        t > i && (i = t);\n      }), this.height = e ? Math.max(i, t) : this.manualHeight ? this.height : Math.max(i, t)), this.heightStyled = this.height ? this.height + \"px\" : \"\", this.outerHeight = this.element.offsetHeight;\n    }\n    setCellHeight() {\n      this.cells.forEach(function (e) {\n        e.setHeight();\n      }), this.heightInitialized = !0;\n    }\n    clearCellHeight() {\n      this.cells.forEach(function (e) {\n        e.clearHeight();\n      });\n    }\n    normalizeHeight(e) {\n      e && !this.table.options.rowHeight && this.clearCellHeight(), this.calcHeight(e), this.setCellHeight();\n    }\n    setHeight(e, t) {\n      (this.height != e || t) && (this.manualHeight = !0, this.height = e, this.heightStyled = e ? e + \"px\" : \"\", this.setCellHeight(), this.outerHeight = this.element.offsetHeight);\n    }\n    getHeight() {\n      return this.outerHeight;\n    }\n    getWidth() {\n      return this.element.offsetWidth;\n    }\n    deleteCell(e) {\n      var t = this.cells.indexOf(e);\n      t > -1 && this.cells.splice(t, 1);\n    }\n    setData(e) {\n      this.data = this.chain(\"row-data-init-before\", [this, e], void 0, e), this.dispatch(\"row-data-init-after\", this);\n    }\n    updateData(e) {\n      var t,\n        i = this.element && r.elVisible(this.element),\n        s = {};\n      return new Promise((o, n) => {\n        \"string\" == typeof e && (e = JSON.parse(e)), this.dispatch(\"row-data-save-before\", this), this.subscribed(\"row-data-changing\") && (s = Object.assign(s, this.data), s = Object.assign(s, e)), t = this.chain(\"row-data-changing\", [this, s, e], null, e);\n        for (let e in t) this.data[e] = t[e];\n        this.dispatch(\"row-data-save-after\", this);\n        for (let s in e) {\n          this.table.columnManager.getColumnsByFieldRoot(s).forEach(e => {\n            let s = this.getCell(e.getField());\n            if (s) {\n              let o = e.getFieldValue(t);\n              s.getValue() !== o && (s.setValueProcessData(o), i && s.cellRendered());\n            }\n          });\n        }\n        i ? (this.normalizeHeight(!0), this.table.options.rowFormatter && this.table.options.rowFormatter(this.getComponent())) : (this.initialized = !1, this.height = 0, this.heightStyled = \"\"), this.dispatch(\"row-data-changed\", this, i, e), this.dispatchExternal(\"rowUpdated\", this.getComponent()), this.subscribedExternal(\"dataChanged\") && this.dispatchExternal(\"dataChanged\", this.table.rowManager.getData()), o();\n      });\n    }\n    getData(e) {\n      return e ? this.chain(\"row-data-retrieve\", [this, e], null, this.data) : this.data;\n    }\n    getCell(e) {\n      return e = this.table.columnManager.findColumn(e), this.initialized || 0 !== this.cells.length || this.generateCells(), this.cells.find(function (t) {\n        return t.column === e;\n      });\n    }\n    getCellIndex(e) {\n      return this.cells.findIndex(function (t) {\n        return t === e;\n      });\n    }\n    findCell(e) {\n      return this.cells.find(t => t.element === e);\n    }\n    getCells() {\n      return this.initialized || 0 !== this.cells.length || this.generateCells(), this.cells;\n    }\n    nextRow() {\n      return this.table.rowManager.nextDisplayRow(this, !0) || !1;\n    }\n    prevRow() {\n      return this.table.rowManager.prevDisplayRow(this, !0) || !1;\n    }\n    moveToRow(e, t) {\n      var i = this.table.rowManager.findRow(e);\n      i ? (this.table.rowManager.moveRowActual(this, i, !t), this.table.rowManager.refreshActiveData(\"display\", !1, !0)) : console.warn(\"Move Error - No matching row found:\", e);\n    }\n    delete() {\n      return this.dispatch(\"row-delete\", this), this.deleteActual(), Promise.resolve();\n    }\n    deleteActual(e) {\n      this.detachModules(), this.table.rowManager.deleteRow(this, e), this.deleteCells(), this.initialized = !1, this.heightInitialized = !1, this.element = !1, this.dispatch(\"row-deleted\", this);\n    }\n    detachModules() {\n      this.dispatch(\"row-deleting\", this);\n    }\n    deleteCells() {\n      var e = this.cells.length;\n      for (let t = 0; t < e; t++) this.cells[0].delete();\n    }\n    wipe() {\n      if (this.detachModules(), this.deleteCells(), this.element) {\n        for (; this.element.firstChild;) this.element.removeChild(this.element.firstChild);\n        this.element.parentNode && this.element.parentNode.removeChild(this.element);\n      }\n      this.element = !1, this.modules = {};\n    }\n    isDisplayed() {\n      return this.table.rowManager.getDisplayRows().includes(this);\n    }\n    getPosition() {\n      return !!this.isDisplayed() && this.position;\n    }\n    setPosition(e) {\n      e != this.position && (this.position = e, this.positionWatchers.forEach(e => {\n        e(this.position);\n      }));\n    }\n    watchPosition(e) {\n      this.positionWatchers.push(e), e(this.position);\n    }\n    getGroup() {\n      return this.modules.group || !1;\n    }\n    getComponent() {\n      return this.component || (this.component = new u(this)), this.component;\n    }\n  }\n  class m extends l {\n    constructor(e) {\n      super(e), this.verticalFillMode = \"fill\", this.scrollTop = 0, this.scrollLeft = 0, this.scrollTop = 0, this.scrollLeft = 0;\n    }\n    clearRows() {\n      for (var e = this.tableElement; e.firstChild;) e.removeChild(e.firstChild);\n      e.scrollTop = 0, e.scrollLeft = 0, e.style.minWidth = \"\", e.style.minHeight = \"\", e.style.display = \"\", e.style.visibility = \"\";\n    }\n    renderRows() {\n      var e = this.tableElement,\n        t = !0,\n        i = document.createDocumentFragment(),\n        s = this.rows();\n      s.forEach((e, s) => {\n        this.styleRow(e, s), e.initialize(!1, !0), \"group\" !== e.type && (t = !1), i.appendChild(e.getElement());\n      }), e.appendChild(i), s.forEach(e => {\n        e.rendered(), e.heightInitialized || e.calcHeight(!0);\n      }), s.forEach(e => {\n        e.heightInitialized || e.setCellHeight();\n      }), e.style.minWidth = t ? this.table.columnManager.getWidth() + \"px\" : \"\";\n    }\n    rerenderRows(e) {\n      this.clearRows(), e && e(), this.renderRows();\n    }\n    scrollToRowNearestTop(e) {\n      var t = r.elOffset(e.getElement()).top;\n      return !(Math.abs(this.elementVertical.scrollTop - t) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - t));\n    }\n    scrollToRow(e) {\n      var t = e.getElement();\n      this.elementVertical.scrollTop = r.elOffset(t).top - r.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n    }\n    visibleRows(e) {\n      return this.rows();\n    }\n  }\n  class g extends l {\n    constructor(e) {\n      super(e), this.verticalFillMode = \"fill\", this.scrollTop = 0, this.scrollLeft = 0, this.vDomRowHeight = 20, this.vDomTop = 0, this.vDomBottom = 0, this.vDomScrollPosTop = 0, this.vDomScrollPosBottom = 0, this.vDomTopPad = 0, this.vDomBottomPad = 0, this.vDomMaxRenderChain = 90, this.vDomWindowBuffer = 0, this.vDomWindowMinTotalRows = 20, this.vDomWindowMinMarginRows = 5, this.vDomTopNewRows = [], this.vDomBottomNewRows = [];\n    }\n    clearRows() {\n      for (var e = this.tableElement; e.firstChild;) e.removeChild(e.firstChild);\n      e.style.paddingTop = \"\", e.style.paddingBottom = \"\", e.style.minHeight = \"\", e.style.display = \"\", e.style.visibility = \"\", this.elementVertical.scrollTop = 0, this.elementVertical.scrollLeft = 0, this.scrollTop = 0, this.scrollLeft = 0, this.vDomTop = 0, this.vDomBottom = 0, this.vDomTopPad = 0, this.vDomBottomPad = 0, this.vDomScrollPosTop = 0, this.vDomScrollPosBottom = 0;\n    }\n    renderRows() {\n      this._virtualRenderFill();\n    }\n    rerenderRows(e) {\n      for (var t = this.elementVertical.scrollTop, i = !1, s = !1, o = this.table.rowManager.scrollLeft, n = this.rows(), r = this.vDomTop; r <= this.vDomBottom; r++) if (n[r]) {\n        var a = t - n[r].getElement().offsetTop;\n        if (!(!1 === s || Math.abs(a) < s)) break;\n        s = a, i = r;\n      }\n      n.forEach(e => {\n        e.deinitializeHeight();\n      }), e && e(), this.rows().length ? this._virtualRenderFill(!1 === i ? this.rows.length - 1 : i, !0, s || 0) : (this.clear(), this.table.rowManager.tableEmpty()), this.scrollColumns(o);\n    }\n    scrollColumns(e) {\n      this.table.rowManager.scrollHorizontal(e);\n    }\n    scrollRows(e, t) {\n      var i = e - this.vDomScrollPosTop,\n        s = e - this.vDomScrollPosBottom,\n        o = 2 * this.vDomWindowBuffer,\n        n = this.rows();\n      if (this.scrollTop = e, -i > o || s > o) {\n        var r = this.table.rowManager.scrollLeft;\n        this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop / this.elementVertical.scrollHeight * n.length)), this.scrollColumns(r);\n      } else t ? (i < 0 && this._addTopRow(n, -i), s < 0 && (this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer ? this._removeBottomRow(n, -s) : this.vDomScrollPosBottom = this.scrollTop)) : (s >= 0 && this._addBottomRow(n, s), i >= 0 && (this.scrollTop > this.vDomWindowBuffer ? this._removeTopRow(n, i) : this.vDomScrollPosTop = this.scrollTop));\n    }\n    resize() {\n      this.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n    }\n    scrollToRowNearestTop(e) {\n      var t = this.rows().indexOf(e);\n      return !(Math.abs(this.vDomTop - t) > Math.abs(this.vDomBottom - t));\n    }\n    scrollToRow(e) {\n      var t = this.rows().indexOf(e);\n      t > -1 && this._virtualRenderFill(t, !0);\n    }\n    visibleRows(e) {\n      var t = this.elementVertical.scrollTop,\n        i = this.elementVertical.clientHeight + t,\n        s = !1,\n        o = 0,\n        n = 0,\n        r = this.rows();\n      if (e) o = this.vDomTop, n = this.vDomBottom;else for (var a = this.vDomTop; a <= this.vDomBottom; a++) if (r[a]) if (s) {\n        if (!(i - r[a].getElement().offsetTop >= 0)) break;\n        n = a;\n      } else if (t - r[a].getElement().offsetTop >= 0) o = a;else {\n        if (s = !0, !(i - r[a].getElement().offsetTop >= 0)) break;\n        n = a;\n      }\n      return r.slice(o, n + 1);\n    }\n    _virtualRenderFill(e, t, i) {\n      var s,\n        o,\n        n = this.tableElement,\n        a = this.elementVertical,\n        l = 0,\n        h = 0,\n        d = 0,\n        c = 0,\n        u = 0,\n        p = 0,\n        m = this.rows(),\n        g = m.length,\n        b = 0,\n        f = [],\n        v = 0,\n        w = 0,\n        C = this.table.rowManager.fixedHeight,\n        E = this.elementVertical.clientHeight,\n        y = this.table.options.rowHeight,\n        R = !0;\n      if (i = i || 0, e = e || 0) {\n        for (; n.firstChild;) n.removeChild(n.firstChild);\n        (c = (g - e + 1) * this.vDomRowHeight) < E && (e -= Math.ceil((E - c) / this.vDomRowHeight)) < 0 && (e = 0), e -= l = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight), this.vDomWindowMinMarginRows), e);\n      } else this.clear();\n      if (g && r.elVisible(this.elementVertical)) {\n        for (this.vDomTop = e, this.vDomBottom = e - 1, C || this.table.options.maxHeight ? (y && (w = E / y + this.vDomWindowBuffer / y), w = Math.max(this.vDomWindowMinTotalRows, Math.ceil(w))) : w = g; (w == g || h <= E + this.vDomWindowBuffer || v < this.vDomWindowMinTotalRows) && this.vDomBottom < g - 1;) {\n          for (f = [], o = document.createDocumentFragment(), p = 0; p < w && this.vDomBottom < g - 1;) s = m[b = this.vDomBottom + 1], this.styleRow(s, b), s.initialize(!1, !0), s.heightInitialized || this.table.options.rowHeight || s.clearCellHeight(), o.appendChild(s.getElement()), f.push(s), this.vDomBottom++, p++;\n          if (!f.length) break;\n          n.appendChild(o), f.forEach(e => {\n            e.rendered(), e.heightInitialized || e.calcHeight(!0);\n          }), f.forEach(e => {\n            e.heightInitialized || e.setCellHeight();\n          }), f.forEach(e => {\n            d = e.getHeight(), v < l ? u += d : h += d, d > this.vDomWindowBuffer && (this.vDomWindowBuffer = 2 * d), v++;\n          }), R = this.table.rowManager.adjustTableSize(), E = this.elementVertical.clientHeight, R && (C || this.table.options.maxHeight) && (y = h / v, w = Math.max(this.vDomWindowMinTotalRows, Math.ceil(E / y + this.vDomWindowBuffer / y)));\n        }\n        e ? (this.vDomTopPad = t ? this.vDomRowHeight * this.vDomTop + i : this.scrollTop - u, this.vDomBottomPad = this.vDomBottom == g - 1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - h - u, 0)) : (this.vDomTopPad = 0, this.vDomRowHeight = Math.floor((h + u) / v), this.vDomBottomPad = this.vDomRowHeight * (g - this.vDomBottom - 1), this.vDomScrollHeight = u + h + this.vDomBottomPad - E), n.style.paddingTop = this.vDomTopPad + \"px\", n.style.paddingBottom = this.vDomBottomPad + \"px\", t && (this.scrollTop = this.vDomTopPad + u + i - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - E : 0)), this.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - E), this.elementVertical.scrollWidth > this.elementVertical.clientWidth && t && (this.scrollTop += this.elementVertical.offsetHeight - E), this.vDomScrollPosTop = this.scrollTop, this.vDomScrollPosBottom = this.scrollTop, a.scrollTop = this.scrollTop, this.dispatch(\"render-virtual-fill\");\n      }\n    }\n    _addTopRow(e, t) {\n      for (var i = this.tableElement, s = [], o = 0, n = this.vDomTop - 1, r = 0, a = !0; a;) if (this.vDomTop) {\n        let l,\n          h,\n          d = e[n];\n        d && r < this.vDomMaxRenderChain ? (l = d.getHeight() || this.vDomRowHeight, h = d.initialized, t >= l ? (this.styleRow(d, n), i.insertBefore(d.getElement(), i.firstChild), d.initialized && d.heightInitialized || s.push(d), d.initialize(), h || (l = d.getElement().offsetHeight, l > this.vDomWindowBuffer && (this.vDomWindowBuffer = 2 * l)), t -= l, o += l, this.vDomTop--, n--, r++) : a = !1) : a = !1;\n      } else a = !1;\n      for (let e of s) e.clearCellHeight();\n      this._quickNormalizeRowHeight(s), o && (this.vDomTopPad -= o, this.vDomTopPad < 0 && (this.vDomTopPad = n * this.vDomRowHeight), n < 1 && (this.vDomTopPad = 0), i.style.paddingTop = this.vDomTopPad + \"px\", this.vDomScrollPosTop -= o);\n    }\n    _removeTopRow(e, t) {\n      for (var i = [], s = 0, o = 0, n = !0; n;) {\n        let r,\n          a = e[this.vDomTop];\n        a && o < this.vDomMaxRenderChain ? (r = a.getHeight() || this.vDomRowHeight, t >= r ? (this.vDomTop++, t -= r, s += r, i.push(a), o++) : n = !1) : n = !1;\n      }\n      for (let e of i) {\n        let t = e.getElement();\n        t.parentNode && t.parentNode.removeChild(t);\n      }\n      s && (this.vDomTopPad += s, this.tableElement.style.paddingTop = this.vDomTopPad + \"px\", this.vDomScrollPosTop += this.vDomTop ? s : s + this.vDomWindowBuffer);\n    }\n    _addBottomRow(e, t) {\n      for (var i = this.tableElement, s = [], o = 0, n = this.vDomBottom + 1, r = 0, a = !0; a;) {\n        let l,\n          h,\n          d = e[n];\n        d && r < this.vDomMaxRenderChain ? (l = d.getHeight() || this.vDomRowHeight, h = d.initialized, t >= l ? (this.styleRow(d, n), i.appendChild(d.getElement()), d.initialized && d.heightInitialized || s.push(d), d.initialize(), h || (l = d.getElement().offsetHeight, l > this.vDomWindowBuffer && (this.vDomWindowBuffer = 2 * l)), t -= l, o += l, this.vDomBottom++, n++, r++) : a = !1) : a = !1;\n      }\n      for (let e of s) e.clearCellHeight();\n      this._quickNormalizeRowHeight(s), o && (this.vDomBottomPad -= o, (this.vDomBottomPad < 0 || n == e.length - 1) && (this.vDomBottomPad = 0), i.style.paddingBottom = this.vDomBottomPad + \"px\", this.vDomScrollPosBottom += o);\n    }\n    _removeBottomRow(e, t) {\n      for (var i = [], s = 0, o = 0, n = !0; n;) {\n        let r,\n          a = e[this.vDomBottom];\n        a && o < this.vDomMaxRenderChain ? (r = a.getHeight() || this.vDomRowHeight, t >= r ? (this.vDomBottom--, t -= r, s += r, i.push(a), o++) : n = !1) : n = !1;\n      }\n      for (let e of i) {\n        let t = e.getElement();\n        t.parentNode && t.parentNode.removeChild(t);\n      }\n      s && (this.vDomBottomPad += s, this.vDomBottomPad < 0 && (this.vDomBottomPad = 0), this.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\", this.vDomScrollPosBottom -= s);\n    }\n    _quickNormalizeRowHeight(e) {\n      for (let t of e) t.calcHeight();\n      for (let t of e) t.setCellHeight();\n    }\n  }\n  class b extends e {\n    constructor(e) {\n      super(e), this.element = this.createHolderElement(), this.tableElement = this.createTableElement(), this.heightFixer = this.createTableElement(), this.placeholder = null, this.placeholderContents = null, this.firstRender = !1, this.renderMode = \"virtual\", this.fixedHeight = !1, this.rows = [], this.activeRowsPipeline = [], this.activeRows = [], this.activeRowsCount = 0, this.displayRows = [], this.displayRowsCount = 0, this.scrollTop = 0, this.scrollLeft = 0, this.redrawBlock = !1, this.redrawBlockRestoreConfig = !1, this.redrawBlockRenderInPosition = !1, this.dataPipeline = [], this.displayPipeline = [], this.scrollbarWidth = 0, this.renderer = null;\n    }\n    createHolderElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-tableholder\"), e.setAttribute(\"tabindex\", 0), e;\n    }\n    createTableElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-table\"), e.setAttribute(\"role\", \"rowgroup\"), e;\n    }\n    initializePlaceholder() {\n      var e = this.table.options.placeholder;\n      if (\"function\" == typeof e && (e = e.call(this.table)), e = this.chain(\"placeholder\", [e], e, e) || e) {\n        let t = document.createElement(\"div\");\n        if (t.classList.add(\"tabulator-placeholder\"), \"string\" == typeof e) {\n          let i = document.createElement(\"div\");\n          i.classList.add(\"tabulator-placeholder-contents\"), i.innerHTML = e, t.appendChild(i), this.placeholderContents = i;\n        } else \"undefined\" != typeof HTMLElement && e instanceof HTMLElement ? (t.appendChild(e), this.placeholderContents = e) : (console.warn(\"Invalid placeholder provided, must be string or HTML Element\", e), this.el = null);\n        this.placeholder = t;\n      }\n    }\n    getElement() {\n      return this.element;\n    }\n    getTableElement() {\n      return this.tableElement;\n    }\n    initialize() {\n      this.initializePlaceholder(), this.initializeRenderer(), this.element.appendChild(this.tableElement), this.firstRender = !0, this.element.addEventListener(\"scroll\", () => {\n        var e = this.element.scrollLeft,\n          t = this.scrollLeft > e,\n          i = this.element.scrollTop,\n          s = this.scrollTop > i;\n        this.scrollLeft != e && (this.scrollLeft = e, this.dispatch(\"scroll-horizontal\", e, t), this.dispatchExternal(\"scrollHorizontal\", e, t), this._positionPlaceholder()), this.scrollTop != i && (this.scrollTop = i, this.renderer.scrollRows(i, s), this.dispatch(\"scroll-vertical\", i, s), this.dispatchExternal(\"scrollVertical\", i, s));\n      });\n    }\n    findRow(e) {\n      if (\"object\" != typeof e) {\n        if (void 0 === e) return !1;\n        return this.rows.find(t => t.data[this.table.options.index] == e) || !1;\n      }\n      if (e instanceof p) return e;\n      if (e instanceof u) return e._getSelf() || !1;\n      if (\"undefined\" != typeof HTMLElement && e instanceof HTMLElement) {\n        return this.rows.find(t => t.getElement() === e) || !1;\n      }\n      return !1;\n    }\n    getRowFromDataObject(e) {\n      return this.rows.find(t => t.data === e) || !1;\n    }\n    getRowFromPosition(e) {\n      return this.getDisplayRows().find(t => t.getPosition() === e && t.isDisplayed());\n    }\n    scrollToRow(e, t, i) {\n      return this.renderer.scrollToRowPosition(e, t, i);\n    }\n    setData(e, t, i) {\n      return new Promise((s, o) => {\n        t && this.getDisplayRows().length ? this.table.options.pagination ? this._setDataActual(e, !0) : this.reRenderInPosition(() => {\n          this._setDataActual(e);\n        }) : (this.table.options.autoColumns && i && this.table.initialized && this.table.columnManager.generateColumnsFromRowData(e), this.resetScroll(), this._setDataActual(e)), s();\n      });\n    }\n    _setDataActual(e, t) {\n      this.dispatchExternal(\"dataProcessing\", e), this._wipeElements(), Array.isArray(e) ? (this.dispatch(\"data-processing\", e), e.forEach((e, t) => {\n        if (e && \"object\" == typeof e) {\n          var i = new p(e, this);\n          this.rows.push(i);\n        } else console.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", e);\n      }), this.refreshActiveData(!1, !1, t), this.dispatch(\"data-processed\", e), this.dispatchExternal(\"dataProcessed\", e)) : console.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof e, \"\\nData:     \", e);\n    }\n    _wipeElements() {\n      this.dispatch(\"rows-wipe\"), this.destroy(), this.adjustTableSize(), this.dispatch(\"rows-wiped\");\n    }\n    destroy() {\n      this.rows.forEach(e => {\n        e.wipe();\n      }), this.rows = [], this.activeRows = [], this.activeRowsPipeline = [], this.activeRowsCount = 0, this.displayRows = [], this.displayRowsCount = 0;\n    }\n    deleteRow(e, t) {\n      var i = this.rows.indexOf(e),\n        s = this.activeRows.indexOf(e);\n      s > -1 && this.activeRows.splice(s, 1), i > -1 && this.rows.splice(i, 1), this.setActiveRows(this.activeRows), this.displayRowIterator(t => {\n        var i = t.indexOf(e);\n        i > -1 && t.splice(i, 1);\n      }), t || this.reRenderInPosition(), this.regenerateRowPositions(), this.dispatchExternal(\"rowDeleted\", e.getComponent()), this.displayRowsCount || this.tableEmpty(), this.subscribedExternal(\"dataChanged\") && this.dispatchExternal(\"dataChanged\", this.getData());\n    }\n    addRow(e, t, i, s) {\n      return this.addRowActual(e, t, i, s);\n    }\n    addRows(e, t, i, s) {\n      var o = [];\n      return new Promise((n, r) => {\n        t = this.findAddRowPos(t), Array.isArray(e) || (e = [e]), (void 0 === i && t || void 0 !== i && !t) && e.reverse(), e.forEach((e, s) => {\n          var n = this.addRow(e, t, i, !0);\n          o.push(n), this.dispatch(\"row-added\", n, e, t, i);\n        }), this.refreshActiveData(!!s && \"displayPipeline\", !1, !0), this.regenerateRowPositions(), o.length && this._clearPlaceholder(), n(o);\n      });\n    }\n    findAddRowPos(e) {\n      return void 0 === e && (e = this.table.options.addRowPos), \"pos\" === e && (e = !0), \"bottom\" === e && (e = !1), e;\n    }\n    addRowActual(e, t, i, s) {\n      var o,\n        n,\n        r = e instanceof p ? e : new p(e || {}, this),\n        a = this.findAddRowPos(t),\n        l = -1;\n      return i || (n = this.chain(\"row-adding-position\", [r, a], null, {\n        index: i,\n        top: a\n      }), i = n.index, a = n.top), void 0 !== i && (i = this.findRow(i)), (i = this.chain(\"row-adding-index\", [r, i, a], null, i)) && (l = this.rows.indexOf(i)), i && l > -1 ? (o = this.activeRows.indexOf(i), this.displayRowIterator(function (e) {\n        var t = e.indexOf(i);\n        t > -1 && e.splice(a ? t : t + 1, 0, r);\n      }), o > -1 && this.activeRows.splice(a ? o : o + 1, 0, r), this.rows.splice(a ? l : l + 1, 0, r)) : a ? (this.displayRowIterator(function (e) {\n        e.unshift(r);\n      }), this.activeRows.unshift(r), this.rows.unshift(r)) : (this.displayRowIterator(function (e) {\n        e.push(r);\n      }), this.activeRows.push(r), this.rows.push(r)), this.setActiveRows(this.activeRows), this.dispatchExternal(\"rowAdded\", r.getComponent()), this.subscribedExternal(\"dataChanged\") && this.dispatchExternal(\"dataChanged\", this.table.rowManager.getData()), s || this.reRenderInPosition(), r;\n    }\n    moveRow(e, t, i) {\n      this.dispatch(\"row-move\", e, t, i), this.moveRowActual(e, t, i), this.regenerateRowPositions(), this.dispatch(\"row-moved\", e, t, i), this.dispatchExternal(\"rowMoved\", e.getComponent());\n    }\n    moveRowActual(e, t, i) {\n      this.moveRowInArray(this.rows, e, t, i), this.moveRowInArray(this.activeRows, e, t, i), this.displayRowIterator(s => {\n        this.moveRowInArray(s, e, t, i);\n      }), this.dispatch(\"row-moving\", e, t, i);\n    }\n    moveRowInArray(e, t, i, s) {\n      var o, n, r;\n      if (t !== i && ((o = e.indexOf(t)) > -1 && (e.splice(o, 1), (n = e.indexOf(i)) > -1 ? s ? e.splice(n + 1, 0, t) : e.splice(n, 0, t) : e.splice(o, 0, t)), e === this.getDisplayRows())) {\n        r = n > o ? n : o + 1;\n        for (let t = o < n ? o : n; t <= r; t++) e[t] && this.styleRow(e[t], t);\n      }\n    }\n    clearData() {\n      this.setData([]);\n    }\n    getRowIndex(e) {\n      return this.findRowIndex(e, this.rows);\n    }\n    getDisplayRowIndex(e) {\n      var t = this.getDisplayRows().indexOf(e);\n      return t > -1 && t;\n    }\n    nextDisplayRow(e, t) {\n      var i = this.getDisplayRowIndex(e),\n        s = !1;\n      return !1 !== i && i < this.displayRowsCount - 1 && (s = this.getDisplayRows()[i + 1]), !s || s instanceof p && \"row\" == s.type ? s : this.nextDisplayRow(s, t);\n    }\n    prevDisplayRow(e, t) {\n      var i = this.getDisplayRowIndex(e),\n        s = !1;\n      return i && (s = this.getDisplayRows()[i - 1]), !t || !s || s instanceof p && \"row\" == s.type ? s : this.prevDisplayRow(s, t);\n    }\n    findRowIndex(e, t) {\n      var i;\n      return !!((e = this.findRow(e)) && (i = t.indexOf(e)) > -1) && i;\n    }\n    getData(e, t) {\n      var i = [];\n      return this.getRows(e).forEach(function (e) {\n        \"row\" == e.type && i.push(e.getData(t || \"data\"));\n      }), i;\n    }\n    getComponents(e) {\n      var t = [];\n      return this.getRows(e).forEach(function (e) {\n        t.push(e.getComponent());\n      }), t;\n    }\n    getDataCount(e) {\n      return this.getRows(e).length;\n    }\n    scrollHorizontal(e) {\n      this.scrollLeft = e, this.element.scrollLeft = e, this.dispatch(\"scroll-horizontal\", e);\n    }\n    registerDataPipelineHandler(e, t) {\n      void 0 !== t ? (this.dataPipeline.push({\n        handler: e,\n        priority: t\n      }), this.dataPipeline.sort((e, t) => e.priority - t.priority)) : console.error(\"Data pipeline handlers must have a priority in order to be registered\");\n    }\n    registerDisplayPipelineHandler(e, t) {\n      void 0 !== t ? (this.displayPipeline.push({\n        handler: e,\n        priority: t\n      }), this.displayPipeline.sort((e, t) => e.priority - t.priority)) : console.error(\"Display pipeline handlers must have a priority in order to be registered\");\n    }\n    refreshActiveData(e, t, i) {\n      var s = this.table,\n        o = \"\",\n        n = 0,\n        a = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n      if (!this.table.destroyed) {\n        if (\"function\" == typeof e) {\n          if ((n = this.dataPipeline.findIndex(t => t.handler === e)) > -1) o = \"dataPipeline\", t && (n == this.dataPipeline.length - 1 ? o = \"display\" : n++);else {\n            if (!((n = this.displayPipeline.findIndex(t => t.handler === e)) > -1)) return void console.error(\"Unable to refresh data, invalid handler provided\", e);\n            o = \"displayPipeline\", t && (n == this.displayPipeline.length - 1 ? o = \"end\" : n++);\n          }\n        } else o = e || \"all\", n = 0;\n        if (this.redrawBlock) return void ((!this.redrawBlockRestoreConfig || this.redrawBlockRestoreConfig && (this.redrawBlockRestoreConfig.stage === o && n < this.redrawBlockRestoreConfig.index || a.indexOf(o) < a.indexOf(this.redrawBlockRestoreConfig.stage))) && (this.redrawBlockRestoreConfig = {\n          handler: e,\n          skipStage: t,\n          renderInPosition: i,\n          stage: o,\n          index: n\n        }));\n        r.elVisible(this.element) ? i ? this.reRenderInPosition(this.refreshPipelines.bind(this, e, o, n, i)) : (this.refreshPipelines(e, o, n, i), e || this.table.columnManager.renderer.renderColumns(), this.renderTable(), s.options.layoutColumnsOnNewData && this.table.columnManager.redraw(!0)) : this.refreshPipelines(e, o, n, i), this.dispatch(\"data-refreshed\");\n      }\n    }\n    refreshPipelines(e, t, i, s) {\n      switch (this.dispatch(\"data-refreshing\"), e || (this.activeRowsPipeline[0] = this.rows.slice(0)), t) {\n        case \"all\":\n        case \"dataPipeline\":\n          for (let e = i; e < this.dataPipeline.length; e++) {\n            let t = this.dataPipeline[e].handler(this.activeRowsPipeline[e].slice(0));\n            this.activeRowsPipeline[e + 1] = t || this.activeRowsPipeline[e].slice(0);\n          }\n          this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n        case \"display\":\n          i = 0, this.resetDisplayRows();\n        case \"displayPipeline\":\n          for (let e = i; e < this.displayPipeline.length; e++) {\n            let t = this.displayPipeline[e].handler((e ? this.getDisplayRows(e - 1) : this.activeRows).slice(0), s);\n            this.setDisplayRows(t || this.getDisplayRows(e - 1).slice(0), e);\n          }\n        case \"end\":\n          this.regenerateRowPositions();\n      }\n      this.getDisplayRows().length && this._clearPlaceholder();\n    }\n    regenerateRowPositions() {\n      var e = this.getDisplayRows(),\n        t = 1;\n      e.forEach(e => {\n        \"row\" === e.type && (e.setPosition(t), t++);\n      });\n    }\n    setActiveRows(e) {\n      this.activeRows = this.activeRows = Object.assign([], e), this.activeRowsCount = this.activeRows.length;\n    }\n    resetDisplayRows() {\n      this.displayRows = [], this.displayRows.push(this.activeRows.slice(0)), this.displayRowsCount = this.displayRows[0].length;\n    }\n    setDisplayRows(e, t) {\n      this.displayRows[t] = e, t == this.displayRows.length - 1 && (this.displayRowsCount = this.displayRows[this.displayRows.length - 1].length);\n    }\n    getDisplayRows(e) {\n      return void 0 === e ? this.displayRows.length ? this.displayRows[this.displayRows.length - 1] : [] : this.displayRows[e] || [];\n    }\n    getVisibleRows(e, t) {\n      var i = Object.assign([], this.renderer.visibleRows(!t));\n      return e && (i = this.chain(\"rows-visible\", [t], i, i)), i;\n    }\n    displayRowIterator(e) {\n      this.activeRowsPipeline.forEach(e), this.displayRows.forEach(e), this.displayRowsCount = this.displayRows[this.displayRows.length - 1].length;\n    }\n    getRows(e) {\n      var t = [];\n      switch (e) {\n        case \"active\":\n          t = this.activeRows;\n          break;\n        case \"display\":\n          t = this.table.rowManager.getDisplayRows();\n          break;\n        case \"visible\":\n          t = this.getVisibleRows(!1, !0);\n          break;\n        default:\n          t = this.chain(\"rows-retrieve\", e, null, this.rows) || this.rows;\n      }\n      return t;\n    }\n    reRenderInPosition(e) {\n      this.redrawBlock ? e ? e() : this.redrawBlockRenderInPosition = !0 : (this.dispatchExternal(\"renderStarted\"), this.renderer.rerenderRows(e), this.fixedHeight || this.adjustTableSize(), this.scrollBarCheck(), this.dispatchExternal(\"renderComplete\"));\n    }\n    scrollBarCheck() {\n      var e = 0;\n      this.element.scrollHeight > this.element.clientHeight && (e = this.element.offsetWidth - this.element.clientWidth), e !== this.scrollbarWidth && (this.scrollbarWidth = e, this.dispatch(\"scrollbar-vertical\", e));\n    }\n    initializeRenderer() {\n      var e,\n        t = {\n          virtual: g,\n          basic: m\n        };\n      (e = \"string\" == typeof this.table.options.renderVertical ? t[this.table.options.renderVertical] : this.table.options.renderVertical) ? (this.renderMode = this.table.options.renderVertical, this.renderer = new e(this.table, this.element, this.tableElement), this.renderer.initialize(), !this.table.element.clientHeight && !this.table.options.height || this.table.options.minHeight && this.table.options.maxHeight ? this.fixedHeight = !1 : this.fixedHeight = !0) : console.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n    }\n    getRenderMode() {\n      return this.renderMode;\n    }\n    renderTable() {\n      this.dispatchExternal(\"renderStarted\"), this.element.scrollTop = 0, this._clearTable(), this.displayRowsCount ? (this.renderer.renderRows(), this.firstRender && (this.firstRender = !1, this.fixedHeight || this.adjustTableSize(), this.layoutRefresh(!0))) : this.renderEmptyScroll(), this.fixedHeight || this.adjustTableSize(), this.dispatch(\"table-layout\"), this.displayRowsCount || this._showPlaceholder(), this.scrollBarCheck(), this.dispatchExternal(\"renderComplete\");\n    }\n    renderEmptyScroll() {\n      this.placeholder ? this.tableElement.style.display = \"none\" : this.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n    }\n    _clearTable() {\n      this._clearPlaceholder(), this.scrollTop = 0, this.scrollLeft = 0, this.renderer.clearRows();\n    }\n    tableEmpty() {\n      this.renderEmptyScroll(), this._showPlaceholder();\n    }\n    _showPlaceholder() {\n      this.placeholder && (this.placeholder && this.placeholder.parentNode && this.placeholder.parentNode.removeChild(this.placeholder), this.initializePlaceholder(), this.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode), this.getElement().appendChild(this.placeholder), this._positionPlaceholder(), this.adjustTableSize());\n    }\n    _clearPlaceholder() {\n      this.placeholder && this.placeholder.parentNode && this.placeholder.parentNode.removeChild(this.placeholder), this.tableElement.style.minWidth = \"\", this.tableElement.style.display = \"\";\n    }\n    _positionPlaceholder() {\n      this.placeholder && this.placeholder.parentNode && (this.placeholder.style.width = this.table.columnManager.getWidth() + \"px\", this.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\", this.placeholderContents.style.marginLeft = this.scrollLeft + \"px\");\n    }\n    styleRow(e, t) {\n      var i = e.getElement();\n      t % 2 ? (i.classList.add(\"tabulator-row-even\"), i.classList.remove(\"tabulator-row-odd\")) : (i.classList.add(\"tabulator-row-odd\"), i.classList.remove(\"tabulator-row-even\"));\n    }\n    normalizeHeight() {\n      this.activeRows.forEach(function (e) {\n        e.normalizeHeight();\n      });\n    }\n    adjustTableSize() {\n      let e,\n        t = this.element.clientHeight,\n        i = !1;\n      if (\"fill\" === this.renderer.verticalFillMode) {\n        let s = Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n        if (this.fixedHeight) {\n          e = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n          const t = \"calc(100% - \" + s + \"px)\";\n          this.element.style.minHeight = e || \"calc(100% - \" + s + \"px)\", this.element.style.height = t, this.element.style.maxHeight = t;\n        } else this.element.style.height = \"\", this.element.style.height = this.table.element.clientHeight - s + \"px\", this.element.scrollTop = this.scrollTop;\n        this.renderer.resize(), this.fixedHeight || t == this.element.clientHeight || (i = !0, this.subscribed(\"table-resize\") ? this.dispatch(\"table-resize\") : this.redraw()), this.scrollBarCheck();\n      }\n      return this._positionPlaceholder(), i;\n    }\n    reinitialize() {\n      this.rows.forEach(function (e) {\n        e.reinitialize(!0);\n      });\n    }\n    blockRedraw() {\n      this.redrawBlock = !0, this.redrawBlockRestoreConfig = !1;\n    }\n    restoreRedraw() {\n      this.redrawBlock = !1, this.redrawBlockRestoreConfig ? (this.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition), this.redrawBlockRestoreConfig = !1) : this.redrawBlockRenderInPosition && this.reRenderInPosition(), this.redrawBlockRenderInPosition = !1;\n    }\n    redraw(e) {\n      const t = this.adjustTableSize();\n      this.table.tableWidth = this.table.element.clientWidth, e ? this.renderTable() : (t && this.reRenderInPosition(), this.scrollHorizontal(this.scrollLeft));\n    }\n    resetScroll() {\n      if (this.element.scrollLeft = 0, this.element.scrollTop = 0, \"ie\" === this.table.browser) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(\"scroll\", !1, !0), this.element.dispatchEvent(e);\n      } else this.element.dispatchEvent(new Event(\"scroll\"));\n    }\n  }\n  class f extends e {\n    constructor(e) {\n      super(e), this.active = !1, this.element = this.createElement(), this.containerElement = this.createContainerElement(), this.external = !1;\n    }\n    initialize() {\n      this.initializeElement();\n    }\n    createElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-footer\"), e;\n    }\n    createContainerElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-footer-contents\"), this.element.appendChild(e), e;\n    }\n    initializeElement() {\n      if (this.table.options.footerElement) if (\"string\" == typeof this.table.options.footerElement) \"<\" === this.table.options.footerElement[0] ? this.containerElement.innerHTML = this.table.options.footerElement : (this.external = !0, this.containerElement = document.querySelector(this.table.options.footerElement));else this.element = this.table.options.footerElement;\n    }\n    getElement() {\n      return this.element;\n    }\n    append(e) {\n      this.activate(), this.containerElement.appendChild(e), this.table.rowManager.adjustTableSize();\n    }\n    prepend(e) {\n      this.activate(), this.element.insertBefore(e, this.element.firstChild), this.table.rowManager.adjustTableSize();\n    }\n    remove(e) {\n      e.parentNode.removeChild(e), this.deactivate();\n    }\n    deactivate(e) {\n      this.element.firstChild && !e || (this.external || this.element.parentNode.removeChild(this.element), this.active = !1);\n    }\n    activate() {\n      this.active || (this.active = !0, this.external || (this.table.element.appendChild(this.getElement()), this.table.element.style.display = \"\"));\n    }\n    redraw() {\n      this.dispatch(\"footer-redraw\");\n    }\n  }\n  class v extends e {\n    constructor(e) {\n      super(e), this.el = null, this.abortClasses = [\"tabulator-headers\", \"tabulator-table\"], this.previousTargets = {}, this.listeners = [\"click\", \"dblclick\", \"contextmenu\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mousemove\", \"mouseup\", \"mousedown\", \"touchstart\", \"touchend\"], this.componentMap = {\n        \"tabulator-cell\": \"cell\",\n        \"tabulator-row\": \"row\",\n        \"tabulator-group\": \"group\",\n        \"tabulator-col\": \"column\"\n      }, this.pseudoTrackers = {\n        row: {\n          subscriber: null,\n          target: null\n        },\n        cell: {\n          subscriber: null,\n          target: null\n        },\n        group: {\n          subscriber: null,\n          target: null\n        },\n        column: {\n          subscriber: null,\n          target: null\n        }\n      }, this.pseudoTracking = !1;\n    }\n    initialize() {\n      this.el = this.table.element, this.buildListenerMap(), this.bindSubscriptionWatchers();\n    }\n    buildListenerMap() {\n      var e = {};\n      this.listeners.forEach(t => {\n        e[t] = {\n          handler: null,\n          components: []\n        };\n      }), this.listeners = e;\n    }\n    bindPseudoEvents() {\n      Object.keys(this.pseudoTrackers).forEach(e => {\n        this.pseudoTrackers[e].subscriber = this.pseudoMouseEnter.bind(this, e), this.subscribe(e + \"-mouseover\", this.pseudoTrackers[e].subscriber);\n      }), this.pseudoTracking = !0;\n    }\n    pseudoMouseEnter(e, t, i) {\n      this.pseudoTrackers[e].target !== i && (this.pseudoTrackers[e].target && this.dispatch(e + \"-mouseleave\", t, this.pseudoTrackers[e].target), this.pseudoMouseLeave(e, t), this.pseudoTrackers[e].target = i, this.dispatch(e + \"-mouseenter\", t, i));\n    }\n    pseudoMouseLeave(e, t) {\n      var i = Object.keys(this.pseudoTrackers),\n        s = {\n          row: [\"cell\"],\n          cell: [\"row\"]\n        };\n      (i = i.filter(t => {\n        var i = s[e];\n        return t !== e && (!i || i && !i.includes(t));\n      })).forEach(e => {\n        var i = this.pseudoTrackers[e].target;\n        this.pseudoTrackers[e].target && (this.dispatch(e + \"-mouseleave\", t, i), this.pseudoTrackers[e].target = null);\n      });\n    }\n    bindSubscriptionWatchers() {\n      var e = Object.keys(this.listeners),\n        t = Object.values(this.componentMap);\n      for (let i of t) for (let t of e) {\n        let e = i + \"-\" + t;\n        this.subscriptionChange(e, this.subscriptionChanged.bind(this, i, t));\n      }\n      this.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n    }\n    subscriptionChanged(e, t, i) {\n      var s = this.listeners[t].components,\n        o = s.indexOf(e),\n        n = !1;\n      i ? -1 === o && (s.push(e), n = !0) : this.subscribed(e + \"-\" + t) || o > -1 && (s.splice(o, 1), n = !0), \"mouseenter\" !== t && \"mouseleave\" !== t || this.pseudoTracking || this.bindPseudoEvents(), n && this.updateEventListeners();\n    }\n    updateEventListeners() {\n      for (let e in this.listeners) {\n        let t = this.listeners[e];\n        t.components.length ? t.handler || (t.handler = this.track.bind(this, e), this.el.addEventListener(e, t.handler)) : t.handler && (this.el.removeEventListener(e, t.handler), t.handler = null);\n      }\n    }\n    track(e, t) {\n      var i = t.composedPath && t.composedPath() || t.path,\n        s = this.findTargets(i);\n      s = this.bindComponents(e, s), this.triggerEvents(e, t, s), !this.pseudoTracking || \"mouseover\" != e && \"mouseleave\" != e || Object.keys(s).length || this.pseudoMouseLeave(\"none\", t);\n    }\n    findTargets(e) {\n      var t = {};\n      let i = Object.keys(this.componentMap);\n      for (let s of e) {\n        let e = s.classList ? [...s.classList] : [];\n        if (e.filter(e => this.abortClasses.includes(e)).length) break;\n        let o = e.filter(e => i.includes(e));\n        for (let e of o) t[this.componentMap[e]] || (t[this.componentMap[e]] = s);\n      }\n      return t.group && t.group === t.row && delete t.row, t;\n    }\n    bindComponents(e, t) {\n      var i = Object.keys(t).reverse(),\n        s = this.listeners[e],\n        o = {},\n        n = {};\n      for (let e of i) {\n        let i,\n          r = t[e],\n          a = this.previousTargets[e];\n        if (a && a.target === r) i = a.component;else switch (e) {\n          case \"row\":\n          case \"group\":\n            if (s.components.includes(\"row\") || s.components.includes(\"cell\") || s.components.includes(\"group\")) {\n              i = this.table.rowManager.getVisibleRows(!0).find(e => e.getElement() === r), t.row && t.row.parentNode && t.row.parentNode.closest(\".tabulator-row\") && (t[e] = !1);\n            }\n            break;\n          case \"column\":\n            s.components.includes(\"column\") && (i = this.table.columnManager.findColumn(r));\n            break;\n          case \"cell\":\n            s.components.includes(\"cell\") && (o.row instanceof p ? i = o.row.findCell(r) : t.row && console.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\"));\n        }\n        i && (o[e] = i, n[e] = {\n          target: r,\n          component: i\n        });\n      }\n      return this.previousTargets = n, o;\n    }\n    triggerEvents(e, t, i) {\n      var s = this.listeners[e];\n      for (let o in i) i[o] && s.components.includes(o) && this.dispatch(o + \"-\" + e, t, i[o]);\n    }\n    clearWatchers() {\n      for (let e in this.listeners) {\n        let t = this.listeners[e];\n        t.handler && (this.el.removeEventListener(e, t.handler), t.handler = null);\n      }\n    }\n  }\n  class w {\n    constructor(e) {\n      this.table = e, this.bindings = {};\n    }\n    bind(e, t, i) {\n      this.bindings[e] || (this.bindings[e] = {}), this.bindings[e][t] ? console.warn(\"Unable to bind component handler, a matching function name is already bound\", e, t, i) : this.bindings[e][t] = i;\n    }\n    handle(e, t, i) {\n      if (this.bindings[e] && this.bindings[e][i] && \"function\" == typeof this.bindings[e][i].bind) return this.bindings[e][i].bind(null, t);\n      \"then\" === i || \"string\" != typeof i || i.startsWith(\"_\") || this.table.options.debugInvalidComponentFuncs && console.error(\"The \" + e + \" component does not have a \" + i + \" function, have you checked that you have the correct Tabulator module installed?\");\n    }\n  }\n  class C extends e {\n    constructor(e) {\n      super(e), this.requestOrder = 0, this.loading = !1;\n    }\n    initialize() {}\n    load(e, t, i, s, o, n) {\n      var r = ++this.requestOrder;\n      return this.table.destroyed ? Promise.resolve() : (this.dispatchExternal(\"dataLoading\", e), !e || 0 != e.indexOf(\"{\") && 0 != e.indexOf(\"[\") || (e = JSON.parse(e)), this.confirm(\"data-loading\", [e, t, i, o]) ? (this.loading = !0, o || this.alertLoader(), t = this.chain(\"data-params\", [e, i, o], t || {}, t || {}), t = this.mapParams(t, this.table.options.dataSendParams), this.chain(\"data-load\", [e, t, i, o], !1, Promise.resolve([])).then(e => {\n        if (this.table.destroyed) console.warn(\"Data Load Response Blocked - Table has been destroyed\");else {\n          Array.isArray(e) || \"object\" != typeof e || (e = this.mapParams(e, this.objectInvert(this.table.options.dataReceiveParams)));\n          var t = this.chain(\"data-loaded\", e, null, e);\n          r == this.requestOrder ? (this.clearAlert(), !1 !== t && (this.dispatchExternal(\"dataLoaded\", t), this.table.rowManager.setData(t, s, void 0 === n ? !s : n))) : console.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n        }\n      }).catch(e => {\n        console.error(\"Data Load Error: \", e), this.dispatchExternal(\"dataLoadError\", e), o || this.alertError(), setTimeout(() => {\n          this.clearAlert();\n        }, this.table.options.dataLoaderErrorTimeout);\n      }).finally(() => {\n        this.loading = !1;\n      })) : (this.dispatchExternal(\"dataLoaded\", e), e || (e = []), this.table.rowManager.setData(e, s, void 0 === n ? !s : n), Promise.resolve()));\n    }\n    mapParams(e, t) {\n      var i = {};\n      for (let s in e) i[t.hasOwnProperty(s) ? t[s] : s] = e[s];\n      return i;\n    }\n    objectInvert(e) {\n      var t = {};\n      for (let i in e) t[e[i]] = i;\n      return t;\n    }\n    blockActiveLoad() {\n      this.requestOrder++;\n    }\n    alertLoader() {\n      (\"function\" == typeof this.table.options.dataLoader ? this.table.options.dataLoader() : this.table.options.dataLoader) && this.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n    }\n    alertError() {\n      this.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n    }\n    clearAlert() {\n      this.table.alertManager.clear();\n    }\n  }\n  class E {\n    constructor(e, t, i) {\n      this.table = e, this.events = {}, this.optionsList = t || {}, this.subscriptionNotifiers = {}, this.dispatch = i ? this._debugDispatch.bind(this) : this._dispatch.bind(this), this.debug = i;\n    }\n    subscriptionChange(e, t) {\n      this.subscriptionNotifiers[e] || (this.subscriptionNotifiers[e] = []), this.subscriptionNotifiers[e].push(t), this.subscribed(e) && this._notifySubscriptionChange(e, !0);\n    }\n    subscribe(e, t) {\n      this.events[e] || (this.events[e] = []), this.events[e].push(t), this._notifySubscriptionChange(e, !0);\n    }\n    unsubscribe(e, t) {\n      var i;\n      if (this.events[e]) {\n        if (t) {\n          if (!((i = this.events[e].findIndex(e => e === t)) > -1)) return void console.warn(\"Cannot remove event, no matching event found:\", e, t);\n          this.events[e].splice(i, 1);\n        } else delete this.events[e];\n        this._notifySubscriptionChange(e, !1);\n      } else console.warn(\"Cannot remove event, no events set on:\", e);\n    }\n    subscribed(e) {\n      return this.events[e] && this.events[e].length;\n    }\n    _notifySubscriptionChange(e, t) {\n      var i = this.subscriptionNotifiers[e];\n      i && i.forEach(e => {\n        e(t);\n      });\n    }\n    _dispatch() {\n      var e,\n        t = Array.from(arguments),\n        i = t.shift();\n      return this.events[i] && this.events[i].forEach((i, s) => {\n        let o = i.apply(this.table, t);\n        s || (e = o);\n      }), e;\n    }\n    _debugDispatch() {\n      var e = Array.from(arguments),\n        t = e[0];\n      return e[0] = \"ExternalEvent:\" + e[0], (!0 === this.debug || this.debug.includes(t)) && console.log(...e), this._dispatch(...arguments);\n    }\n  }\n  class y {\n    constructor(e) {\n      this.events = {}, this.subscriptionNotifiers = {}, this.dispatch = e ? this._debugDispatch.bind(this) : this._dispatch.bind(this), this.chain = e ? this._debugChain.bind(this) : this._chain.bind(this), this.confirm = e ? this._debugConfirm.bind(this) : this._confirm.bind(this), this.debug = e;\n    }\n    subscriptionChange(e, t) {\n      this.subscriptionNotifiers[e] || (this.subscriptionNotifiers[e] = []), this.subscriptionNotifiers[e].push(t), this.subscribed(e) && this._notifySubscriptionChange(e, !0);\n    }\n    subscribe(e, t, i = 1e4) {\n      this.events[e] || (this.events[e] = []), this.events[e].push({\n        callback: t,\n        priority: i\n      }), this.events[e].sort((e, t) => e.priority - t.priority), this._notifySubscriptionChange(e, !0);\n    }\n    unsubscribe(e, t) {\n      var i;\n      if (this.events[e]) {\n        if (t) {\n          if (!((i = this.events[e].findIndex(e => e.callback === t)) > -1)) return void console.warn(\"Cannot remove event, no matching event found:\", e, t);\n          this.events[e].splice(i, 1);\n        }\n        this._notifySubscriptionChange(e, !1);\n      } else console.warn(\"Cannot remove event, no events set on:\", e);\n    }\n    subscribed(e) {\n      return this.events[e] && this.events[e].length;\n    }\n    _chain(e, t, i, s) {\n      var o = i;\n      return Array.isArray(t) || (t = [t]), this.subscribed(e) ? (this.events[e].forEach((e, i) => {\n        o = e.callback.apply(this, t.concat([o]));\n      }), o) : \"function\" == typeof s ? s() : s;\n    }\n    _confirm(e, t) {\n      var i = !1;\n      return Array.isArray(t) || (t = [t]), this.subscribed(e) && this.events[e].forEach((e, s) => {\n        e.callback.apply(this, t) && (i = !0);\n      }), i;\n    }\n    _notifySubscriptionChange(e, t) {\n      var i = this.subscriptionNotifiers[e];\n      i && i.forEach(e => {\n        e(t);\n      });\n    }\n    _dispatch() {\n      var e = Array.from(arguments),\n        t = e.shift();\n      this.events[t] && this.events[t].forEach(t => {\n        t.callback.apply(this, e);\n      });\n    }\n    _debugDispatch() {\n      var e = Array.from(arguments),\n        t = e[0];\n      return e[0] = \"InternalEvent:\" + t, (!0 === this.debug || this.debug.includes(t)) && console.log(...e), this._dispatch(...arguments);\n    }\n    _debugChain() {\n      var e = Array.from(arguments),\n        t = e[0];\n      return e[0] = \"InternalEvent:\" + t, (!0 === this.debug || this.debug.includes(t)) && console.log(...e), this._chain(...arguments);\n    }\n    _debugConfirm() {\n      var e = Array.from(arguments),\n        t = e[0];\n      return e[0] = \"InternalEvent:\" + t, (!0 === this.debug || this.debug.includes(t)) && console.log(...e), this._confirm(...arguments);\n    }\n  }\n  class R extends e {\n    constructor(e) {\n      super(e);\n    }\n    _warnUser() {\n      this.options(\"debugDeprecation\") && console.warn(...arguments);\n    }\n    check(e, t) {\n      var i = \"\";\n      return void 0 === this.options(e) || (i = \"Deprecated Setup Option - Use of the %c\" + e + \"%c option is now deprecated\", t ? (i = i + \", Please use the %c\" + t + \"%c option instead\", this._warnUser(i, \"font-weight: bold;\", \"font-weight: normal;\", \"font-weight: bold;\", \"font-weight: normal;\")) : this._warnUser(i, \"font-weight: bold;\", \"font-weight: normal;\"), !1);\n    }\n    checkMsg(e, t) {\n      return void 0 === this.options(e) || (this._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + e + \" %c option is now deprecated, \" + t, \"font-weight: normal;\", \"font-weight: bold;\", \"font-weight: normal;\"), !1);\n    }\n    msg(e) {\n      this._warnUser(e);\n    }\n  }\n  class x {\n    static register(e) {\n      x.tables.push(e);\n    }\n    static deregister(e) {\n      var t = x.tables.indexOf(e);\n      t > -1 && x.tables.splice(t, 1);\n    }\n    static lookupTable(e, t) {\n      var i,\n        s,\n        o = [];\n      if (\"string\" == typeof e) {\n        if ((i = document.querySelectorAll(e)).length) for (var n = 0; n < i.length; n++) (s = x.matchElement(i[n])) && o.push(s);\n      } else \"undefined\" != typeof HTMLElement && e instanceof HTMLElement || e instanceof O ? (s = x.matchElement(e)) && o.push(s) : Array.isArray(e) ? e.forEach(function (e) {\n        o = o.concat(x.lookupTable(e));\n      }) : t || console.warn(\"Table Connection Error - Invalid Selector\", e);\n      return o;\n    }\n    static matchElement(e) {\n      return x.tables.find(function (t) {\n        return e instanceof O ? t === e : t.element === e;\n      });\n    }\n  }\n  x.tables = [];\n  class T extends e {\n    constructor(e, t, i) {\n      super(e), this.element = t, this.container = this._lookupContainer(), this.parent = i, this.reversedX = !1, this.childPopup = null, this.blurable = !1, this.blurCallback = null, this.blurEventsBound = !1, this.renderedCallback = null, this.visible = !1, this.hideable = !0, this.element.classList.add(\"tabulator-popup-container\"), this.blurEvent = this.hide.bind(this, !1), this.escEvent = this._escapeCheck.bind(this), this.destroyBinding = this.tableDestroyed.bind(this), this.destroyed = !1;\n    }\n    tableDestroyed() {\n      this.destroyed = !0, this.hide(!0);\n    }\n    _lookupContainer() {\n      var e = this.table.options.popupContainer;\n      return \"string\" == typeof e ? (e = document.querySelector(e)) || console.warn(\"Menu Error - no container element found matching selector:\", this.table.options.popupContainer, \"(defaulting to document body)\") : !0 === e && (e = this.table.element), e && !this._checkContainerIsParent(e) && (e = !1, console.warn(\"Menu Error - container element does not contain this table:\", this.table.options.popupContainer, \"(defaulting to document body)\")), e || (e = document.body), e;\n    }\n    _checkContainerIsParent(e, t = this.table.element) {\n      return e === t || !!t.parentNode && this._checkContainerIsParent(e, t.parentNode);\n    }\n    renderCallback(e) {\n      this.renderedCallback = e;\n    }\n    containerEventCoords(e) {\n      var t = !(e instanceof MouseEvent),\n        i = t ? e.touches[0].pageX : e.pageX,\n        s = t ? e.touches[0].pageY : e.pageY;\n      if (this.container !== document.body) {\n        let e = r.elOffset(this.container);\n        i -= e.left, s -= e.top;\n      }\n      return {\n        x: i,\n        y: s\n      };\n    }\n    elementPositionCoords(e, t = \"right\") {\n      var i,\n        s,\n        o,\n        n = r.elOffset(e);\n      switch (this.container !== document.body && (i = r.elOffset(this.container), n.left -= i.left, n.top -= i.top), t) {\n        case \"right\":\n          s = n.left + e.offsetWidth, o = n.top - 1;\n          break;\n        case \"bottom\":\n          s = n.left, o = n.top + e.offsetHeight;\n          break;\n        case \"left\":\n          s = n.left, o = n.top - 1;\n          break;\n        case \"top\":\n          s = n.left, o = n.top;\n          break;\n        case \"center\":\n          s = n.left + e.offsetWidth / 2, o = n.top + e.offsetHeight / 2;\n      }\n      return {\n        x: s,\n        y: o,\n        offset: n\n      };\n    }\n    show(e, t) {\n      var i, s, o, n, r;\n      return this.destroyed || this.table.destroyed || (e instanceof HTMLElement ? (o = e, n = (r = this.elementPositionCoords(e, t)).offset, i = r.x, s = r.y) : \"number\" == typeof e ? (n = {\n        top: 0,\n        left: 0\n      }, i = e, s = t) : (i = (r = this.containerEventCoords(e)).x, s = r.y, this.reversedX = !1), this.element.style.top = s + \"px\", this.element.style.left = i + \"px\", this.container.appendChild(this.element), \"function\" == typeof this.renderedCallback && this.renderedCallback(), this._fitToScreen(i, s, o, n, t), this.visible = !0, this.subscribe(\"table-destroy\", this.destroyBinding), this.element.addEventListener(\"mousedown\", e => {\n        e.stopPropagation();\n      })), this;\n    }\n    _fitToScreen(e, t, i, s, o) {\n      var n = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n      if ((e + this.element.offsetWidth >= this.container.offsetWidth || this.reversedX) && (this.element.style.left = \"\", this.element.style.right = i ? this.container.offsetWidth - s.left + \"px\" : this.container.offsetWidth - e + \"px\", this.reversedX = !0), t + this.element.offsetHeight > Math.max(this.container.offsetHeight, n ? this.container.scrollHeight : 0)) if (i) {\n        if (\"bottom\" === o) this.element.style.top = parseInt(this.element.style.top) - this.element.offsetHeight - i.offsetHeight - 1 + \"px\";else this.element.style.top = parseInt(this.element.style.top) - this.element.offsetHeight + i.offsetHeight + 1 + \"px\";\n      } else this.element.style.top = parseInt(this.element.style.top) - this.element.offsetHeight + \"px\";\n    }\n    isVisible() {\n      return this.visible;\n    }\n    hideOnBlur(e) {\n      return this.blurable = !0, this.visible && (setTimeout(() => {\n        this.visible && (this.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent), this.subscribe(\"cell-editing\", this.blurEvent), document.body.addEventListener(\"click\", this.blurEvent), document.body.addEventListener(\"contextmenu\", this.blurEvent), document.body.addEventListener(\"mousedown\", this.blurEvent), window.addEventListener(\"resize\", this.blurEvent), document.body.addEventListener(\"keydown\", this.escEvent), this.blurEventsBound = !0);\n      }, 100), this.blurCallback = e), this;\n    }\n    _escapeCheck(e) {\n      27 == e.keyCode && this.hide();\n    }\n    blockHide() {\n      this.hideable = !1;\n    }\n    restoreHide() {\n      this.hideable = !0;\n    }\n    hide(e = !1) {\n      return this.visible && this.hideable && (this.blurable && this.blurEventsBound && (document.body.removeEventListener(\"keydown\", this.escEvent), document.body.removeEventListener(\"click\", this.blurEvent), document.body.removeEventListener(\"contextmenu\", this.blurEvent), document.body.removeEventListener(\"mousedown\", this.blurEvent), window.removeEventListener(\"resize\", this.blurEvent), this.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent), this.unsubscribe(\"cell-editing\", this.blurEvent), this.blurEventsBound = !1), this.childPopup && this.childPopup.hide(), this.parent && (this.parent.childPopup = null), this.element.parentNode && this.element.parentNode.removeChild(this.element), this.visible = !1, this.blurCallback && !e && this.blurCallback(), this.unsubscribe(\"table-destroy\", this.destroyBinding)), this;\n    }\n    child(e) {\n      return this.childPopup && this.childPopup.hide(), this.childPopup = new T(this.table, e, this), this.childPopup;\n    }\n  }\n  class k extends e {\n    constructor(e, t) {\n      super(e), this._handler = null;\n    }\n    initialize() {}\n    registerTableOption(e, t) {\n      this.table.optionsList.register(e, t);\n    }\n    registerColumnOption(e, t) {\n      this.table.columnManager.optionsList.register(e, t);\n    }\n    registerTableFunction(e, t) {\n      void 0 === this.table[e] ? this.table[e] = (...i) => (this.table.initGuard(e), t(...i)) : console.warn(\"Unable to bind table function, name already in use\", e);\n    }\n    registerComponentFunction(e, t, i) {\n      return this.table.componentFunctionBinder.bind(e, t, i);\n    }\n    registerDataHandler(e, t) {\n      this.table.rowManager.registerDataPipelineHandler(e, t), this._handler = e;\n    }\n    registerDisplayHandler(e, t) {\n      this.table.rowManager.registerDisplayPipelineHandler(e, t), this._handler = e;\n    }\n    displayRows(e) {\n      var t,\n        i = this.table.rowManager.displayRows.length - 1;\n      if (this._handler && (t = this.table.rowManager.displayPipeline.findIndex(e => e.handler === this._handler)) > -1 && (i = t), e && (i += e), this._handler) return i > -1 ? this.table.rowManager.getDisplayRows(i) : this.activeRows();\n    }\n    activeRows() {\n      return this.table.rowManager.activeRows;\n    }\n    refreshData(e, t) {\n      t || (t = this._handler), t && this.table.rowManager.refreshActiveData(t, !1, e);\n    }\n    footerAppend(e) {\n      return this.table.footerManager.append(e);\n    }\n    footerPrepend(e) {\n      return this.table.footerManager.prepend(e);\n    }\n    footerRemove(e) {\n      return this.table.footerManager.remove(e);\n    }\n    popup(e, t) {\n      return new T(this.table, e, t);\n    }\n    alert(e, t) {\n      return this.table.alertManager.alert(e, t);\n    }\n    clearAlert() {\n      return this.table.alertManager.clear();\n    }\n  }\n  function M(e, t) {\n    e.forEach(function (e) {\n      e.reinitializeWidth();\n    }), this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", !0) && this.table.modules.responsiveLayout.update();\n  }\n  var L = {\n    fitData: function (e, t) {\n      t && this.table.columnManager.renderer.reinitializeColumnWidths(e), this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", !0) && this.table.modules.responsiveLayout.update();\n    },\n    fitDataFill: M,\n    fitDataTable: M,\n    fitDataStretch: function (e, t) {\n      var i = 0,\n        s = this.table.rowManager.element.clientWidth,\n        o = 0,\n        n = !1;\n      e.forEach((e, t) => {\n        e.widthFixed || e.reinitializeWidth(), (this.table.options.responsiveLayout ? e.modules.responsive.visible : e.visible) && (n = e), e.visible && (i += e.getWidth());\n      }), n ? (o = s - i + n.getWidth(), this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", !0) && (n.setWidth(0), this.table.modules.responsiveLayout.update()), o > 0 ? n.setWidth(o) : n.reinitializeWidth()) : this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", !0) && this.table.modules.responsiveLayout.update();\n    },\n    fitColumns: function (e, t) {\n      var i,\n        s,\n        o = this.table.rowManager.element.getBoundingClientRect().width,\n        n = 0,\n        r = 0,\n        a = 0,\n        l = [],\n        h = [],\n        d = 0,\n        c = 0;\n      function u(e) {\n        return \"string\" == typeof e ? e.indexOf(\"%\") > -1 ? o / 100 * parseInt(e) : parseInt(e) : e;\n      }\n      function p(e, t, i, s) {\n        var o = [],\n          n = 0,\n          r = 0,\n          l = 0,\n          h = a,\n          d = 0,\n          c = 0,\n          m = [];\n        function g(e) {\n          return i * (e.column.definition.widthGrow || 1);\n        }\n        function b(e) {\n          return u(e.width) - i * (e.column.definition.widthShrink || 0);\n        }\n        return e.forEach(function (e, n) {\n          var r = s ? b(e) : g(e);\n          e.column.minWidth >= r ? o.push(e) : e.column.maxWidth && e.column.maxWidth < r ? (e.width = e.column.maxWidth, t -= e.column.maxWidth, (h -= s ? e.column.definition.widthShrink || 1 : e.column.definition.widthGrow || 1) && (i = Math.floor(t / h))) : (m.push(e), c += s ? e.column.definition.widthShrink || 1 : e.column.definition.widthGrow || 1);\n        }), o.length ? (o.forEach(function (e) {\n          n += s ? e.width - e.column.minWidth : e.column.minWidth, e.width = e.column.minWidth;\n        }), r = t - n, l = c ? Math.floor(r / c) : r, d = p(m, r, l, s)) : (d = c ? t - Math.floor(t / c) * c : t, m.forEach(function (e) {\n          e.width = s ? b(e) : g(e);\n        })), d;\n      }\n      this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", !0) && this.table.modules.responsiveLayout.update(), this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight && (o -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth), e.forEach(function (e) {\n        var t, i, s;\n        e.visible && (t = e.definition.width, i = parseInt(e.minWidth), t ? (s = u(t), n += s > i ? s : i, e.definition.widthShrink && (h.push({\n          column: e,\n          width: s > i ? s : i\n        }), d += e.definition.widthShrink)) : (l.push({\n          column: e,\n          width: 0\n        }), a += e.definition.widthGrow || 1));\n      }), r = o - n, i = Math.floor(r / a), c = p(l, r, i, !1), l.length && c > 0 && (l[l.length - 1].width += c), l.forEach(function (e) {\n        r -= e.width;\n      }), (s = Math.abs(c) + r) > 0 && d && (c = p(h, s, Math.floor(s / d), !0)), c && h.length && (h[h.length - 1].width -= c), l.forEach(function (e) {\n        e.column.setWidth(e.width);\n      }), h.forEach(function (e) {\n        e.column.setWidth(e.width);\n      });\n    }\n  };\n  class S extends k {\n    constructor(e) {\n      super(e, \"layout\"), this.mode = null, this.registerTableOption(\"layout\", \"fitData\"), this.registerTableOption(\"layoutColumnsOnNewData\", !1), this.registerColumnOption(\"widthGrow\"), this.registerColumnOption(\"widthShrink\");\n    }\n    initialize() {\n      var e = this.table.options.layout;\n      S.modes[e] ? this.mode = e : (console.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + e), this.mode = \"fitData\"), this.table.element.setAttribute(\"tabulator-layout\", this.mode), this.subscribe(\"column-init\", this.initializeColumn.bind(this));\n    }\n    initializeColumn(e) {\n      e.definition.widthGrow && (e.definition.widthGrow = Number(e.definition.widthGrow)), e.definition.widthShrink && (e.definition.widthShrink = Number(e.definition.widthShrink));\n    }\n    getMode() {\n      return this.mode;\n    }\n    layout(e) {\n      this.dispatch(\"layout-refreshing\"), S.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, e), this.dispatch(\"layout-refreshed\");\n    }\n  }\n  S.moduleName = \"layout\", S.modes = L;\n  class D extends k {\n    constructor(e) {\n      super(e), this.locale = \"default\", this.lang = !1, this.bindings = {}, this.langList = {}, this.registerTableOption(\"locale\", !1), this.registerTableOption(\"langs\", {});\n    }\n    initialize() {\n      this.langList = r.deepClone(D.langs), !1 !== this.table.options.columnDefaults.headerFilterPlaceholder && this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n      for (let e in this.table.options.langs) this.installLang(e, this.table.options.langs[e]);\n      this.setLocale(this.table.options.locale), this.registerTableFunction(\"setLocale\", this.setLocale.bind(this)), this.registerTableFunction(\"getLocale\", this.getLocale.bind(this)), this.registerTableFunction(\"getLang\", this.getLang.bind(this));\n    }\n    setHeaderFilterPlaceholder(e) {\n      this.langList.default.headerFilters.default = e;\n    }\n    installLang(e, t) {\n      this.langList[e] ? this._setLangProp(this.langList[e], t) : this.langList[e] = t;\n    }\n    _setLangProp(e, t) {\n      for (let i in t) e[i] && \"object\" == typeof e[i] ? this._setLangProp(e[i], t[i]) : e[i] = t[i];\n    }\n    setLocale(e) {\n      if (!0 === (e = e || \"default\") && navigator.language && (e = navigator.language.toLowerCase()), e && !this.langList[e]) {\n        let t = e.split(\"-\")[0];\n        this.langList[t] ? (console.warn(\"Localization Error - Exact matching locale not found, using closest match: \", e, t), e = t) : (console.warn(\"Localization Error - Matching locale not found, using default: \", e), e = \"default\");\n      }\n      this.locale = e, this.lang = r.deepClone(this.langList.default || {}), \"default\" != e && function e(t, i) {\n        for (var s in t) \"object\" == typeof t[s] ? (i[s] || (i[s] = {}), e(t[s], i[s])) : i[s] = t[s];\n      }(this.langList[e], this.lang), this.dispatchExternal(\"localized\", this.locale, this.lang), this._executeBindings();\n    }\n    getLocale(e) {\n      return this.locale;\n    }\n    getLang(e) {\n      return e ? this.langList[e] : this.lang;\n    }\n    getText(e, t) {\n      var i = (t ? e + \"|\" + t : e).split(\"|\");\n      return this._getLangElement(i, this.locale) || \"\";\n    }\n    _getLangElement(e, t) {\n      var i = this.lang;\n      return e.forEach(function (e) {\n        var t;\n        i && (t = i[e], i = void 0 !== t && t);\n      }), i;\n    }\n    bind(e, t) {\n      this.bindings[e] || (this.bindings[e] = []), this.bindings[e].push(t), t(this.getText(e), this.lang);\n    }\n    _executeBindings() {\n      for (let e in this.bindings) this.bindings[e].forEach(t => {\n        t(this.getText(e), this.lang);\n      });\n    }\n  }\n  D.moduleName = \"localize\", D.langs = {\n    default: {\n      groups: {\n        item: \"item\",\n        items: \"items\"\n      },\n      columns: {},\n      data: {\n        loading: \"Loading\",\n        error: \"Error\"\n      },\n      pagination: {\n        page_size: \"Page Size\",\n        page_title: \"Show Page\",\n        first: \"First\",\n        first_title: \"First Page\",\n        last: \"Last\",\n        last_title: \"Last Page\",\n        prev: \"Prev\",\n        prev_title: \"Prev Page\",\n        next: \"Next\",\n        next_title: \"Next Page\",\n        all: \"All\",\n        counter: {\n          showing: \"Showing\",\n          of: \"of\",\n          rows: \"rows\",\n          pages: \"pages\"\n        }\n      },\n      headerFilters: {\n        default: \"filter column...\",\n        columns: {}\n      }\n    }\n  };\n  class P extends k {\n    constructor(e) {\n      super(e);\n    }\n    initialize() {\n      this.registerTableFunction(\"tableComms\", this.receive.bind(this));\n    }\n    getConnections(e) {\n      var t = [];\n      return x.lookupTable(e).forEach(e => {\n        this.table !== e && t.push(e);\n      }), t;\n    }\n    send(e, t, i, s) {\n      var o = this.getConnections(e);\n      o.forEach(e => {\n        e.tableComms(this.table.element, t, i, s);\n      }), !o.length && e && console.warn(\"Table Connection Error - No tables matching selector found\", e);\n    }\n    receive(e, t, i, s) {\n      if (this.table.modExists(t)) return this.table.modules[t].commsReceived(e, i, s);\n      console.warn(\"Inter-table Comms Error - no such module:\", t);\n    }\n  }\n  P.moduleName = \"comms\";\n  var z = Object.freeze({\n    __proto__: null,\n    LayoutModule: S,\n    LocalizeModule: D,\n    CommsModule: P\n  });\n  class F {\n    constructor(e, t) {\n      this.bindStaticFunctionality(e), this.bindModules(e, z, !0), t && this.bindModules(e, t);\n    }\n    bindStaticFunctionality(e) {\n      e.moduleBindings = {}, e.extendModule = function (t, i, s) {\n        if (e.moduleBindings[t]) {\n          var o = e.moduleBindings[t][i];\n          if (o) {\n            if (\"object\" == typeof s) for (let e in s) o[e] = s[e];else console.warn(\"Module Error - Invalid value type, it must be an object\");\n          } else console.warn(\"Module Error - property does not exist:\", i);\n        } else console.warn(\"Module Error - module does not exist:\", t);\n      }, e.registerModule = function (t) {\n        Array.isArray(t) || (t = [t]), t.forEach(t => {\n          e.registerModuleBinding(t);\n        });\n      }, e.registerModuleBinding = function (t) {\n        e.moduleBindings[t.moduleName] = t;\n      }, e.findTable = function (e) {\n        var t = x.lookupTable(e, !0);\n        return !(Array.isArray(t) && !t.length) && t;\n      }, e.prototype.bindModules = function () {\n        var t = [],\n          i = [],\n          s = [];\n        for (var o in this.modules = {}, e.moduleBindings) {\n          let n = e.moduleBindings[o],\n            r = new n(this);\n          this.modules[o] = r, n.prototype.moduleCore ? this.modulesCore.push(r) : n.moduleInitOrder ? n.moduleInitOrder < 0 ? t.push(r) : i.push(r) : s.push(r);\n        }\n        t.sort((e, t) => e.moduleInitOrder > t.moduleInitOrder ? 1 : -1), i.sort((e, t) => e.moduleInitOrder > t.moduleInitOrder ? 1 : -1), this.modulesRegular = t.concat(s.concat(i));\n      };\n    }\n    bindModules(e, t, i) {\n      var s = Object.values(t);\n      i && s.forEach(e => {\n        e.prototype.moduleCore = !0;\n      }), e.registerModule(s);\n    }\n  }\n  class H extends e {\n    constructor(e) {\n      super(e), this.element = this._createAlertElement(), this.msgElement = this._createMsgElement(), this.type = null, this.element.appendChild(this.msgElement);\n    }\n    _createAlertElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-alert\"), e;\n    }\n    _createMsgElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-alert-msg\"), e.setAttribute(\"role\", \"alert\"), e;\n    }\n    _typeClass() {\n      return \"tabulator-alert-state-\" + this.type;\n    }\n    alert(e, t = \"msg\") {\n      if (e) {\n        for (this.clear(), this.type = t; this.msgElement.firstChild;) this.msgElement.removeChild(this.msgElement.firstChild);\n        this.msgElement.classList.add(this._typeClass()), \"function\" == typeof e && (e = e()), e instanceof HTMLElement ? this.msgElement.appendChild(e) : this.msgElement.innerHTML = e, this.table.element.appendChild(this.element);\n      }\n    }\n    clear() {\n      this.element.parentNode && this.element.parentNode.removeChild(this.element), this.msgElement.classList.remove(this._typeClass());\n    }\n  }\n  class O {\n    constructor(e, t) {\n      this.options = {}, this.columnManager = null, this.rowManager = null, this.footerManager = null, this.alertManager = null, this.vdomHoz = null, this.externalEvents = null, this.eventBus = null, this.interactionMonitor = !1, this.browser = \"\", this.browserSlow = !1, this.browserMobile = !1, this.rtl = !1, this.originalElement = null, this.componentFunctionBinder = new w(this), this.dataLoader = !1, this.modules = {}, this.modulesCore = [], this.modulesRegular = [], this.deprecationAdvisor = new R(this), this.optionsList = new a(this, \"table constructor\"), this.initialized = !1, this.destroyed = !1, this.initializeElement(e) && (this.initializeCoreSystems(t), setTimeout(() => {\n        this._create();\n      })), x.register(this);\n    }\n    initializeElement(e) {\n      return \"undefined\" != typeof HTMLElement && e instanceof HTMLElement ? (this.element = e, !0) : \"string\" == typeof e ? (this.element = document.querySelector(e), !!this.element || (console.error(\"Tabulator Creation Error - no element found matching selector: \", e), !1)) : (console.error(\"Tabulator Creation Error - Invalid element provided:\", e), !1);\n    }\n    initializeCoreSystems(e) {\n      this.columnManager = new c(this), this.rowManager = new b(this), this.footerManager = new f(this), this.dataLoader = new C(this), this.alertManager = new H(this), this.bindModules(), this.options = this.optionsList.generate(O.defaultOptions, e), this._clearObjectPointers(), this._mapDeprecatedFunctionality(), this.externalEvents = new E(this, this.options, this.options.debugEventsExternal), this.eventBus = new y(this.options.debugEventsInternal), this.interactionMonitor = new v(this), this.dataLoader.initialize(), this.footerManager.initialize();\n    }\n    _mapDeprecatedFunctionality() {}\n    _clearSelection() {\n      this.element.classList.add(\"tabulator-block-select\"), window.getSelection ? window.getSelection().empty ? window.getSelection().empty() : window.getSelection().removeAllRanges && window.getSelection().removeAllRanges() : document.selection && document.selection.empty(), this.element.classList.remove(\"tabulator-block-select\");\n    }\n    _create() {\n      this.externalEvents.dispatch(\"tableBuilding\"), this.eventBus.dispatch(\"table-building\"), this._rtlCheck(), this._buildElement(), this._initializeTable(), this._loadInitialData(), this.initialized = !0, this.externalEvents.dispatch(\"tableBuilt\");\n    }\n    _rtlCheck() {\n      var e = window.getComputedStyle(this.element);\n      switch (this.options.textDirection) {\n        case \"auto\":\n          if (\"rtl\" !== e.direction) break;\n        case \"rtl\":\n          this.element.classList.add(\"tabulator-rtl\"), this.rtl = !0;\n          break;\n        case \"ltr\":\n          this.element.classList.add(\"tabulator-ltr\");\n        default:\n          this.rtl = !1;\n      }\n    }\n    _clearObjectPointers() {\n      this.options.columns = this.options.columns.slice(0), Array.isArray(this.options.data) && !this.options.reactiveData && (this.options.data = this.options.data.slice(0));\n    }\n    _buildElement() {\n      var e,\n        t = this.element,\n        i = this.options;\n      if (\"TABLE\" === t.tagName) {\n        this.originalElement = this.element, e = document.createElement(\"div\");\n        var s = t.attributes;\n        for (var o in s) \"object\" == typeof s[o] && e.setAttribute(s[o].name, s[o].value);\n        t.parentNode.replaceChild(e, t), this.element = t = e;\n      }\n      for (t.classList.add(\"tabulator\"), t.setAttribute(\"role\", \"grid\"); t.firstChild;) t.removeChild(t.firstChild);\n      i.height && (i.height = isNaN(i.height) ? i.height : i.height + \"px\", t.style.height = i.height), !1 !== i.minHeight && (i.minHeight = isNaN(i.minHeight) ? i.minHeight : i.minHeight + \"px\", t.style.minHeight = i.minHeight), !1 !== i.maxHeight && (i.maxHeight = isNaN(i.maxHeight) ? i.maxHeight : i.maxHeight + \"px\", t.style.maxHeight = i.maxHeight);\n    }\n    _initializeTable() {\n      var e = this.element,\n        t = this.options;\n      this.interactionMonitor.initialize(), this.columnManager.initialize(), this.rowManager.initialize(), this._detectBrowser(), this.modulesCore.forEach(e => {\n        e.initialize();\n      }), e.appendChild(this.columnManager.getElement()), e.appendChild(this.rowManager.getElement()), t.footerElement && this.footerManager.activate(), t.autoColumns && t.data && this.columnManager.generateColumnsFromRowData(this.options.data), this.modulesRegular.forEach(e => {\n        e.initialize();\n      }), this.columnManager.setColumns(t.columns), this.eventBus.dispatch(\"table-built\");\n    }\n    _loadInitialData() {\n      this.dataLoader.load(this.options.data);\n    }\n    destroy() {\n      var e = this.element;\n      for (this.destroyed = !0, x.deregister(this), this.eventBus.dispatch(\"table-destroy\"), this.rowManager.destroy(); e.firstChild;) e.removeChild(e.firstChild);\n      e.classList.remove(\"tabulator\"), this.externalEvents.dispatch(\"tableDestroyed\");\n    }\n    _detectBrowser() {\n      var e = navigator.userAgent || navigator.vendor || window.opera;\n      e.indexOf(\"Trident\") > -1 ? (this.browser = \"ie\", this.browserSlow = !0) : e.indexOf(\"Edge\") > -1 ? (this.browser = \"edge\", this.browserSlow = !0) : e.indexOf(\"Firefox\") > -1 ? (this.browser = \"firefox\", this.browserSlow = !1) : e.indexOf(\"Mac OS\") > -1 ? (this.browser = \"safari\", this.browserSlow = !1) : (this.browser = \"other\", this.browserSlow = !1), this.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0, 4));\n    }\n    initGuard(e, t) {\n      var i, s;\n      return this.options.debugInitialization && !this.initialized && (e || (e = \" \" == (s = \"Error\" == (i = new Error().stack.split(\"\\n\"))[0] ? i[2] : i[1])[0] ? s.trim().split(\" \")[1].split(\".\")[1] : s.trim().split(\"@\")[0]), console.warn(\"Table Not Initialized - Calling the \" + e + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (t ? \" \" + t : \"\"))), this.initialized;\n    }\n    blockRedraw() {\n      this.initGuard(), this.eventBus.dispatch(\"redraw-blocking\"), this.rowManager.blockRedraw(), this.columnManager.blockRedraw(), this.eventBus.dispatch(\"redraw-blocked\");\n    }\n    restoreRedraw() {\n      this.initGuard(), this.eventBus.dispatch(\"redraw-restoring\"), this.rowManager.restoreRedraw(), this.columnManager.restoreRedraw(), this.eventBus.dispatch(\"redraw-restored\");\n    }\n    setData(e, t, i) {\n      return this.initGuard(!1, \"To set initial data please use the 'data' property in the table constructor.\"), this.dataLoader.load(e, t, i, !1);\n    }\n    clearData() {\n      this.initGuard(), this.dataLoader.blockActiveLoad(), this.rowManager.clearData();\n    }\n    getData(e) {\n      return this.rowManager.getData(e);\n    }\n    getDataCount(e) {\n      return this.rowManager.getDataCount(e);\n    }\n    replaceData(e, t, i) {\n      return this.initGuard(), this.dataLoader.load(e, t, i, !0, !0);\n    }\n    updateData(e) {\n      var t = 0;\n      return this.initGuard(), new Promise((i, s) => {\n        this.dataLoader.blockActiveLoad(), \"string\" == typeof e && (e = JSON.parse(e)), e && e.length > 0 ? e.forEach(e => {\n          var o = this.rowManager.findRow(e[this.options.index]);\n          o ? (t++, o.updateData(e).then(() => {\n            --t || i();\n          }).catch(t => {\n            s(\"Update Error - Unable to update row\", e, t);\n          })) : s(\"Update Error - Unable to find row\", e);\n        }) : (console.warn(\"Update Error - No data provided\"), s(\"Update Error - No data provided\"));\n      });\n    }\n    addData(e, t, i) {\n      return this.initGuard(), new Promise((s, o) => {\n        this.dataLoader.blockActiveLoad(), \"string\" == typeof e && (e = JSON.parse(e)), e ? this.rowManager.addRows(e, t, i).then(e => {\n          var t = [];\n          e.forEach(function (e) {\n            t.push(e.getComponent());\n          }), s(t);\n        }) : (console.warn(\"Update Error - No data provided\"), o(\"Update Error - No data provided\"));\n      });\n    }\n    updateOrAddData(e) {\n      var t = [],\n        i = 0;\n      return this.initGuard(), new Promise((s, o) => {\n        this.dataLoader.blockActiveLoad(), \"string\" == typeof e && (e = JSON.parse(e)), e && e.length > 0 ? e.forEach(e => {\n          var o = this.rowManager.findRow(e[this.options.index]);\n          i++, o ? o.updateData(e).then(() => {\n            i--, t.push(o.getComponent()), i || s(t);\n          }) : this.rowManager.addRows(e).then(e => {\n            i--, t.push(e[0].getComponent()), i || s(t);\n          });\n        }) : (console.warn(\"Update Error - No data provided\"), o(\"Update Error - No data provided\"));\n      });\n    }\n    getRow(e) {\n      var t = this.rowManager.findRow(e);\n      return t ? t.getComponent() : (console.warn(\"Find Error - No matching row found:\", e), !1);\n    }\n    getRowFromPosition(e) {\n      var t = this.rowManager.getRowFromPosition(e);\n      return t ? t.getComponent() : (console.warn(\"Find Error - No matching row found:\", e), !1);\n    }\n    deleteRow(e) {\n      var t = [];\n      this.initGuard(), Array.isArray(e) || (e = [e]);\n      for (let i of e) {\n        let e = this.rowManager.findRow(i, !0);\n        if (!e) return console.error(\"Delete Error - No matching row found:\", i), Promise.reject(\"Delete Error - No matching row found\");\n        t.push(e);\n      }\n      return t.sort((e, t) => this.rowManager.rows.indexOf(e) > this.rowManager.rows.indexOf(t) ? 1 : -1), t.forEach(e => {\n        e.delete();\n      }), this.rowManager.reRenderInPosition(), Promise.resolve();\n    }\n    addRow(e, t, i) {\n      return this.initGuard(), \"string\" == typeof e && (e = JSON.parse(e)), this.rowManager.addRows(e, t, i, !0).then(e => e[0].getComponent());\n    }\n    updateOrAddRow(e, t) {\n      var i = this.rowManager.findRow(e);\n      return this.initGuard(), \"string\" == typeof t && (t = JSON.parse(t)), i ? i.updateData(t).then(() => i.getComponent()) : this.rowManager.addRows(t).then(e => e[0].getComponent());\n    }\n    updateRow(e, t) {\n      var i = this.rowManager.findRow(e);\n      return this.initGuard(), \"string\" == typeof t && (t = JSON.parse(t)), i ? i.updateData(t).then(() => Promise.resolve(i.getComponent())) : (console.warn(\"Update Error - No matching row found:\", e), Promise.reject(\"Update Error - No matching row found\"));\n    }\n    scrollToRow(e, t, i) {\n      var s = this.rowManager.findRow(e);\n      return s ? this.rowManager.scrollToRow(s, t, i) : (console.warn(\"Scroll Error - No matching row found:\", e), Promise.reject(\"Scroll Error - No matching row found\"));\n    }\n    moveRow(e, t, i) {\n      var s = this.rowManager.findRow(e);\n      this.initGuard(), s ? s.moveToRow(t, i) : console.warn(\"Move Error - No matching row found:\", e);\n    }\n    getRows(e) {\n      return this.rowManager.getComponents(e);\n    }\n    getRowPosition(e) {\n      var t = this.rowManager.findRow(e);\n      return t ? t.getPosition() : (console.warn(\"Position Error - No matching row found:\", e), !1);\n    }\n    setColumns(e) {\n      this.initGuard(!1, \"To set initial columns please use the 'columns' property in the table constructor\"), this.columnManager.setColumns(e);\n    }\n    getColumns(e) {\n      return this.columnManager.getComponents(e);\n    }\n    getColumn(e) {\n      var t = this.columnManager.findColumn(e);\n      return t ? t.getComponent() : (console.warn(\"Find Error - No matching column found:\", e), !1);\n    }\n    getColumnDefinitions() {\n      return this.columnManager.getDefinitionTree();\n    }\n    showColumn(e) {\n      var t = this.columnManager.findColumn(e);\n      if (this.initGuard(), !t) return console.warn(\"Column Show Error - No matching column found:\", e), !1;\n      t.show();\n    }\n    hideColumn(e) {\n      var t = this.columnManager.findColumn(e);\n      if (this.initGuard(), !t) return console.warn(\"Column Hide Error - No matching column found:\", e), !1;\n      t.hide();\n    }\n    toggleColumn(e) {\n      var t = this.columnManager.findColumn(e);\n      if (this.initGuard(), !t) return console.warn(\"Column Visibility Toggle Error - No matching column found:\", e), !1;\n      t.visible ? t.hide() : t.show();\n    }\n    addColumn(e, t, i) {\n      var s = this.columnManager.findColumn(i);\n      return this.initGuard(), this.columnManager.addColumn(e, t, s).then(e => e.getComponent());\n    }\n    deleteColumn(e) {\n      var t = this.columnManager.findColumn(e);\n      return this.initGuard(), t ? t.delete() : (console.warn(\"Column Delete Error - No matching column found:\", e), Promise.reject());\n    }\n    updateColumnDefinition(e, t) {\n      var i = this.columnManager.findColumn(e);\n      return this.initGuard(), i ? i.updateDefinition(t) : (console.warn(\"Column Update Error - No matching column found:\", e), Promise.reject());\n    }\n    moveColumn(e, t, i) {\n      var s = this.columnManager.findColumn(e),\n        o = this.columnManager.findColumn(t);\n      this.initGuard(), s ? o ? this.columnManager.moveColumn(s, o, i) : console.warn(\"Move Error - No matching column found:\", o) : console.warn(\"Move Error - No matching column found:\", e);\n    }\n    scrollToColumn(e, t, i) {\n      return new Promise((s, o) => {\n        var n = this.columnManager.findColumn(e);\n        return n ? this.columnManager.scrollToColumn(n, t, i) : (console.warn(\"Scroll Error - No matching column found:\", e), Promise.reject(\"Scroll Error - No matching column found\"));\n      });\n    }\n    redraw(e) {\n      this.initGuard(), this.columnManager.redraw(e), this.rowManager.redraw(e);\n    }\n    setHeight(e) {\n      this.options.height = isNaN(e) ? e : e + \"px\", this.element.style.height = this.options.height, this.rowManager.initializeRenderer(), this.rowManager.redraw();\n    }\n    on(e, t) {\n      this.externalEvents.subscribe(e, t);\n    }\n    off(e, t) {\n      this.externalEvents.unsubscribe(e, t);\n    }\n    dispatchEvent() {\n      Array.from(arguments).shift(), this.externalEvents.dispatch(...arguments);\n    }\n    alert(e, t) {\n      this.initGuard(), this.alertManager.alert(e, t);\n    }\n    clearAlert() {\n      this.initGuard(), this.alertManager.clear();\n    }\n    modExists(e, t) {\n      return !!this.modules[e] || (t && console.error(\"Tabulator Module Not Installed: \" + e), !1);\n    }\n    module(e) {\n      var t = this.modules[e];\n      return t || console.error(\"Tabulator module not installed: \" + e), t;\n    }\n  }\n  O.defaultOptions = {\n    debugEventsExternal: !1,\n    debugEventsInternal: !1,\n    debugInvalidOptions: !0,\n    debugInvalidComponentFuncs: !0,\n    debugInitialization: !0,\n    debugDeprecation: !0,\n    height: !1,\n    minHeight: !1,\n    maxHeight: !1,\n    columnHeaderVertAlign: \"top\",\n    popupContainer: !1,\n    columns: [],\n    columnDefaults: {},\n    data: !1,\n    autoColumns: !1,\n    autoColumnsDefinitions: !1,\n    nestedFieldSeparator: \".\",\n    footerElement: !1,\n    index: \"id\",\n    textDirection: \"auto\",\n    addRowPos: \"bottom\",\n    headerVisible: !0,\n    renderVertical: \"virtual\",\n    renderHorizontal: \"basic\",\n    renderVerticalBuffer: 0,\n    scrollToRowPosition: \"top\",\n    scrollToRowIfVisible: !0,\n    scrollToColumnPosition: \"left\",\n    scrollToColumnIfVisible: !0,\n    rowFormatter: !1,\n    rowFormatterPrint: null,\n    rowFormatterClipboard: null,\n    rowFormatterHtmlOutput: null,\n    rowHeight: null,\n    placeholder: !1,\n    dataLoader: !0,\n    dataLoaderLoading: !1,\n    dataLoaderError: !1,\n    dataLoaderErrorTimeout: 3e3,\n    dataSendParams: {},\n    dataReceiveParams: {}\n  }, new F(O);\n  class A extends k {\n    constructor(e) {\n      super(e), this.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"], this.registerColumnOption(\"accessor\"), this.registerColumnOption(\"accessorParams\"), this.registerColumnOption(\"accessorData\"), this.registerColumnOption(\"accessorDataParams\"), this.registerColumnOption(\"accessorDownload\"), this.registerColumnOption(\"accessorDownloadParams\"), this.registerColumnOption(\"accessorClipboard\"), this.registerColumnOption(\"accessorClipboardParams\"), this.registerColumnOption(\"accessorPrint\"), this.registerColumnOption(\"accessorPrintParams\"), this.registerColumnOption(\"accessorHtmlOutput\"), this.registerColumnOption(\"accessorHtmlOutputParams\");\n    }\n    initialize() {\n      this.subscribe(\"column-layout\", this.initializeColumn.bind(this)), this.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n    }\n    initializeColumn(e) {\n      var t = !1,\n        i = {};\n      this.allowedTypes.forEach(s => {\n        var o,\n          n = \"accessor\" + (s.charAt(0).toUpperCase() + s.slice(1));\n        e.definition[n] && (o = this.lookupAccessor(e.definition[n])) && (t = !0, i[n] = {\n          accessor: o,\n          params: e.definition[n + \"Params\"] || {}\n        });\n      }), t && (e.modules.accessor = i);\n    }\n    lookupAccessor(e) {\n      var t = !1;\n      switch (typeof e) {\n        case \"string\":\n          A.accessors[e] ? t = A.accessors[e] : console.warn(\"Accessor Error - No such accessor found, ignoring: \", e);\n          break;\n        case \"function\":\n          t = e;\n      }\n      return t;\n    }\n    transformRow(e, t) {\n      var i = \"accessor\" + (t.charAt(0).toUpperCase() + t.slice(1)),\n        s = e.getComponent(),\n        o = r.deepClone(e.data || {});\n      return this.table.columnManager.traverse(function (e) {\n        var n, r, a, l;\n        e.modules.accessor && (r = e.modules.accessor[i] || e.modules.accessor.accessor || !1) && \"undefined\" != (n = e.getFieldValue(o)) && (l = e.getComponent(), a = \"function\" == typeof r.params ? r.params(n, o, t, l, s) : r.params, e.setFieldValue(o, r.accessor(n, o, t, a, l, s)));\n      }), o;\n    }\n  }\n  A.moduleName = \"accessor\", A.accessors = {};\n  function _(e, t) {\n    var i = [];\n    if (t = t || \"\", Array.isArray(e)) e.forEach((e, s) => {\n      i = i.concat(_(e, t ? t + \"[\" + s + \"]\" : s));\n    });else if (\"object\" == typeof e) for (var s in e) i = i.concat(_(e[s], t ? t + \"[\" + s + \"]\" : s));else i.push({\n      key: t,\n      value: e\n    });\n    return i;\n  }\n  function B(e) {\n    var t = _(e),\n      i = [];\n    return t.forEach(function (e) {\n      i.push(encodeURIComponent(e.key) + \"=\" + encodeURIComponent(e.value));\n    }), i.join(\"&\");\n  }\n  function I(e, t, i) {\n    return e && i && Object.keys(i).length && (t.method && \"get\" != t.method.toLowerCase() || (t.method = \"get\", e += (e.includes(\"?\") ? \"&\" : \"?\") + B(i))), e;\n  }\n  function V(e, t) {\n    var i = [];\n    if (t = t || \"\", Array.isArray(e)) e.forEach((e, s) => {\n      i = i.concat(V(e, t ? t + \"[\" + s + \"]\" : s));\n    });else if (\"object\" == typeof e) for (var s in e) i = i.concat(V(e[s], t ? t + \"[\" + s + \"]\" : s));else i.push({\n      key: t,\n      value: e\n    });\n    return i;\n  }\n  var N = {\n    json: {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: function (e, t, i) {\n        return JSON.stringify(i);\n      }\n    },\n    form: {\n      headers: {},\n      body: function (e, t, i) {\n        var s = V(i),\n          o = new FormData();\n        return s.forEach(function (e) {\n          o.append(e.key, e.value);\n        }), o;\n      }\n    }\n  };\n  class W extends k {\n    constructor(e) {\n      super(e), this.config = {}, this.url = \"\", this.urlGenerator = !1, this.params = !1, this.loaderPromise = !1, this.registerTableOption(\"ajaxURL\", !1), this.registerTableOption(\"ajaxURLGenerator\", !1), this.registerTableOption(\"ajaxParams\", {}), this.registerTableOption(\"ajaxConfig\", \"get\"), this.registerTableOption(\"ajaxContentType\", \"form\"), this.registerTableOption(\"ajaxRequestFunc\", !1), this.registerTableOption(\"ajaxRequesting\", function () {}), this.registerTableOption(\"ajaxResponse\", !1), this.contentTypeFormatters = W.contentTypeFormatters;\n    }\n    initialize() {\n      this.loaderPromise = this.table.options.ajaxRequestFunc || W.defaultLoaderPromise, this.urlGenerator = this.table.options.ajaxURLGenerator || W.defaultURLGenerator, this.table.options.ajaxURL && this.setUrl(this.table.options.ajaxURL), this.setDefaultConfig(this.table.options.ajaxConfig), this.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this)), this.subscribe(\"data-loading\", this.requestDataCheck.bind(this)), this.subscribe(\"data-params\", this.requestParams.bind(this)), this.subscribe(\"data-load\", this.requestData.bind(this));\n    }\n    requestParams(e, t, i, s) {\n      var o = this.table.options.ajaxParams;\n      return o && (\"function\" == typeof o && (o = o.call(this.table)), s = Object.assign(s, o)), s;\n    }\n    requestDataCheck(e, t, i, s) {\n      return !((e || !this.url) && \"string\" != typeof e);\n    }\n    requestData(e, t, i, s, o) {\n      var n;\n      return !o && this.requestDataCheck(e) ? (e && this.setUrl(e), n = this.generateConfig(i), this.sendRequest(this.url, t, n)) : o;\n    }\n    setDefaultConfig(e = {}) {\n      this.config = Object.assign({}, W.defaultConfig), \"string\" == typeof e ? this.config.method = e : Object.assign(this.config, e);\n    }\n    generateConfig(e = {}) {\n      var t = Object.assign({}, this.config);\n      return \"string\" == typeof e ? t.method = e : Object.assign(t, e), t;\n    }\n    setUrl(e) {\n      this.url = e;\n    }\n    getUrl() {\n      return this.url;\n    }\n    sendRequest(e, t, i) {\n      return !1 !== this.table.options.ajaxRequesting.call(this.table, e, t) ? this.loaderPromise(e, i, t).then(i => (this.table.options.ajaxResponse && (i = this.table.options.ajaxResponse.call(this.table, e, t, i)), i)) : Promise.reject();\n    }\n  }\n  W.moduleName = \"ajax\", W.defaultConfig = {\n    method: \"GET\"\n  }, W.defaultURLGenerator = I, W.defaultLoaderPromise = function (e, t, i) {\n    var s;\n    return new Promise((o, n) => {\n      if (e = this.urlGenerator.call(this.table, e, t, i), \"GET\" != t.method.toUpperCase()) if (s = \"object\" == typeof this.table.options.ajaxContentType ? this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType]) {\n        for (var r in s.headers) t.headers || (t.headers = {}), void 0 === t.headers[r] && (t.headers[r] = s.headers[r]);\n        t.body = s.body.call(this, e, t, i);\n      } else console.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n      e ? (void 0 === t.headers && (t.headers = {}), void 0 === t.headers.Accept && (t.headers.Accept = \"application/json\"), void 0 === t.headers[\"X-Requested-With\"] && (t.headers[\"X-Requested-With\"] = \"XMLHttpRequest\"), void 0 === t.mode && (t.mode = \"cors\"), \"cors\" == t.mode ? (void 0 === t.headers.Origin && (t.headers.Origin = window.location.origin), void 0 === t.credentials && (t.credentials = \"same-origin\")) : void 0 === t.credentials && (t.credentials = \"include\"), fetch(e, t).then(e => {\n        e.ok ? e.json().then(e => {\n          o(e);\n        }).catch(e => {\n          n(e), console.warn(\"Ajax Load Error - Invalid JSON returned\", e);\n        }) : (console.error(\"Ajax Load Error - Connection Error: \" + e.status, e.statusText), n(e));\n      }).catch(e => {\n        console.error(\"Ajax Load Error - Connection Error: \", e), n(e);\n      })) : (console.warn(\"Ajax Load Error - No URL Set\"), o([]));\n    });\n  }, W.contentTypeFormatters = N;\n  class j extends k {\n    constructor(e) {\n      super(e), this.mode = !0, this.pasteParser = function () {}, this.pasteAction = function () {}, this.customSelection = !1, this.rowRange = !1, this.blocked = !0, this.registerTableOption(\"clipboard\", !1), this.registerTableOption(\"clipboardCopyStyled\", !0), this.registerTableOption(\"clipboardCopyConfig\", !1), this.registerTableOption(\"clipboardCopyFormatter\", !1), this.registerTableOption(\"clipboardCopyRowRange\", \"active\"), this.registerTableOption(\"clipboardPasteParser\", \"table\"), this.registerTableOption(\"clipboardPasteAction\", \"insert\"), this.registerColumnOption(\"clipboard\"), this.registerColumnOption(\"titleClipboard\");\n    }\n    initialize() {\n      this.mode = this.table.options.clipboard, this.rowRange = this.table.options.clipboardCopyRowRange, !0 !== this.mode && \"copy\" !== this.mode || this.table.element.addEventListener(\"copy\", e => {\n        var t, i, s;\n        this.blocked || (e.preventDefault(), this.customSelection ? (t = this.customSelection, this.table.options.clipboardCopyFormatter && (t = this.table.options.clipboardCopyFormatter(\"plain\", t))) : (s = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\"), t = (i = this.table.modules.export.generateHTMLTable(s)) ? this.generatePlainContent(s) : \"\", this.table.options.clipboardCopyFormatter && (t = this.table.options.clipboardCopyFormatter(\"plain\", t), i = this.table.options.clipboardCopyFormatter(\"html\", i))), window.clipboardData && window.clipboardData.setData ? window.clipboardData.setData(\"Text\", t) : e.clipboardData && e.clipboardData.setData ? (e.clipboardData.setData(\"text/plain\", t), i && e.clipboardData.setData(\"text/html\", i)) : e.originalEvent && e.originalEvent.clipboardData.setData && (e.originalEvent.clipboardData.setData(\"text/plain\", t), i && e.originalEvent.clipboardData.setData(\"text/html\", i)), this.dispatchExternal(\"clipboardCopied\", t, i), this.reset());\n      }), !0 !== this.mode && \"paste\" !== this.mode || this.table.element.addEventListener(\"paste\", e => {\n        this.paste(e);\n      }), this.setPasteParser(this.table.options.clipboardPasteParser), this.setPasteAction(this.table.options.clipboardPasteAction), this.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n    }\n    reset() {\n      this.blocked = !0, this.customSelection = !1;\n    }\n    generatePlainContent(e) {\n      var t = [];\n      return e.forEach(e => {\n        var i = [];\n        e.columns.forEach(t => {\n          var s = \"\";\n          if (t) if (\"group\" === e.type && (t.value = t.component.getKey()), null === t.value) s = \"\";else switch (typeof t.value) {\n            case \"object\":\n              s = JSON.stringify(t.value);\n              break;\n            case \"undefined\":\n              s = \"\";\n              break;\n            default:\n              s = t.value;\n          }\n          i.push(s);\n        }), t.push(i.join(\"\\t\"));\n      }), t.join(\"\\n\");\n    }\n    copy(e, t) {\n      var i, s;\n      this.blocked = !1, this.customSelection = !1, !0 !== this.mode && \"copy\" !== this.mode || (this.rowRange = e || this.table.options.clipboardCopyRowRange, void 0 !== window.getSelection && void 0 !== document.createRange ? ((e = document.createRange()).selectNodeContents(this.table.element), (i = window.getSelection()).toString() && t && (this.customSelection = i.toString()), i.removeAllRanges(), i.addRange(e)) : void 0 !== document.selection && void 0 !== document.body.createTextRange && ((s = document.body.createTextRange()).moveToElementText(this.table.element), s.select()), document.execCommand(\"copy\"), i && i.removeAllRanges());\n    }\n    setPasteAction(e) {\n      switch (typeof e) {\n        case \"string\":\n          this.pasteAction = j.pasteActions[e], this.pasteAction || console.warn(\"Clipboard Error - No such paste action found:\", e);\n          break;\n        case \"function\":\n          this.pasteAction = e;\n      }\n    }\n    setPasteParser(e) {\n      switch (typeof e) {\n        case \"string\":\n          this.pasteParser = j.pasteParsers[e], this.pasteParser || console.warn(\"Clipboard Error - No such paste parser found:\", e);\n          break;\n        case \"function\":\n          this.pasteParser = e;\n      }\n    }\n    paste(e) {\n      var t, i, s;\n      this.checkPaseOrigin(e) && (t = this.getPasteData(e), (i = this.pasteParser.call(this, t)) ? (e.preventDefault(), this.table.modExists(\"mutator\") && (i = this.mutateData(i)), s = this.pasteAction.call(this, i), this.dispatchExternal(\"clipboardPasted\", t, i, s)) : this.dispatchExternal(\"clipboardPasteError\", t));\n    }\n    mutateData(e) {\n      var t = [];\n      return Array.isArray(e) ? e.forEach(e => {\n        t.push(this.table.modules.mutator.transformRow(e, \"clipboard\"));\n      }) : t = e, t;\n    }\n    checkPaseOrigin(e) {\n      var t = !0;\n      return (\"DIV\" != e.target.tagName || this.table.modules.edit.currentCell) && (t = !1), t;\n    }\n    getPasteData(e) {\n      var t;\n      return window.clipboardData && window.clipboardData.getData ? t = window.clipboardData.getData(\"Text\") : e.clipboardData && e.clipboardData.getData ? t = e.clipboardData.getData(\"text/plain\") : e.originalEvent && e.originalEvent.clipboardData.getData && (t = e.originalEvent.clipboardData.getData(\"text/plain\")), t;\n    }\n  }\n  j.moduleName = \"clipboard\", j.pasteActions = {\n    replace: function (e) {\n      return this.table.setData(e);\n    },\n    update: function (e) {\n      return this.table.updateOrAddData(e);\n    },\n    insert: function (e) {\n      return this.table.addData(e);\n    }\n  }, j.pasteParsers = {\n    table: function (e) {\n      var t = [],\n        i = !0,\n        s = this.table.columnManager.columns,\n        o = [],\n        n = [];\n      return (e = e.split(\"\\n\")).forEach(function (e) {\n        t.push(e.split(\"\\t\"));\n      }), !(!t.length || 1 === t.length && t[0].length < 2) && (t[0].forEach(function (e) {\n        var t = s.find(function (t) {\n          return e && t.definition.title && e.trim() && t.definition.title.trim() === e.trim();\n        });\n        t ? o.push(t) : i = !1;\n      }), i || (i = !0, o = [], t[0].forEach(function (e) {\n        var t = s.find(function (t) {\n          return e && t.field && e.trim() && t.field.trim() === e.trim();\n        });\n        t ? o.push(t) : i = !1;\n      }), i || (o = this.table.columnManager.columnsByIndex)), i && t.shift(), t.forEach(function (e) {\n        var t = {};\n        e.forEach(function (e, i) {\n          o[i] && (t[o[i].field] = e);\n        }), n.push(t);\n      }), n);\n    }\n  };\n  class G {\n    constructor(e) {\n      return this._row = e, new Proxy(this, {\n        get: function (e, t, i) {\n          return void 0 !== e[t] ? e[t] : e._row.table.componentFunctionBinder.handle(\"row\", e._row, t);\n        }\n      });\n    }\n    getData(e) {\n      return this._row.getData(e);\n    }\n    getElement() {\n      return this._row.getElement();\n    }\n    getTable() {\n      return this._row.table;\n    }\n    getCells() {\n      var e = [];\n      return this._row.getCells().forEach(function (t) {\n        e.push(t.getComponent());\n      }), e;\n    }\n    getCell(e) {\n      var t = this._row.getCell(e);\n      return !!t && t.getComponent();\n    }\n    _getSelf() {\n      return this._row;\n    }\n  }\n  var U = {\n    avg: function (e, t, i) {\n      var s = 0,\n        o = void 0 !== i.precision ? i.precision : 2;\n      return e.length && (s = e.reduce(function (e, t) {\n        return Number(e) + Number(t);\n      }), s /= e.length, s = !1 !== o ? s.toFixed(o) : s), parseFloat(s).toString();\n    },\n    max: function (e, t, i) {\n      var s = null,\n        o = void 0 !== i.precision && i.precision;\n      return e.forEach(function (e) {\n        ((e = Number(e)) > s || null === s) && (s = e);\n      }), null !== s ? !1 !== o ? s.toFixed(o) : s : \"\";\n    },\n    min: function (e, t, i) {\n      var s = null,\n        o = void 0 !== i.precision && i.precision;\n      return e.forEach(function (e) {\n        ((e = Number(e)) < s || null === s) && (s = e);\n      }), null !== s ? !1 !== o ? s.toFixed(o) : s : \"\";\n    },\n    sum: function (e, t, i) {\n      var s = 0,\n        o = void 0 !== i.precision && i.precision;\n      return e.length && e.forEach(function (e) {\n        e = Number(e), s += isNaN(e) ? 0 : Number(e);\n      }), !1 !== o ? s.toFixed(o) : s;\n    },\n    concat: function (e, t, i) {\n      var s = 0;\n      return e.length && (s = e.reduce(function (e, t) {\n        return String(e) + String(t);\n      })), s;\n    },\n    count: function (e, t, i) {\n      var s = 0;\n      return e.length && e.forEach(function (e) {\n        e && s++;\n      }), s;\n    },\n    unique: function (e, t, i) {\n      return e.filter((t, i) => (e || 0 === t) && e.indexOf(t) === i).length;\n    }\n  };\n  class X extends k {\n    constructor(e) {\n      super(e), this.topCalcs = [], this.botCalcs = [], this.genColumn = !1, this.topElement = this.createElement(), this.botElement = this.createElement(), this.topRow = !1, this.botRow = !1, this.topInitialized = !1, this.botInitialized = !1, this.blocked = !1, this.recalcAfterBlock = !1, this.registerTableOption(\"columnCalcs\", !0), this.registerColumnOption(\"topCalc\"), this.registerColumnOption(\"topCalcParams\"), this.registerColumnOption(\"topCalcFormatter\"), this.registerColumnOption(\"topCalcFormatterParams\"), this.registerColumnOption(\"bottomCalc\"), this.registerColumnOption(\"bottomCalcParams\"), this.registerColumnOption(\"bottomCalcFormatter\"), this.registerColumnOption(\"bottomCalcFormatterParams\");\n    }\n    createElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-calcs-holder\"), e;\n    }\n    initialize() {\n      this.genColumn = new n({\n        field: \"value\"\n      }, this), this.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this)), this.subscribe(\"column-init\", this.initializeColumnCheck.bind(this)), this.subscribe(\"row-deleted\", this.rowsUpdated.bind(this)), this.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this)), this.subscribe(\"row-added\", this.rowsUpdated.bind(this)), this.subscribe(\"column-moved\", this.recalcActiveRows.bind(this)), this.subscribe(\"column-add\", this.recalcActiveRows.bind(this)), this.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this)), this.subscribe(\"table-redraw\", this.tableRedraw.bind(this)), this.subscribe(\"rows-visible\", this.visibleRows.bind(this)), this.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this)), this.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this)), this.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this)), this.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-show\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this)), this.registerTableFunction(\"getCalcResults\", this.getResults.bind(this)), this.registerTableFunction(\"recalc\", this.userRecalc.bind(this)), this.resizeHolderWidth();\n    }\n    resizeHolderWidth() {\n      this.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n    }\n    tableRedraw(e) {\n      this.recalc(this.table.rowManager.activeRows), e && this.redraw();\n    }\n    blockRedraw() {\n      this.blocked = !0, this.recalcAfterBlock = !1;\n    }\n    restoreRedraw() {\n      this.blocked = !1, this.recalcAfterBlock && (this.recalcAfterBlock = !1, this.recalcActiveRowsRefresh());\n    }\n    userRecalc() {\n      this.recalc(this.table.rowManager.activeRows);\n    }\n    blockCheck() {\n      return this.blocked && (this.recalcAfterBlock = !0), this.blocked;\n    }\n    visibleRows(e, t) {\n      return this.topRow && t.unshift(this.topRow), this.botRow && t.push(this.botRow), t;\n    }\n    rowsUpdated(e) {\n      this.table.options.groupBy ? this.recalcRowGroup(e) : this.recalcActiveRows();\n    }\n    recalcActiveRowsRefresh() {\n      this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree ? this.recalcAll() : this.recalcActiveRows();\n    }\n    recalcActiveRows() {\n      this.recalc(this.table.rowManager.activeRows);\n    }\n    cellValueChanged(e) {\n      (e.column.definition.topCalc || e.column.definition.bottomCalc) && (this.table.options.groupBy ? (\"table\" != this.table.options.columnCalcs && \"both\" != this.table.options.columnCalcs || this.recalcActiveRows(), \"table\" != this.table.options.columnCalcs && this.recalcRowGroup(e.row)) : this.recalcActiveRows());\n    }\n    initializeColumnCheck(e) {\n      (e.definition.topCalc || e.definition.bottomCalc) && this.initializeColumn(e);\n    }\n    initializeColumn(e) {\n      var t = e.definition,\n        i = {\n          topCalcParams: t.topCalcParams || {},\n          botCalcParams: t.bottomCalcParams || {}\n        };\n      if (t.topCalc) {\n        switch (typeof t.topCalc) {\n          case \"string\":\n            X.calculations[t.topCalc] ? i.topCalc = X.calculations[t.topCalc] : console.warn(\"Column Calc Error - No such calculation found, ignoring: \", t.topCalc);\n            break;\n          case \"function\":\n            i.topCalc = t.topCalc;\n        }\n        i.topCalc && (e.modules.columnCalcs = i, this.topCalcs.push(e), \"group\" != this.table.options.columnCalcs && this.initializeTopRow());\n      }\n      if (t.bottomCalc) {\n        switch (typeof t.bottomCalc) {\n          case \"string\":\n            X.calculations[t.bottomCalc] ? i.botCalc = X.calculations[t.bottomCalc] : console.warn(\"Column Calc Error - No such calculation found, ignoring: \", t.bottomCalc);\n            break;\n          case \"function\":\n            i.botCalc = t.bottomCalc;\n        }\n        i.botCalc && (e.modules.columnCalcs = i, this.botCalcs.push(e), \"group\" != this.table.options.columnCalcs && this.initializeBottomRow());\n      }\n    }\n    registerColumnField() {}\n    removeCalcs() {\n      var e = !1;\n      this.topInitialized && (this.topInitialized = !1, this.topElement.parentNode.removeChild(this.topElement), e = !0), this.botInitialized && (this.botInitialized = !1, this.footerRemove(this.botElement), e = !0), e && this.table.rowManager.adjustTableSize();\n    }\n    reinitializeCalcs() {\n      this.topCalcs.length && this.initializeTopRow(), this.botCalcs.length && this.initializeBottomRow();\n    }\n    initializeTopRow() {\n      this.topInitialized || (this.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling), this.topInitialized = !0);\n    }\n    initializeBottomRow() {\n      this.botInitialized || (this.footerPrepend(this.botElement), this.botInitialized = !0);\n    }\n    scrollHorizontal(e) {\n      this.botInitialized && this.botRow && (this.botElement.scrollLeft = e);\n    }\n    recalc(e) {\n      var t, i;\n      if (!this.blockCheck() && (this.topInitialized || this.botInitialized)) {\n        if (t = this.rowsToData(e), this.topInitialized) {\n          for (this.topRow && this.topRow.deleteCells(), i = this.generateRow(\"top\", t), this.topRow = i; this.topElement.firstChild;) this.topElement.removeChild(this.topElement.firstChild);\n          this.topElement.appendChild(i.getElement()), i.initialize(!0);\n        }\n        if (this.botInitialized) {\n          for (this.botRow && this.botRow.deleteCells(), i = this.generateRow(\"bottom\", t), this.botRow = i; this.botElement.firstChild;) this.botElement.removeChild(this.botElement.firstChild);\n          this.botElement.appendChild(i.getElement()), i.initialize(!0);\n        }\n        this.table.rowManager.adjustTableSize(), this.table.modExists(\"frozenColumns\") && this.table.modules.frozenColumns.layout();\n      }\n    }\n    recalcRowGroup(e) {\n      this.recalcGroup(this.table.modules.groupRows.getRowGroup(e));\n    }\n    recalcAll() {\n      (this.topCalcs.length || this.botCalcs.length) && (\"group\" !== this.table.options.columnCalcs && this.recalcActiveRows(), this.table.options.groupBy && \"table\" !== this.table.options.columnCalcs && this.table.modules.groupRows.getChildGroups().forEach(e => {\n        this.recalcGroup(e);\n      }));\n    }\n    recalcGroup(e) {\n      var t, i;\n      this.blockCheck() || e && e.calcs && (e.calcs.bottom && (t = this.rowsToData(e.rows), i = this.generateRowData(\"bottom\", t), e.calcs.bottom.updateData(i), e.calcs.bottom.reinitialize()), e.calcs.top && (t = this.rowsToData(e.rows), i = this.generateRowData(\"top\", t), e.calcs.top.updateData(i), e.calcs.top.reinitialize()));\n    }\n    generateTopRow(e) {\n      return this.generateRow(\"top\", this.rowsToData(e));\n    }\n    generateBottomRow(e) {\n      return this.generateRow(\"bottom\", this.rowsToData(e));\n    }\n    rowsToData(e) {\n      var t = [];\n      return e.forEach(e => {\n        if (t.push(e.getData()), this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs && e.modules.dataTree && e.modules.dataTree.open) {\n          var i = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(e));\n          t = t.concat(i);\n        }\n      }), t;\n    }\n    generateRow(e, t) {\n      var i,\n        s = this.generateRowData(e, t);\n      return this.table.modExists(\"mutator\") && this.table.modules.mutator.disable(), i = new p(s, this, \"calc\"), this.table.modExists(\"mutator\") && this.table.modules.mutator.enable(), i.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + e), i.component = !1, i.getComponent = () => (i.component || (i.component = new G(i)), i.component), i.generateCells = () => {\n        var t = [];\n        this.table.columnManager.columnsByIndex.forEach(s => {\n          this.genColumn.setField(s.getField()), this.genColumn.hozAlign = s.hozAlign, s.definition[e + \"CalcFormatter\"] && this.table.modExists(\"format\") ? this.genColumn.modules.format = {\n            formatter: this.table.modules.format.getFormatter(s.definition[e + \"CalcFormatter\"]),\n            params: s.definition[e + \"CalcFormatterParams\"] || {}\n          } : this.genColumn.modules.format = {\n            formatter: this.table.modules.format.getFormatter(\"plaintext\"),\n            params: {}\n          }, this.genColumn.definition.cssClass = s.definition.cssClass;\n          var n = new o(this.genColumn, i);\n          n.getElement(), n.column = s, n.setWidth(), s.cells.push(n), t.push(n), s.visible || n.hide();\n        }), i.cells = t;\n      }, i;\n    }\n    generateRowData(e, t) {\n      var i,\n        s,\n        o = {},\n        n = \"top\" == e ? this.topCalcs : this.botCalcs,\n        r = \"top\" == e ? \"topCalc\" : \"botCalc\";\n      return n.forEach(function (e) {\n        var n = [];\n        e.modules.columnCalcs && e.modules.columnCalcs[r] && (t.forEach(function (t) {\n          n.push(e.getFieldValue(t));\n        }), s = r + \"Params\", i = \"function\" == typeof e.modules.columnCalcs[s] ? e.modules.columnCalcs[s](n, t) : e.modules.columnCalcs[s], e.setFieldValue(o, e.modules.columnCalcs[r](n, t, i)));\n      }), o;\n    }\n    hasTopCalcs() {\n      return !!this.topCalcs.length;\n    }\n    hasBottomCalcs() {\n      return !!this.botCalcs.length;\n    }\n    redraw() {\n      this.topRow && this.topRow.normalizeHeight(!0), this.botRow && this.botRow.normalizeHeight(!0);\n    }\n    getResults() {\n      var e = {};\n      return this.table.options.groupBy && this.table.modExists(\"groupRows\") ? this.table.modules.groupRows.getGroups(!0).forEach(t => {\n        e[t.getKey()] = this.getGroupResults(t);\n      }) : e = {\n        top: this.topRow ? this.topRow.getData() : {},\n        bottom: this.botRow ? this.botRow.getData() : {}\n      }, e;\n    }\n    getGroupResults(e) {\n      var t = e._getSelf(),\n        i = e.getSubGroups(),\n        s = {};\n      return i.forEach(e => {\n        s[e.getKey()] = this.getGroupResults(e);\n      }), {\n        top: t.calcs.top ? t.calcs.top.getData() : {},\n        bottom: t.calcs.bottom ? t.calcs.bottom.getData() : {},\n        groups: s\n      };\n    }\n    adjustForScrollbar(e) {\n      this.botRow && (this.table.rtl ? this.botElement.style.paddingLeft = e + \"px\" : this.botElement.style.paddingRight = e + \"px\");\n    }\n  }\n  X.moduleName = \"columnCalcs\", X.calculations = U;\n  class q extends k {\n    constructor(e) {\n      super(e), this.indent = 10, this.field = \"\", this.collapseEl = null, this.expandEl = null, this.branchEl = null, this.elementField = !1, this.startOpen = function () {}, this.registerTableOption(\"dataTree\", !1), this.registerTableOption(\"dataTreeFilter\", !0), this.registerTableOption(\"dataTreeSort\", !0), this.registerTableOption(\"dataTreeElementColumn\", !1), this.registerTableOption(\"dataTreeBranchElement\", !0), this.registerTableOption(\"dataTreeChildIndent\", 9), this.registerTableOption(\"dataTreeChildField\", \"_children\"), this.registerTableOption(\"dataTreeCollapseElement\", !1), this.registerTableOption(\"dataTreeExpandElement\", !1), this.registerTableOption(\"dataTreeStartExpanded\", !1), this.registerTableOption(\"dataTreeChildColumnCalcs\", !1), this.registerTableOption(\"dataTreeSelectPropagate\", !1), this.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this)), this.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this)), this.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this)), this.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this)), this.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this)), this.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this)), this.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n    }\n    initialize() {\n      if (this.table.options.dataTree) {\n        var e = null,\n          t = this.table.options;\n        switch (this.field = t.dataTreeChildField, this.indent = t.dataTreeChildIndent, this.options(\"movableRows\") && console.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\"), t.dataTreeBranchElement ? !0 === t.dataTreeBranchElement ? (this.branchEl = document.createElement(\"div\"), this.branchEl.classList.add(\"tabulator-data-tree-branch\")) : \"string\" == typeof t.dataTreeBranchElement ? ((e = document.createElement(\"div\")).innerHTML = t.dataTreeBranchElement, this.branchEl = e.firstChild) : this.branchEl = t.dataTreeBranchElement : (this.branchEl = document.createElement(\"div\"), this.branchEl.classList.add(\"tabulator-data-tree-branch-empty\")), t.dataTreeCollapseElement ? \"string\" == typeof t.dataTreeCollapseElement ? ((e = document.createElement(\"div\")).innerHTML = t.dataTreeCollapseElement, this.collapseEl = e.firstChild) : this.collapseEl = t.dataTreeCollapseElement : (this.collapseEl = document.createElement(\"div\"), this.collapseEl.classList.add(\"tabulator-data-tree-control\"), this.collapseEl.tabIndex = 0, this.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\"), t.dataTreeExpandElement ? \"string\" == typeof t.dataTreeExpandElement ? ((e = document.createElement(\"div\")).innerHTML = t.dataTreeExpandElement, this.expandEl = e.firstChild) : this.expandEl = t.dataTreeExpandElement : (this.expandEl = document.createElement(\"div\"), this.expandEl.classList.add(\"tabulator-data-tree-control\"), this.expandEl.tabIndex = 0, this.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\"), typeof t.dataTreeStartExpanded) {\n          case \"boolean\":\n            this.startOpen = function (e, i) {\n              return t.dataTreeStartExpanded;\n            };\n            break;\n          case \"function\":\n            this.startOpen = t.dataTreeStartExpanded;\n            break;\n          default:\n            this.startOpen = function (e, i) {\n              return t.dataTreeStartExpanded[i];\n            };\n        }\n        this.subscribe(\"row-init\", this.initializeRow.bind(this)), this.subscribe(\"row-layout-after\", this.layoutRow.bind(this)), this.subscribe(\"row-deleted\", this.rowDelete.bind(this), 0), this.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10), this.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this)), this.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this)), this.subscribe(\"column-moving-rows\", this.columnMoving.bind(this)), this.subscribe(\"table-built\", this.initializeElementField.bind(this)), this.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this)), this.registerDisplayHandler(this.getRows.bind(this), 30);\n      }\n    }\n    tableRedrawing(e) {\n      e && this.table.rowManager.getRows().forEach(e => {\n        this.reinitializeRowChildren(e);\n      });\n    }\n    initializeElementField() {\n      var e = this.table.columnManager.getFirstVisibleColumn();\n      this.elementField = this.table.options.dataTreeElementColumn || !!e && e.field;\n    }\n    getRowChildren(e) {\n      return this.getTreeChildren(e, !0);\n    }\n    columnMoving() {\n      var e = [];\n      return this.table.rowManager.rows.forEach(t => {\n        e = e.concat(this.getTreeChildren(t, !1, !0));\n      }), e;\n    }\n    rowDataChanged(e, t, i) {\n      this.redrawNeeded(i) && (this.initializeRow(e), t && (this.layoutRow(e), this.refreshData(!0)));\n    }\n    cellValueChanged(e) {\n      e.column.getField() === this.elementField && this.layoutRow(e.row);\n    }\n    initializeRow(e) {\n      var t = e.getData()[this.field],\n        i = Array.isArray(t),\n        s = i || !i && \"object\" == typeof t && null !== t;\n      !s && e.modules.dataTree && e.modules.dataTree.branchEl && e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl), !s && e.modules.dataTree && e.modules.dataTree.controlEl && e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl), e.modules.dataTree = {\n        index: e.modules.dataTree ? e.modules.dataTree.index : 0,\n        open: !!s && (e.modules.dataTree ? e.modules.dataTree.open : this.startOpen(e.getComponent(), 0)),\n        controlEl: !(!e.modules.dataTree || !s) && e.modules.dataTree.controlEl,\n        branchEl: !(!e.modules.dataTree || !s) && e.modules.dataTree.branchEl,\n        parent: !!e.modules.dataTree && e.modules.dataTree.parent,\n        children: s\n      };\n    }\n    reinitializeRowChildren(e) {\n      this.getTreeChildren(e, !1, !0).forEach(function (e) {\n        e.reinitialize(!0);\n      });\n    }\n    layoutRow(e) {\n      var t = (this.elementField ? e.getCell(this.elementField) : e.getCells()[0]).getElement(),\n        i = e.modules.dataTree;\n      i.branchEl && (i.branchEl.parentNode && i.branchEl.parentNode.removeChild(i.branchEl), i.branchEl = !1), i.controlEl && (i.controlEl.parentNode && i.controlEl.parentNode.removeChild(i.controlEl), i.controlEl = !1), this.generateControlElement(e, t), e.getElement().classList.add(\"tabulator-tree-level-\" + i.index), i.index && (this.branchEl ? (i.branchEl = this.branchEl.cloneNode(!0), t.insertBefore(i.branchEl, t.firstChild), this.table.rtl ? i.branchEl.style.marginRight = (i.branchEl.offsetWidth + i.branchEl.style.marginLeft) * (i.index - 1) + i.index * this.indent + \"px\" : i.branchEl.style.marginLeft = (i.branchEl.offsetWidth + i.branchEl.style.marginRight) * (i.index - 1) + i.index * this.indent + \"px\") : this.table.rtl ? t.style.paddingRight = parseInt(window.getComputedStyle(t, null).getPropertyValue(\"padding-right\")) + i.index * this.indent + \"px\" : t.style.paddingLeft = parseInt(window.getComputedStyle(t, null).getPropertyValue(\"padding-left\")) + i.index * this.indent + \"px\");\n    }\n    generateControlElement(e, t) {\n      var i = e.modules.dataTree,\n        s = i.controlEl;\n      t = t || e.getCells()[0].getElement(), !1 !== i.children && (i.open ? (i.controlEl = this.collapseEl.cloneNode(!0), i.controlEl.addEventListener(\"click\", t => {\n        t.stopPropagation(), this.collapseRow(e);\n      })) : (i.controlEl = this.expandEl.cloneNode(!0), i.controlEl.addEventListener(\"click\", t => {\n        t.stopPropagation(), this.expandRow(e);\n      })), i.controlEl.addEventListener(\"mousedown\", e => {\n        e.stopPropagation();\n      }), s && s.parentNode === t ? s.parentNode.replaceChild(i.controlEl, s) : t.insertBefore(i.controlEl, t.firstChild));\n    }\n    getRows(e) {\n      var t = [];\n      return e.forEach((e, i) => {\n        var s;\n        t.push(e), e instanceof p && (e.create(), (s = e.modules.dataTree).index || !1 === s.children || this.getChildren(e).forEach(e => {\n          e.create(), t.push(e);\n        }));\n      }), t;\n    }\n    getChildren(e, t) {\n      var i = e.modules.dataTree,\n        s = [],\n        o = [];\n      return !1 !== i.children && (i.open || t) && (Array.isArray(i.children) || (i.children = this.generateChildren(e)), s = this.table.modExists(\"filter\") && this.table.options.dataTreeFilter ? this.table.modules.filter.filter(i.children) : i.children, this.table.modExists(\"sort\") && this.table.options.dataTreeSort && this.table.modules.sort.sort(s), s.forEach(e => {\n        o.push(e), this.getChildren(e).forEach(e => {\n          o.push(e);\n        });\n      })), o;\n    }\n    generateChildren(e) {\n      var t = [],\n        i = e.getData()[this.field];\n      return Array.isArray(i) || (i = [i]), i.forEach(i => {\n        var s = new p(i || {}, this.table.rowManager);\n        s.create(), s.modules.dataTree.index = e.modules.dataTree.index + 1, s.modules.dataTree.parent = e, s.modules.dataTree.children && (s.modules.dataTree.open = this.startOpen(s.getComponent(), s.modules.dataTree.index)), t.push(s);\n      }), t;\n    }\n    expandRow(e, t) {\n      var i = e.modules.dataTree;\n      !1 !== i.children && (i.open = !0, e.reinitialize(), this.refreshData(!0), this.dispatchExternal(\"dataTreeRowExpanded\", e.getComponent(), e.modules.dataTree.index));\n    }\n    collapseRow(e) {\n      var t = e.modules.dataTree;\n      !1 !== t.children && (t.open = !1, e.reinitialize(), this.refreshData(!0), this.dispatchExternal(\"dataTreeRowCollapsed\", e.getComponent(), e.modules.dataTree.index));\n    }\n    toggleRow(e) {\n      var t = e.modules.dataTree;\n      !1 !== t.children && (t.open ? this.collapseRow(e) : this.expandRow(e));\n    }\n    isRowExpanded(e) {\n      return e.modules.dataTree.open;\n    }\n    getTreeParent(e) {\n      return !!e.modules.dataTree.parent && e.modules.dataTree.parent.getComponent();\n    }\n    getTreeParentRoot(e) {\n      return e.modules.dataTree && e.modules.dataTree.parent ? this.getTreeParentRoot(e.modules.dataTree.parent) : e;\n    }\n    getFilteredTreeChildren(e) {\n      var t = e.modules.dataTree,\n        i = [];\n      return t.children && (Array.isArray(t.children) || (t.children = this.generateChildren(e)), (this.table.modExists(\"filter\") && this.table.options.dataTreeFilter ? this.table.modules.filter.filter(t.children) : t.children).forEach(e => {\n        e instanceof p && i.push(e);\n      })), i;\n    }\n    rowDelete(e) {\n      var t,\n        i = e.modules.dataTree.parent;\n      i && (!1 !== (t = this.findChildIndex(e, i)) && i.data[this.field].splice(t, 1), i.data[this.field].length || delete i.data[this.field], this.initializeRow(i), this.layoutRow(i)), this.refreshData(!0);\n    }\n    addTreeChildRow(e, t, i, s) {\n      var o = !1;\n      \"string\" == typeof t && (t = JSON.parse(t)), Array.isArray(e.data[this.field]) || (e.data[this.field] = [], e.modules.dataTree.open = this.startOpen(e.getComponent(), e.modules.dataTree.index)), void 0 !== s && !1 !== (o = this.findChildIndex(s, e)) && e.data[this.field].splice(i ? o : o + 1, 0, t), !1 === o && (i ? e.data[this.field].unshift(t) : e.data[this.field].push(t)), this.initializeRow(e), this.layoutRow(e), this.refreshData(!0);\n    }\n    findChildIndex(e, t) {\n      var i = !1;\n      return \"object\" == typeof e ? e instanceof p ? i = e.data : e instanceof u ? i = e._getSelf().data : \"undefined\" != typeof HTMLElement && e instanceof HTMLElement ? t.modules.dataTree && (i = t.modules.dataTree.children.find(t => t instanceof p && t.element === e)) && (i = i.data) : null === e && (i = !1) : i = void 0 !== e && t.data[this.field].find(t => t.data[this.table.options.index] == e), i && (Array.isArray(t.data[this.field]) && (i = t.data[this.field].indexOf(i)), -1 == i && (i = !1)), i;\n    }\n    getTreeChildren(e, t, i) {\n      var s = e.modules.dataTree,\n        o = [];\n      return s && s.children && (Array.isArray(s.children) || (s.children = this.generateChildren(e)), s.children.forEach(e => {\n        e instanceof p && (o.push(t ? e.getComponent() : e), i && (o = o.concat(this.getTreeChildren(e, t, i))));\n      })), o;\n    }\n    getChildField() {\n      return this.field;\n    }\n    redrawNeeded(e) {\n      return !!this.field && void 0 !== e[this.field] || !!this.elementField && void 0 !== e[this.elementField];\n    }\n  }\n  q.moduleName = \"dataTree\";\n  var K = {\n    csv: function (e, t = {}, i) {\n      var s = t.delimiter ? t.delimiter : \",\",\n        o = [],\n        n = [];\n      e.forEach(e => {\n        var t = [];\n        switch (e.type) {\n          case \"group\":\n            console.warn(\"Download Warning - CSV downloader cannot process row groups\");\n            break;\n          case \"calc\":\n            console.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n            break;\n          case \"header\":\n            e.columns.forEach((e, t) => {\n              e && 1 === e.depth && (n[t] = void 0 === e.value || null === e.value ? \"\" : '\"' + String(e.value).split('\"').join('\"\"') + '\"');\n            });\n            break;\n          case \"row\":\n            e.columns.forEach(e => {\n              if (e) {\n                switch (typeof e.value) {\n                  case \"object\":\n                    e.value = null !== e.value ? JSON.stringify(e.value) : \"\";\n                    break;\n                  case \"undefined\":\n                    e.value = \"\";\n                }\n                t.push('\"' + String(e.value).split('\"').join('\"\"') + '\"');\n              }\n            }), o.push(t.join(s));\n        }\n      }), n.length && o.unshift(n.join(s)), o = o.join(\"\\n\"), t.bom && (o = \"\\ufeff\" + o), i(o, \"text/csv\");\n    },\n    json: function (e, t, i) {\n      var s = [];\n      e.forEach(e => {\n        var t = {};\n        switch (e.type) {\n          case \"header\":\n            break;\n          case \"group\":\n            console.warn(\"Download Warning - JSON downloader cannot process row groups\");\n            break;\n          case \"calc\":\n            console.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n            break;\n          case \"row\":\n            e.columns.forEach(e => {\n              e && (t[e.component.getTitleDownload() || e.component.getField()] = e.value);\n            }), s.push(t);\n        }\n      }), i(s = JSON.stringify(s, null, \"\\t\"), \"application/json\");\n    },\n    jsonLines: function (e, t, i) {\n      const s = [];\n      e.forEach(e => {\n        const t = {};\n        switch (e.type) {\n          case \"header\":\n            break;\n          case \"group\":\n            console.warn(\"Download Warning - JSON downloader cannot process row groups\");\n            break;\n          case \"calc\":\n            console.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n            break;\n          case \"row\":\n            e.columns.forEach(e => {\n              e && (t[e.component.getTitleDownload() || e.component.getField()] = e.value);\n            }), s.push(JSON.stringify(t));\n        }\n      }), i(s.join(\"\\n\"), \"application/x-ndjson\");\n    },\n    pdf: function (e, t = {}, i) {\n      var s = [],\n        o = [],\n        n = {},\n        r = t.rowGroupStyles || {\n          fontStyle: \"bold\",\n          fontSize: 12,\n          cellPadding: 6,\n          fillColor: 220\n        },\n        a = t.rowCalcStyles || {\n          fontStyle: \"bold\",\n          fontSize: 10,\n          cellPadding: 4,\n          fillColor: 232\n        },\n        l = t.jsPDF || {},\n        h = t.title ? t.title : \"\";\n      function d(e, t) {\n        var i = [];\n        return e.columns.forEach(e => {\n          var s;\n          if (e) {\n            switch (typeof e.value) {\n              case \"object\":\n                e.value = null !== e.value ? JSON.stringify(e.value) : \"\";\n                break;\n              case \"undefined\":\n                e.value = \"\";\n            }\n            s = {\n              content: e.value,\n              colSpan: e.width,\n              rowSpan: e.height\n            }, t && (s.styles = t), i.push(s);\n          }\n        }), i;\n      }\n      l.orientation || (l.orientation = t.orientation || \"landscape\"), l.unit || (l.unit = \"pt\"), e.forEach(e => {\n        switch (e.type) {\n          case \"header\":\n            s.push(d(e));\n            break;\n          case \"group\":\n            o.push(d(e, r));\n            break;\n          case \"calc\":\n            o.push(d(e, a));\n            break;\n          case \"row\":\n            o.push(d(e));\n        }\n      });\n      var c = new jspdf.jsPDF(l);\n      t.autoTable && (n = \"function\" == typeof t.autoTable ? t.autoTable(c) || {} : t.autoTable), h && (n.didDrawPage = function (e) {\n        c.text(h, 40, 30);\n      }), n.head = s, n.body = o, c.autoTable(n), t.documentProcessing && t.documentProcessing(c), i(c.output(\"arraybuffer\"), \"application/pdf\");\n    },\n    xlsx: function (t, i, s) {\n      var o = i.sheetName || \"Sheet1\",\n        n = XLSX.utils.book_new(),\n        r = new e(this),\n        a = !(\"compress\" in i) || i.compress,\n        l = i.writeOptions || {\n          bookType: \"xlsx\",\n          bookSST: !0,\n          compression: a\n        };\n      function h() {\n        var e = [],\n          i = [],\n          s = {},\n          o = {\n            s: {\n              c: 0,\n              r: 0\n            },\n            e: {\n              c: t[0] ? t[0].columns.reduce((e, t) => e + (t && t.width ? t.width : 1), 0) : 0,\n              r: t.length\n            }\n          };\n        return t.forEach((t, s) => {\n          var o = [];\n          t.columns.forEach(function (e, t) {\n            e ? (o.push(e.value instanceof Date || \"object\" != typeof e.value ? e.value : JSON.stringify(e.value)), (e.width > 1 || e.height > -1) && (e.height > 1 || e.width > 1) && i.push({\n              s: {\n                r: s,\n                c: t\n              },\n              e: {\n                r: s + e.height - 1,\n                c: t + e.width - 1\n              }\n            })) : o.push(\"\");\n          }), e.push(o);\n        }), XLSX.utils.sheet_add_aoa(s, e), s[\"!ref\"] = XLSX.utils.encode_range(o), i.length && (s[\"!merges\"] = i), s;\n      }\n      if (l.type = \"binary\", n.SheetNames = [], n.Sheets = {}, i.sheetOnly) s(h());else {\n        if (i.sheets) for (var d in i.sheets) !0 === i.sheets[d] ? (n.SheetNames.push(d), n.Sheets[d] = h()) : (n.SheetNames.push(d), r.commsSend(i.sheets[d], \"download\", \"intercept\", {\n          type: \"xlsx\",\n          options: {\n            sheetOnly: !0\n          },\n          active: this.active,\n          intercept: function (e) {\n            n.Sheets[d] = e;\n          }\n        }));else n.SheetNames.push(o), n.Sheets[o] = h();\n        i.documentProcessing && (n = i.documentProcessing(n)), s(function (e) {\n          for (var t = new ArrayBuffer(e.length), i = new Uint8Array(t), s = 0; s != e.length; ++s) i[s] = 255 & e.charCodeAt(s);\n          return t;\n        }(XLSX.write(n, l)), \"application/octet-stream\");\n      }\n    },\n    html: function (e, t, i) {\n      this.modExists(\"export\", !0) && i(this.modules.export.generateHTMLTable(e), \"text/html\");\n    }\n  };\n  class J extends k {\n    constructor(e) {\n      super(e), this.registerTableOption(\"downloadEncoder\", function (e, t) {\n        return new Blob([e], {\n          type: t\n        });\n      }), this.registerTableOption(\"downloadReady\", void 0), this.registerTableOption(\"downloadConfig\", {}), this.registerTableOption(\"downloadRowRange\", \"active\"), this.registerColumnOption(\"download\"), this.registerColumnOption(\"titleDownload\");\n    }\n    initialize() {\n      this.deprecatedOptionsCheck(), this.registerTableFunction(\"download\", this.download.bind(this)), this.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n    }\n    deprecatedOptionsCheck() {\n      this.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n    }\n    downloadToTab(e, t, i, s) {\n      this.download(e, t, i, s, !0);\n    }\n    download(e, t, i, s, o) {\n      var n = !1;\n      if (\"function\" == typeof e ? n = e : J.downloaders[e] ? n = J.downloaders[e] : console.warn(\"Download Error - No such download type found: \", e), n) {\n        var r = this.generateExportList(s);\n        n.call(this.table, r, i || {}, function (i, s) {\n          o ? !0 === o ? this.triggerDownload(i, s, e, t, !0) : o(i) : this.triggerDownload(i, s, e, t);\n        }.bind(this));\n      }\n    }\n    generateExportList(e) {\n      var t = this.table.modules.export.generateExportList(this.table.options.downloadConfig, !1, e || this.table.options.downloadRowRange, \"download\"),\n        i = this.table.options.groupHeaderDownload;\n      return i && !Array.isArray(i) && (i = [i]), t.forEach(e => {\n        var t;\n        \"group\" === e.type && (t = e.columns[0], i && i[e.indent] && (t.value = i[e.indent](t.value, e.component._group.getRowCount(), e.component._group.getData(), e.component)));\n      }), t;\n    }\n    triggerDownload(e, t, i, s, o) {\n      var n = document.createElement(\"a\"),\n        r = this.table.options.downloadEncoder(e, t);\n      r && (o ? window.open(window.URL.createObjectURL(r)) : (s = s || \"Tabulator.\" + (\"function\" == typeof i ? \"txt\" : i), navigator.msSaveOrOpenBlob ? navigator.msSaveOrOpenBlob(r, s) : (n.setAttribute(\"href\", window.URL.createObjectURL(r)), n.setAttribute(\"download\", s), n.style.display = \"none\", document.body.appendChild(n), n.click(), document.body.removeChild(n))), this.dispatchExternal(\"downloadComplete\"));\n    }\n    commsReceived(e, t, i) {\n      if (\"intercept\" === t) this.download(i.type, \"\", i.options, i.active, i.intercept);\n    }\n  }\n  function Y(e, t) {\n    var i = t.mask,\n      s = void 0 !== t.maskLetterChar ? t.maskLetterChar : \"A\",\n      o = void 0 !== t.maskNumberChar ? t.maskNumberChar : \"9\",\n      n = void 0 !== t.maskWildcardChar ? t.maskWildcardChar : \"*\";\n    function r(t) {\n      var a = i[t];\n      void 0 !== a && a !== n && a !== s && a !== o && (e.value = e.value + \"\" + a, r(t + 1));\n    }\n    e.addEventListener(\"keydown\", t => {\n      var r = e.value.length,\n        a = t.key;\n      if (t.keyCode > 46 && !t.ctrlKey && !t.metaKey) {\n        if (r >= i.length) return t.preventDefault(), t.stopPropagation(), !1;\n        switch (i[r]) {\n          case s:\n            if (a.toUpperCase() == a.toLowerCase()) return t.preventDefault(), t.stopPropagation(), !1;\n            break;\n          case o:\n            if (isNaN(a)) return t.preventDefault(), t.stopPropagation(), !1;\n            break;\n          case n:\n            break;\n          default:\n            if (a !== i[r]) return t.preventDefault(), t.stopPropagation(), !1;\n        }\n      }\n    }), e.addEventListener(\"keyup\", i => {\n      i.keyCode > 46 && t.maskAutoFill && r(e.value.length);\n    }), e.placeholder || (e.placeholder = i), t.maskAutoFill && r(e.value.length);\n  }\n  J.moduleName = \"download\", J.downloaders = K;\n  class $ {\n    constructor(e, t, i, s, o, n) {\n      this.edit = e, this.table = e.table, this.cell = t, this.params = this._initializeParams(n), this.data = [], this.displayItems = [], this.currentItems = [], this.focusedItem = null, this.input = this._createInputElement(), this.listEl = this._createListElement(), this.initialValues = null, this.isFilter = \"header\" === t.getType(), this.filterTimeout = null, this.filtered = !1, this.typing = !1, this.values = [], this.popup = null, this.listIteration = 0, this.lastAction = \"\", this.filterTerm = \"\", this.blurable = !0, this.actions = {\n        success: s,\n        cancel: o\n      }, this._deprecatedOptionsCheck(), this._initializeValue(), i(this._onRendered.bind(this));\n    }\n    _deprecatedOptionsCheck() {\n      this.params.listItemFormatter && this.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\"), this.params.sortValuesList && this.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\"), this.params.searchFunc && this.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\"), this.params.searchingPlaceholder && this.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n    }\n    _initializeValue() {\n      var e = this.cell.getValue();\n      void 0 === e && void 0 !== this.params.defaultValue && (e = this.params.defaultValue), this.initialValues = this.params.multiselect ? e : [e], this.isFilter && (this.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\", this.headerFilterInitialListGen());\n    }\n    _onRendered() {\n      var e = this.cell.getElement();\n      function t(e) {\n        e.stopPropagation();\n      }\n      this.isFilter || (this.input.style.height = \"100%\", this.input.focus({\n        preventScroll: !0\n      })), e.addEventListener(\"click\", t), setTimeout(() => {\n        e.removeEventListener(\"click\", t);\n      }, 1e3), this.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n    }\n    _createListElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-edit-list\"), e.addEventListener(\"mousedown\", this._preventBlur.bind(this)), e.addEventListener(\"keydown\", this._inputKeyDown.bind(this)), e;\n    }\n    _setListWidth() {\n      var e = this.isFilter ? this.input : this.cell.getElement();\n      this.listEl.style.minWidth = e.offsetWidth + \"px\", this.params.maxWidth && (!0 === this.params.maxWidth ? this.listEl.style.maxWidth = e.offsetWidth + \"px\" : \"number\" == typeof this.params.maxWidth ? this.listEl.style.maxWidth = this.params.maxWidth + \"px\" : this.listEl.style.maxWidth = this.params.maxWidth);\n    }\n    _createInputElement() {\n      var e = this.params.elementAttributes,\n        t = document.createElement(\"input\");\n      if (t.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\"), t.style.padding = \"4px\", t.style.width = \"100%\", t.style.boxSizing = \"border-box\", this.params.autocomplete || (t.style.cursor = \"default\", t.style.caretColor = \"transparent\"), e && \"object\" == typeof e) for (let i in e) \"+\" == i.charAt(0) ? (i = i.slice(1), t.setAttribute(i, t.getAttribute(i) + e[\"+\" + i])) : t.setAttribute(i, e[i]);\n      return this.params.mask && Y(t, this.params), this._bindInputEvents(t), t;\n    }\n    _initializeParams(e) {\n      var t,\n        i = [\"values\", \"valuesURL\", \"valuesLookup\"];\n      return (e = Object.assign({}, e)).verticalNavigation = e.verticalNavigation || \"editor\", e.placeholderLoading = void 0 === e.placeholderLoading ? \"Searching ...\" : e.placeholderLoading, e.placeholderEmpty = void 0 === e.placeholderEmpty ? \"No Results Found\" : e.placeholderEmpty, e.filterDelay = void 0 === e.filterDelay ? 300 : e.filterDelay, e.emptyValue = Object.keys(e).includes(\"emptyValue\") ? e.emptyValue : \"\", (t = Object.keys(e).filter(e => i.includes(e)).length) ? t > 1 && console.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\") : console.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\"), e.autocomplete ? e.multiselect && (e.multiselect = !1, console.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\")) : (e.freetext && (e.freetext = !1, console.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\")), e.filterFunc && (e.filterFunc = !1, console.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\")), e.filterRemote && (e.filterRemote = !1, console.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\")), e.mask && (e.mask = !1, console.warn(\"list editor config error - mask option is only available when autocomplete is enabled\")), e.allowEmpty && (e.allowEmpty = !1, console.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\")), e.listOnEmpty && (e.listOnEmpty = !1, console.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\"))), e.filterRemote && \"function\" != typeof e.valuesLookup && !e.valuesURL && (e.filterRemote = !1, console.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\")), e;\n    }\n    _bindInputEvents(e) {\n      e.addEventListener(\"focus\", this._inputFocus.bind(this)), e.addEventListener(\"click\", this._inputClick.bind(this)), e.addEventListener(\"blur\", this._inputBlur.bind(this)), e.addEventListener(\"keydown\", this._inputKeyDown.bind(this)), e.addEventListener(\"search\", this._inputSearch.bind(this)), this.params.autocomplete && e.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n    }\n    _inputFocus(e) {\n      this.rebuildOptionsList();\n    }\n    _filter() {\n      this.params.filterRemote ? (clearTimeout(this.filterTimeout), this.filterTimeout = setTimeout(() => {\n        this.rebuildOptionsList();\n      }, this.params.filterDelay)) : this._filterList();\n    }\n    _inputClick(e) {\n      e.stopPropagation();\n    }\n    _inputBlur(e) {\n      this.blurable && (this.popup ? this.popup.hide() : this._resolveValue(!0));\n    }\n    _inputSearch() {\n      this._clearChoices();\n    }\n    _inputKeyDown(e) {\n      switch (e.keyCode) {\n        case 38:\n          this._keyUp(e);\n          break;\n        case 40:\n          this._keyDown(e);\n          break;\n        case 37:\n        case 39:\n          this._keySide(e);\n          break;\n        case 13:\n          this._keyEnter();\n          break;\n        case 27:\n          this._keyEsc();\n          break;\n        case 36:\n        case 35:\n          this._keyHomeEnd(e);\n          break;\n        case 9:\n          this._keyTab(e);\n          break;\n        default:\n          this._keySelectLetter(e);\n      }\n    }\n    _inputKeyUp(e) {\n      switch (e.keyCode) {\n        case 38:\n        case 37:\n        case 39:\n        case 40:\n        case 13:\n        case 27:\n          break;\n        default:\n          this._keyAutoCompLetter(e);\n      }\n    }\n    _preventPopupBlur() {\n      this.popup && this.popup.blockHide(), setTimeout(() => {\n        this.popup && this.popup.restoreHide();\n      }, 10);\n    }\n    _preventBlur() {\n      this.blurable = !1, setTimeout(() => {\n        this.blurable = !0;\n      }, 10);\n    }\n    _keyTab(e) {\n      this.params.autocomplete && \"typing\" === this.lastAction ? this._resolveValue(!0) : this.focusedItem && this._chooseItem(this.focusedItem, !0);\n    }\n    _keyUp(e) {\n      var t = this.displayItems.indexOf(this.focusedItem);\n      (\"editor\" == this.params.verticalNavigation || \"hybrid\" == this.params.verticalNavigation && t) && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault(), t > 0 && this._focusItem(this.displayItems[t - 1]));\n    }\n    _keyDown(e) {\n      var t = this.displayItems.indexOf(this.focusedItem);\n      (\"editor\" == this.params.verticalNavigation || \"hybrid\" == this.params.verticalNavigation && t < this.displayItems.length - 1) && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault(), t < this.displayItems.length - 1 && (-1 == t ? this._focusItem(this.displayItems[0]) : this._focusItem(this.displayItems[t + 1])));\n    }\n    _keySide(e) {\n      this.params.autocomplete || (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault());\n    }\n    _keyEnter(e) {\n      this.params.autocomplete && \"typing\" === this.lastAction ? this._resolveValue(!0) : this.focusedItem && this._chooseItem(this.focusedItem);\n    }\n    _keyEsc(e) {\n      this._cancel();\n    }\n    _keyHomeEnd(e) {\n      this.params.autocomplete && e.stopImmediatePropagation();\n    }\n    _keySelectLetter(e) {\n      this.params.autocomplete || (e.preventDefault(), e.keyCode >= 38 && e.keyCode <= 90 && this._scrollToValue(e.keyCode));\n    }\n    _keyAutoCompLetter(e) {\n      this._filter(), this.lastAction = \"typing\", this.typing = !0;\n    }\n    _scrollToValue(e) {\n      clearTimeout(this.filterTimeout);\n      var t = String.fromCharCode(e).toLowerCase();\n      this.filterTerm += t.toLowerCase();\n      var i = this.displayItems.find(e => void 0 !== e.label && e.label.toLowerCase().startsWith(this.filterTerm));\n      i && this._focusItem(i), this.filterTimeout = setTimeout(() => {\n        this.filterTerm = \"\";\n      }, 800);\n    }\n    _focusItem(e) {\n      this.lastAction = \"focus\", this.focusedItem && this.focusedItem.element && this.focusedItem.element.classList.remove(\"focused\"), this.focusedItem = e, e && e.element && (e.element.classList.add(\"focused\"), e.element.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\",\n        inline: \"start\"\n      }));\n    }\n    headerFilterInitialListGen() {\n      this._generateOptions(!0);\n    }\n    rebuildOptionsList() {\n      this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e => {\n        Number.isInteger(e) || console.error(\"List generation error\", e);\n      });\n    }\n    _filterList() {\n      this._buildList(this._filterOptions()), this._showList();\n    }\n    _generateOptions(e) {\n      var t = [],\n        i = ++this.listIteration;\n      return this.filtered = !1, this.params.values ? t = this.params.values : this.params.valuesURL ? t = this._ajaxRequest(this.params.valuesURL, this.input.value) : \"function\" == typeof this.params.valuesLookup ? t = this.params.valuesLookup(this.cell, this.input.value) : this.params.valuesLookup && (t = this._uniqueColumnValues(this.params.valuesLookupField)), t instanceof Promise ? (e || this._addPlaceholder(this.params.placeholderLoading), t.then().then(e => this.listIteration === i ? this._parseList(e) : Promise.reject(i))) : Promise.resolve(this._parseList(t));\n    }\n    _addPlaceholder(e) {\n      var t = document.createElement(\"div\");\n      \"function\" == typeof e && (e = e(this.cell.getComponent(), this.listEl)), e && (this._clearList(), e instanceof HTMLElement ? t = e : (t.classList.add(\"tabulator-edit-list-placeholder\"), t.innerHTML = e), this.listEl.appendChild(t), this._showList());\n    }\n    _ajaxRequest(e, t) {\n      return e = I(e, {}, this.params.filterRemote ? {\n        term: t\n      } : {}), fetch(e).then(e => e.ok ? e.json().catch(e => (console.warn(\"List Ajax Load Error - Invalid JSON returned\", e), Promise.reject(e))) : (console.error(\"List Ajax Load Error - Connection Error: \" + e.status, e.statusText), Promise.reject(e))).catch(e => (console.error(\"List Ajax Load Error - Connection Error: \", e), Promise.reject(e)));\n    }\n    _uniqueColumnValues(e) {\n      var t,\n        i = {},\n        s = this.table.getData(this.params.valuesLookup);\n      return (t = e ? this.table.columnManager.getColumnByField(e) : this.cell.getColumn()._getSelf()) ? s.forEach(e => {\n        var s = t.getFieldValue(e);\n        null != s && \"\" !== s && (i[s] = !0);\n      }) : (console.warn(\"unable to find matching column to create select lookup list:\", e), i = []), Object.keys(i);\n    }\n    _parseList(e) {\n      var t = [];\n      return Array.isArray(e) || (e = Object.entries(e).map(([e, t]) => ({\n        label: t,\n        value: e\n      }))), e.forEach(e => {\n        \"object\" != typeof e && (e = {\n          label: e,\n          value: e\n        }), this._parseListItem(e, t, 0);\n      }), !this.currentItems.length && this.params.freetext && (this.input.value = this.initialValues, this.typing = !0, this.lastAction = \"typing\"), this.data = t, t;\n    }\n    _parseListItem(e, t, i) {\n      var s = {};\n      e.options ? s = this._parseListGroup(e, i + 1) : (s = {\n        label: e.label,\n        value: e.value,\n        itemParams: e.itemParams,\n        elementAttributes: e.elementAttributes,\n        element: !1,\n        selected: !1,\n        visible: !0,\n        level: i,\n        original: e\n      }, this.initialValues && this.initialValues.indexOf(e.value) > -1 && this._chooseItem(s, !0)), t.push(s);\n    }\n    _parseListGroup(e, t) {\n      var i = {\n        label: e.label,\n        group: !0,\n        itemParams: e.itemParams,\n        elementAttributes: e.elementAttributes,\n        element: !1,\n        visible: !0,\n        level: t,\n        options: [],\n        original: e\n      };\n      return e.options.forEach(e => {\n        this._parseListItem(e, i.options, t);\n      }), i;\n    }\n    _sortOptions(e) {\n      var t;\n      return this.params.sort && (t = \"function\" == typeof this.params.sort ? this.params.sort : this._defaultSortFunction.bind(this), this._sortGroup(t, e)), e;\n    }\n    _sortGroup(e, t) {\n      t.sort((t, i) => e(t.label, i.label, t.value, i.value, t.original, i.original)), t.forEach(t => {\n        t.group && this._sortGroup(e, t.options);\n      });\n    }\n    _defaultSortFunction(e, t) {\n      var i,\n        s,\n        o,\n        n,\n        r,\n        a = 0,\n        l = /(\\d+)|(\\D+)/g,\n        h = /\\d/,\n        d = 0;\n      if (\"desc\" === this.params.sort && ([e, t] = [t, e]), e || 0 === e) {\n        if (t || 0 === t) {\n          if (isFinite(e) && isFinite(t)) return e - t;\n          if ((i = String(e).toLowerCase()) === (s = String(t).toLowerCase())) return 0;\n          if (!h.test(i) || !h.test(s)) return i > s ? 1 : -1;\n          for (i = i.match(l), s = s.match(l), r = i.length > s.length ? s.length : i.length; a < r;) if ((o = i[a]) !== (n = s[a++])) return isFinite(o) && isFinite(n) ? (\"0\" === o.charAt(0) && (o = \".\" + o), \"0\" === n.charAt(0) && (n = \".\" + n), o - n) : o > n ? 1 : -1;\n          return i.length > s.length;\n        }\n        d = 1;\n      } else d = t || 0 === t ? -1 : 0;\n      return d;\n    }\n    _filterOptions() {\n      var e = this.params.filterFunc || this._defaultFilterFunc,\n        t = this.input.value;\n      return t ? (this.filtered = !0, this.data.forEach(i => {\n        this._filterItem(e, t, i);\n      })) : this.filtered = !1, this.data;\n    }\n    _filterItem(e, t, i) {\n      var s = !1;\n      return i.group ? (i.options.forEach(i => {\n        this._filterItem(e, t, i) && (s = !0);\n      }), i.visible = s) : i.visible = e(t, i.label, i.value, i.original), i.visible;\n    }\n    _defaultFilterFunc(e, t, i, s) {\n      return e = String(e).toLowerCase(), null != t && (String(t).toLowerCase().indexOf(e) > -1 || String(i).toLowerCase().indexOf(e) > -1);\n    }\n    _clearList() {\n      for (; this.listEl.firstChild;) this.listEl.removeChild(this.listEl.firstChild);\n      this.displayItems = [];\n    }\n    _buildList(e) {\n      this._clearList(), e.forEach(e => {\n        this._buildItem(e);\n      }), this.displayItems.length || this._addPlaceholder(this.params.placeholderEmpty);\n    }\n    _buildItem(e) {\n      var t,\n        i = e.element;\n      if (!this.filtered || e.visible) {\n        if (!i) {\n          if ((i = document.createElement(\"div\")).tabIndex = 0, (t = this.params.itemFormatter ? this.params.itemFormatter(e.label, e.value, e.original, i) : e.label) instanceof HTMLElement ? i.appendChild(t) : i.innerHTML = t, e.group ? i.classList.add(\"tabulator-edit-list-group\") : i.classList.add(\"tabulator-edit-list-item\"), i.classList.add(\"tabulator-edit-list-group-level-\" + e.level), e.elementAttributes && \"object\" == typeof e.elementAttributes) for (let t in e.elementAttributes) \"+\" == t.charAt(0) ? (t = t.slice(1), i.setAttribute(t, this.input.getAttribute(t) + e.elementAttributes[\"+\" + t])) : i.setAttribute(t, e.elementAttributes[t]);\n          e.group ? i.addEventListener(\"click\", this._groupClick.bind(this, e)) : i.addEventListener(\"click\", this._itemClick.bind(this, e)), i.addEventListener(\"mousedown\", this._preventBlur.bind(this)), e.element = i;\n        }\n        this._styleItem(e), this.listEl.appendChild(i), e.group ? e.options.forEach(e => {\n          this._buildItem(e);\n        }) : this.displayItems.push(e);\n      }\n    }\n    _showList() {\n      var e = this.popup && this.popup.isVisible();\n      if (this.input.parentNode) {\n        if (this.params.autocomplete && \"\" === this.input.value && !this.params.listOnEmpty) return void (this.popup && this.popup.hide(!0));\n        this._setListWidth(), this.popup || (this.popup = this.edit.popup(this.listEl)), this.popup.show(this.cell.getElement(), \"bottom\"), e || setTimeout(() => {\n          this.popup.hideOnBlur(this._resolveValue.bind(this, !0));\n        }, 10);\n      }\n    }\n    _styleItem(e) {\n      e && e.element && (e.selected ? e.element.classList.add(\"active\") : e.element.classList.remove(\"active\"));\n    }\n    _itemClick(e, t) {\n      t.stopPropagation(), this._chooseItem(e);\n    }\n    _groupClick(e, t) {\n      t.stopPropagation();\n    }\n    _cancel() {\n      this.popup.hide(!0), this.actions.cancel();\n    }\n    _clearChoices() {\n      this.typing = !0, this.currentItems.forEach(e => {\n        e.selected = !1, this._styleItem(e);\n      }), this.currentItems = [], this.focusedItem = null;\n    }\n    _chooseItem(e, t) {\n      var i;\n      this.typing = !1, this.params.multiselect ? ((i = this.currentItems.indexOf(e)) > -1 ? (this.currentItems.splice(i, 1), e.selected = !1) : (this.currentItems.push(e), e.selected = !0), this.input.value = this.currentItems.map(e => e.label).join(\",\"), this._styleItem(e)) : (this.currentItems = [e], e.selected = !0, this.input.value = e.label, this._styleItem(e), t || this._resolveValue()), this._focusItem(e);\n    }\n    _resolveValue(e) {\n      var t, i;\n      if (this.popup && this.popup.hide(!0), this.params.multiselect) t = this.currentItems.map(e => e.value);else if (e && this.params.autocomplete && this.typing) {\n        if (!(this.params.freetext || this.params.allowEmpty && \"\" === this.input.value)) return void this.actions.cancel();\n        t = this.input.value;\n      } else t = this.currentItems[0] ? this.currentItems[0].value : null == (i = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues) || \"\" === i ? i : this.params.emptyValue;\n      \"\" === t && (t = this.params.emptyValue), this.actions.success(t), this.isFilter && (this.initialValues = t && !Array.isArray(t) ? [t] : t, this.currentItems = []);\n    }\n  }\n  var Z = {\n    input: function (e, t, i, s, o) {\n      var n = e.getValue(),\n        r = document.createElement(\"input\");\n      if (r.setAttribute(\"type\", o.search ? \"search\" : \"text\"), r.style.padding = \"4px\", r.style.width = \"100%\", r.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), r.setAttribute(e, r.getAttribute(e) + o.elementAttributes[\"+\" + e])) : r.setAttribute(e, o.elementAttributes[e]);\n      function a(e) {\n        null == n && \"\" !== r.value || r.value !== n ? i(r.value) && (n = r.value) : s();\n      }\n      return r.value = void 0 !== n ? n : \"\", t(function () {\n        \"cell\" === e.getType() && (r.focus({\n          preventScroll: !0\n        }), r.style.height = \"100%\", o.selectContents && r.select());\n      }), r.addEventListener(\"change\", a), r.addEventListener(\"blur\", a), r.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            a();\n            break;\n          case 27:\n            s();\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n        }\n      }), o.mask && Y(r, o), r;\n    },\n    textarea: function (e, t, i, s, o) {\n      var n = e.getValue(),\n        r = o.verticalNavigation || \"hybrid\",\n        a = String(null != n ? n : \"\"),\n        l = document.createElement(\"textarea\"),\n        h = 0;\n      if (l.style.display = \"block\", l.style.padding = \"2px\", l.style.height = \"100%\", l.style.width = \"100%\", l.style.boxSizing = \"border-box\", l.style.whiteSpace = \"pre-wrap\", l.style.resize = \"none\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), l.setAttribute(e, l.getAttribute(e) + o.elementAttributes[\"+\" + e])) : l.setAttribute(e, o.elementAttributes[e]);\n      function d(t) {\n        null == n && \"\" !== l.value || l.value !== n ? (i(l.value) && (n = l.value), setTimeout(function () {\n          e.getRow().normalizeHeight();\n        }, 300)) : s();\n      }\n      return l.value = a, t(function () {\n        \"cell\" === e.getType() && (l.focus({\n          preventScroll: !0\n        }), l.style.height = \"100%\", l.scrollHeight, l.style.height = l.scrollHeight + \"px\", e.getRow().normalizeHeight(), o.selectContents && l.select());\n      }), l.addEventListener(\"change\", d), l.addEventListener(\"blur\", d), l.addEventListener(\"keyup\", function () {\n        l.style.height = \"\";\n        var t = l.scrollHeight;\n        l.style.height = t + \"px\", t != h && (h = t, e.getRow().normalizeHeight());\n      }), l.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            e.shiftKey && o.shiftEnterSubmit && d();\n            break;\n          case 27:\n            s();\n            break;\n          case 38:\n            (\"editor\" == r || \"hybrid\" == r && l.selectionStart) && (e.stopImmediatePropagation(), e.stopPropagation());\n            break;\n          case 40:\n            (\"editor\" == r || \"hybrid\" == r && l.selectionStart !== l.value.length) && (e.stopImmediatePropagation(), e.stopPropagation());\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n        }\n      }), o.mask && Y(l, o), l;\n    },\n    number: function (e, t, i, s, o) {\n      var n = e.getValue(),\n        r = o.verticalNavigation || \"editor\",\n        a = document.createElement(\"input\");\n      if (a.setAttribute(\"type\", \"number\"), void 0 !== o.max && a.setAttribute(\"max\", o.max), void 0 !== o.min && a.setAttribute(\"min\", o.min), void 0 !== o.step && a.setAttribute(\"step\", o.step), a.style.padding = \"4px\", a.style.width = \"100%\", a.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), a.setAttribute(e, a.getAttribute(e) + o.elementAttributes[\"+\" + e])) : a.setAttribute(e, o.elementAttributes[e]);\n      a.value = n;\n      var l = function (e) {\n        h();\n      };\n      function h() {\n        var e = a.value;\n        isNaN(e) || \"\" === e || (e = Number(e)), e !== n ? i(e) && (n = e) : s();\n      }\n      return t(function () {\n        \"cell\" === e.getType() && (a.removeEventListener(\"blur\", l), a.focus({\n          preventScroll: !0\n        }), a.style.height = \"100%\", a.addEventListener(\"blur\", l), o.selectContents && a.select());\n      }), a.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            h();\n            break;\n          case 27:\n            s();\n            break;\n          case 38:\n          case 40:\n            \"editor\" == r && (e.stopImmediatePropagation(), e.stopPropagation());\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n        }\n      }), o.mask && Y(a, o), a;\n    },\n    range: function (e, t, i, s, o) {\n      var n = e.getValue(),\n        r = document.createElement(\"input\");\n      if (r.setAttribute(\"type\", \"range\"), void 0 !== o.max && r.setAttribute(\"max\", o.max), void 0 !== o.min && r.setAttribute(\"min\", o.min), void 0 !== o.step && r.setAttribute(\"step\", o.step), r.style.padding = \"4px\", r.style.width = \"100%\", r.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), r.setAttribute(e, r.getAttribute(e) + o.elementAttributes[\"+\" + e])) : r.setAttribute(e, o.elementAttributes[e]);\n      function a() {\n        var e = r.value;\n        isNaN(e) || \"\" === e || (e = Number(e)), e != n ? i(e) && (n = e) : s();\n      }\n      return r.value = n, t(function () {\n        \"cell\" === e.getType() && (r.focus({\n          preventScroll: !0\n        }), r.style.height = \"100%\");\n      }), r.addEventListener(\"blur\", function (e) {\n        a();\n      }), r.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            a();\n            break;\n          case 27:\n            s();\n        }\n      }), r;\n    },\n    date: function (e, t, i, s, o) {\n      var n = o.format,\n        r = o.verticalNavigation || \"editor\",\n        a = n ? window.DateTime || luxon.DateTime : null,\n        l = e.getValue(),\n        h = document.createElement(\"input\");\n      function d(e) {\n        return (a.isDateTime(e) ? e : \"iso\" === n ? a.fromISO(String(e)) : a.fromFormat(String(e), n)).toFormat(\"yyyy-MM-dd\");\n      }\n      if (h.type = \"date\", h.style.padding = \"4px\", h.style.width = \"100%\", h.style.boxSizing = \"border-box\", o.max && h.setAttribute(\"max\", n ? d(o.max) : o.max), o.min && h.setAttribute(\"min\", n ? d(o.min) : o.min), o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), h.setAttribute(e, h.getAttribute(e) + o.elementAttributes[\"+\" + e])) : h.setAttribute(e, o.elementAttributes[e]);\n      function c() {\n        var e,\n          t = h.value;\n        if (null == l && \"\" !== t || t !== l) {\n          if (t && n) switch (e = a.fromFormat(String(t), \"yyyy-MM-dd\"), n) {\n            case !0:\n              t = e;\n              break;\n            case \"iso\":\n              t = e.toISO();\n              break;\n            default:\n              t = e.toFormat(n);\n          }\n          i(t) && (l = h.value);\n        } else s();\n      }\n      return l = void 0 !== l ? l : \"\", n && (a ? l = d(l) : console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\")), h.value = l, t(function () {\n        \"cell\" === e.getType() && (h.focus({\n          preventScroll: !0\n        }), h.style.height = \"100%\", o.selectContents && h.select());\n      }), h.addEventListener(\"blur\", function (e) {\n        (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== h) && c();\n      }), h.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            c();\n            break;\n          case 27:\n            s();\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n            break;\n          case 38:\n          case 40:\n            \"editor\" == r && (e.stopImmediatePropagation(), e.stopPropagation());\n        }\n      }), h;\n    },\n    time: function (e, t, i, s, o) {\n      var n,\n        r = o.format,\n        a = o.verticalNavigation || \"editor\",\n        l = r ? window.DateTime || luxon.DateTime : null,\n        h = e.getValue(),\n        d = document.createElement(\"input\");\n      if (d.type = \"time\", d.style.padding = \"4px\", d.style.width = \"100%\", d.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), d.setAttribute(e, d.getAttribute(e) + o.elementAttributes[\"+\" + e])) : d.setAttribute(e, o.elementAttributes[e]);\n      function c() {\n        var e,\n          t = d.value;\n        if (null == h && \"\" !== t || t !== h) {\n          if (t && r) switch (e = l.fromFormat(String(t), \"hh:mm\"), r) {\n            case !0:\n              t = e;\n              break;\n            case \"iso\":\n              t = e.toISO();\n              break;\n            default:\n              t = e.toFormat(r);\n          }\n          i(t) && (h = d.value);\n        } else s();\n      }\n      return h = void 0 !== h ? h : \"\", r && (l ? (n = l.isDateTime(h) ? h : \"iso\" === r ? l.fromISO(String(h)) : l.fromFormat(String(h), r), h = n.toFormat(\"hh:mm\")) : console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\")), d.value = h, t(function () {\n        \"cell\" == e.getType() && (d.focus({\n          preventScroll: !0\n        }), d.style.height = \"100%\", o.selectContents && d.select());\n      }), d.addEventListener(\"blur\", function (e) {\n        (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== d) && c();\n      }), d.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            c();\n            break;\n          case 27:\n            s();\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n            break;\n          case 38:\n          case 40:\n            \"editor\" == a && (e.stopImmediatePropagation(), e.stopPropagation());\n        }\n      }), d;\n    },\n    datetime: function (e, t, i, s, o) {\n      var n,\n        r = o.format,\n        a = o.verticalNavigation || \"editor\",\n        l = r ? window.DateTime || luxon.DateTime : null,\n        h = e.getValue(),\n        d = document.createElement(\"input\");\n      if (d.type = \"datetime-local\", d.style.padding = \"4px\", d.style.width = \"100%\", d.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), d.setAttribute(e, d.getAttribute(e) + o.elementAttributes[\"+\" + e])) : d.setAttribute(e, o.elementAttributes[e]);\n      function c() {\n        var e,\n          t = d.value;\n        if (null == h && \"\" !== t || t !== h) {\n          if (t && r) switch (e = l.fromISO(String(t)), r) {\n            case !0:\n              t = e;\n              break;\n            case \"iso\":\n              t = e.toISO();\n              break;\n            default:\n              t = e.toFormat(r);\n          }\n          i(t) && (h = d.value);\n        } else s();\n      }\n      return h = void 0 !== h ? h : \"\", r && (l ? (n = l.isDateTime(h) ? h : \"iso\" === r ? l.fromISO(String(h)) : l.fromFormat(String(h), r), h = n.toFormat(\"yyyy-MM-dd\") + \"T\" + n.toFormat(\"hh:mm\")) : console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\")), d.value = h, t(function () {\n        \"cell\" === e.getType() && (d.focus({\n          preventScroll: !0\n        }), d.style.height = \"100%\", o.selectContents && d.select());\n      }), d.addEventListener(\"blur\", function (e) {\n        (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== d) && c();\n      }), d.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 13:\n            c();\n            break;\n          case 27:\n            s();\n            break;\n          case 35:\n          case 36:\n            e.stopPropagation();\n            break;\n          case 38:\n          case 40:\n            \"editor\" == a && (e.stopImmediatePropagation(), e.stopPropagation());\n        }\n      }), d;\n    },\n    select: function (e, t, i, s, o) {\n      return this.deprecationMsg(\"The select editor has been deprecated, please use the new list editor\"), new $(this, e, t, i, s, o).input;\n    },\n    list: function (e, t, i, s, o) {\n      return new $(this, e, t, i, s, o).input;\n    },\n    autocomplete: function (e, t, i, s, o) {\n      return this.deprecationMsg(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\"), o.autocomplete = !0, new $(this, e, t, i, s, o).input;\n    },\n    star: function (e, t, i, s, o) {\n      var n = this,\n        r = e.getElement(),\n        a = e.getValue(),\n        l = r.getElementsByTagName(\"svg\").length || 5,\n        h = r.getElementsByTagName(\"svg\")[0] ? r.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n        d = [],\n        c = document.createElement(\"div\"),\n        u = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      function p(e) {\n        d.forEach(function (t, i) {\n          i < e ? (\"ie\" == n.table.browser ? t.setAttribute(\"class\", \"tabulator-star-active\") : t.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\"), t.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>') : (\"ie\" == n.table.browser ? t.setAttribute(\"class\", \"tabulator-star-inactive\") : t.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\"), t.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>');\n        });\n      }\n      function m(e) {\n        var t = document.createElement(\"span\"),\n          s = u.cloneNode(!0);\n        d.push(s), t.addEventListener(\"mouseenter\", function (t) {\n          t.stopPropagation(), t.stopImmediatePropagation(), p(e);\n        }), t.addEventListener(\"mousemove\", function (e) {\n          e.stopPropagation(), e.stopImmediatePropagation();\n        }), t.addEventListener(\"click\", function (t) {\n          t.stopPropagation(), t.stopImmediatePropagation(), i(e), r.blur();\n        }), t.appendChild(s), c.appendChild(t);\n      }\n      function g(e) {\n        a = e, p(e);\n      }\n      if (r.style.whiteSpace = \"nowrap\", r.style.overflow = \"hidden\", r.style.textOverflow = \"ellipsis\", c.style.verticalAlign = \"middle\", c.style.display = \"inline-block\", c.style.padding = \"4px\", u.setAttribute(\"width\", h), u.setAttribute(\"height\", h), u.setAttribute(\"viewBox\", \"0 0 512 512\"), u.setAttribute(\"xml:space\", \"preserve\"), u.style.padding = \"0 1px\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), c.setAttribute(e, c.getAttribute(e) + o.elementAttributes[\"+\" + e])) : c.setAttribute(e, o.elementAttributes[e]);\n      for (var b = 1; b <= l; b++) m(b);\n      return p(a = Math.min(parseInt(a), l)), c.addEventListener(\"mousemove\", function (e) {\n        p(0);\n      }), c.addEventListener(\"click\", function (e) {\n        i(0);\n      }), r.addEventListener(\"blur\", function (e) {\n        s();\n      }), r.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 39:\n            g(a + 1);\n            break;\n          case 37:\n            g(a - 1);\n            break;\n          case 13:\n            i(a);\n            break;\n          case 27:\n            s();\n        }\n      }), c;\n    },\n    progress: function (e, t, i, s, o) {\n      var n,\n        r,\n        a = e.getElement(),\n        l = void 0 === o.max ? a.getElementsByTagName(\"div\")[0] && a.getElementsByTagName(\"div\")[0].getAttribute(\"max\") || 100 : o.max,\n        h = void 0 === o.min ? a.getElementsByTagName(\"div\")[0] && a.getElementsByTagName(\"div\")[0].getAttribute(\"min\") || 0 : o.min,\n        d = (l - h) / 100,\n        c = e.getValue() || 0,\n        u = document.createElement(\"div\"),\n        p = document.createElement(\"div\");\n      function m() {\n        var e = window.getComputedStyle(a, null),\n          t = d * Math.round(p.offsetWidth / ((a.clientWidth - parseInt(e.getPropertyValue(\"padding-left\")) - parseInt(e.getPropertyValue(\"padding-right\"))) / 100)) + h;\n        i(t), a.setAttribute(\"aria-valuenow\", t), a.setAttribute(\"aria-label\", c);\n      }\n      if (u.style.position = \"absolute\", u.style.right = \"0\", u.style.top = \"0\", u.style.bottom = \"0\", u.style.width = \"5px\", u.classList.add(\"tabulator-progress-handle\"), p.style.display = \"inline-block\", p.style.position = \"relative\", p.style.height = \"100%\", p.style.backgroundColor = \"#488CE9\", p.style.maxWidth = \"100%\", p.style.minWidth = \"0%\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), p.setAttribute(e, p.getAttribute(e) + o.elementAttributes[\"+\" + e])) : p.setAttribute(e, o.elementAttributes[e]);\n      return a.style.padding = \"4px 4px\", c = Math.min(parseFloat(c), l), c = Math.max(parseFloat(c), h), c = Math.round((c - h) / d), p.style.width = c + \"%\", a.setAttribute(\"aria-valuemin\", h), a.setAttribute(\"aria-valuemax\", l), p.appendChild(u), u.addEventListener(\"mousedown\", function (e) {\n        n = e.screenX, r = p.offsetWidth;\n      }), u.addEventListener(\"mouseover\", function () {\n        u.style.cursor = \"ew-resize\";\n      }), a.addEventListener(\"mousemove\", function (e) {\n        n && (p.style.width = r + e.screenX - n + \"px\");\n      }), a.addEventListener(\"mouseup\", function (e) {\n        n && (e.stopPropagation(), e.stopImmediatePropagation(), n = !1, r = !1, m());\n      }), a.addEventListener(\"keydown\", function (e) {\n        switch (e.keyCode) {\n          case 39:\n            e.preventDefault(), p.style.width = p.clientWidth + a.clientWidth / 100 + \"px\";\n            break;\n          case 37:\n            e.preventDefault(), p.style.width = p.clientWidth - a.clientWidth / 100 + \"px\";\n            break;\n          case 9:\n          case 13:\n            m();\n            break;\n          case 27:\n            s();\n        }\n      }), a.addEventListener(\"blur\", function () {\n        s();\n      }), p;\n    },\n    tickCross: function (e, t, i, s, o) {\n      var n = e.getValue(),\n        r = document.createElement(\"input\"),\n        a = o.tristate,\n        l = void 0 === o.indeterminateValue ? null : o.indeterminateValue,\n        h = !1,\n        d = Object.keys(o).includes(\"trueValue\"),\n        c = Object.keys(o).includes(\"falseValue\");\n      if (r.setAttribute(\"type\", \"checkbox\"), r.style.marginTop = \"5px\", r.style.boxSizing = \"border-box\", o.elementAttributes && \"object\" == typeof o.elementAttributes) for (let e in o.elementAttributes) \"+\" == e.charAt(0) ? (e = e.slice(1), r.setAttribute(e, r.getAttribute(e) + o.elementAttributes[\"+\" + e])) : r.setAttribute(e, o.elementAttributes[e]);\n      function u(e) {\n        var t = r.checked;\n        return d && t ? t = o.trueValue : c && !t && (t = o.falseValue), a ? e ? h ? l : t : r.checked && !h ? (r.checked = !1, r.indeterminate = !0, h = !0, l) : (h = !1, t) : t;\n      }\n      return r.value = n, !a || void 0 !== n && n !== l && \"\" !== n || (h = !0, r.indeterminate = !0), \"firefox\" != this.table.browser && \"safari\" != this.table.browser && t(function () {\n        \"cell\" === e.getType() && r.focus({\n          preventScroll: !0\n        });\n      }), r.checked = d ? n === o.trueValue : !0 === n || \"true\" === n || \"True\" === n || 1 === n, r.addEventListener(\"change\", function (e) {\n        i(u());\n      }), r.addEventListener(\"blur\", function (e) {\n        i(u(!0));\n      }), r.addEventListener(\"keydown\", function (e) {\n        13 == e.keyCode && i(u()), 27 == e.keyCode && s();\n      }), r;\n    }\n  };\n  class Q extends k {\n    constructor(e) {\n      super(e), this.currentCell = !1, this.mouseClick = !1, this.recursionBlock = !1, this.invalidEdit = !1, this.editedCells = [], this.editors = Q.editors, this.registerColumnOption(\"editable\"), this.registerColumnOption(\"editor\"), this.registerColumnOption(\"editorParams\"), this.registerColumnOption(\"cellEditing\"), this.registerColumnOption(\"cellEdited\"), this.registerColumnOption(\"cellEditCancelled\"), this.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this)), this.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this)), this.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this)), this.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this)), this.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this)), this.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this)), this.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this)), this.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this)), this.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this)), this.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this)), this.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this)), this.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this)), this.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this)), this.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this)), this.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this)), this.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this)), this.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this)), this.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n    }\n    initialize() {\n      this.subscribe(\"cell-init\", this.bindEditor.bind(this)), this.subscribe(\"cell-delete\", this.clearEdited.bind(this)), this.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this)), this.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this)), this.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this)), this.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this)), this.subscribe(\"row-layout\", this.rowEditableCheck.bind(this)), this.subscribe(\"data-refreshing\", this.cancelEdit.bind(this)), this.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, void 0)), this.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this)), this.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, void 0)), this.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, void 0)), this.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, void 0)), this.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, void 0));\n    }\n    keybindingNavigateNext(e) {\n      var t = this.currentCell,\n        i = this.options(\"tabEndNewRow\");\n      t && (this.navigateNext(t, e) || i && (t.getElement().firstChild.blur(), (i = !0 === i ? this.table.addRow({}) : \"function\" == typeof i ? this.table.addRow(i(t.row.getComponent())) : this.table.addRow(Object.assign({}, i))).then(() => {\n        setTimeout(() => {\n          t.getComponent().navigateNext();\n        });\n      })));\n    }\n    cellIsEdited(e) {\n      return !!e.modules.edit && e.modules.edit.edited;\n    }\n    cellCancelEdit(e) {\n      e === this.currentCell ? this.table.modules.edit.cancelEdit() : console.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n    }\n    updateCellClass(e) {\n      this.allowEdit(e) ? e.getElement().classList.add(\"tabulator-editable\") : e.getElement().classList.remove(\"tabulator-editable\");\n    }\n    clearCellEdited(e) {\n      e || (e = this.table.modules.edit.getEditedCells()), Array.isArray(e) || (e = [e]), e.forEach(e => {\n        this.table.modules.edit.clearEdited(e._getSelf());\n      });\n    }\n    navigatePrev(e = this.currentCell, t) {\n      var i, s;\n      if (e) {\n        if (t && t.preventDefault(), i = this.navigateLeft()) return !0;\n        if ((s = this.table.rowManager.prevDisplayRow(e.row, !0)) && (i = this.findPrevEditableCell(s, s.cells.length))) return i.getComponent().edit(), !0;\n      }\n      return !1;\n    }\n    navigateNext(e = this.currentCell, t) {\n      var i, s;\n      if (e) {\n        if (t && t.preventDefault(), i = this.navigateRight()) return !0;\n        if ((s = this.table.rowManager.nextDisplayRow(e.row, !0)) && (i = this.findNextEditableCell(s, -1))) return i.getComponent().edit(), !0;\n      }\n      return !1;\n    }\n    navigateLeft(e = this.currentCell, t) {\n      var i, s;\n      return !!(e && (t && t.preventDefault(), i = e.getIndex(), s = this.findPrevEditableCell(e.row, i))) && (s.getComponent().edit(), !0);\n    }\n    navigateRight(e = this.currentCell, t) {\n      var i, s;\n      return !!(e && (t && t.preventDefault(), i = e.getIndex(), s = this.findNextEditableCell(e.row, i))) && (s.getComponent().edit(), !0);\n    }\n    navigateUp(e = this.currentCell, t) {\n      var i, s;\n      return !!(e && (t && t.preventDefault(), i = e.getIndex(), s = this.table.rowManager.prevDisplayRow(e.row, !0))) && (s.cells[i].getComponent().edit(), !0);\n    }\n    navigateDown(e = this.currentCell, t) {\n      var i, s;\n      return !!(e && (t && t.preventDefault(), i = e.getIndex(), s = this.table.rowManager.nextDisplayRow(e.row, !0))) && (s.cells[i].getComponent().edit(), !0);\n    }\n    findNextEditableCell(e, t) {\n      var i = !1;\n      if (t < e.cells.length - 1) for (var s = t + 1; s < e.cells.length; s++) {\n        let t = e.cells[s];\n        if (t.column.modules.edit && r.elVisible(t.getElement())) {\n          if (this.allowEdit(t)) {\n            i = t;\n            break;\n          }\n        }\n      }\n      return i;\n    }\n    findPrevEditableCell(e, t) {\n      var i = !1;\n      if (t > 0) for (var s = t - 1; s >= 0; s--) {\n        let t = e.cells[s];\n        if (t.column.modules.edit && r.elVisible(t.getElement())) {\n          if (this.allowEdit(t)) {\n            i = t;\n            break;\n          }\n        }\n      }\n      return i;\n    }\n    initializeColumnCheck(e) {\n      void 0 !== e.definition.editor && this.initializeColumn(e);\n    }\n    columnDeleteCheck(e) {\n      this.currentCell && this.currentCell.column === e && this.cancelEdit();\n    }\n    rowDeleteCheck(e) {\n      this.currentCell && this.currentCell.row === e && this.cancelEdit();\n    }\n    rowEditableCheck(e) {\n      e.getCells().forEach(e => {\n        e.column.modules.edit && \"function\" == typeof e.column.modules.edit.check && this.updateCellClass(e);\n      });\n    }\n    initializeColumn(e) {\n      var t = {\n        editor: !1,\n        blocked: !1,\n        check: e.definition.editable,\n        params: e.definition.editorParams || {}\n      };\n      switch (typeof e.definition.editor) {\n        case \"string\":\n          this.editors[e.definition.editor] ? t.editor = this.editors[e.definition.editor] : console.warn(\"Editor Error - No such editor found: \", e.definition.editor);\n          break;\n        case \"function\":\n          t.editor = e.definition.editor;\n          break;\n        case \"boolean\":\n          !0 === e.definition.editor && (\"function\" != typeof e.definition.formatter ? this.editors[e.definition.formatter] ? t.editor = this.editors[e.definition.formatter] : t.editor = this.editors.input : console.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", e.definition.formatter));\n      }\n      t.editor && (e.modules.edit = t);\n    }\n    getCurrentCell() {\n      return !!this.currentCell && this.currentCell.getComponent();\n    }\n    clearEditor(e) {\n      var t,\n        i = this.currentCell;\n      if (this.invalidEdit = !1, i) {\n        for (this.currentCell = !1, t = i.getElement(), this.dispatch(\"edit-editor-clear\", i, e), t.classList.remove(\"tabulator-editing\"); t.firstChild;) t.removeChild(t.firstChild);\n        i.row.getElement().classList.remove(\"tabulator-editing\"), i.table.element.classList.remove(\"tabulator-editing\");\n      }\n    }\n    cancelEdit() {\n      if (this.currentCell) {\n        var e = this.currentCell,\n          t = this.currentCell.getComponent();\n        this.clearEditor(!0), e.setValueActual(e.getValue()), e.cellRendered(), (\"textarea\" == e.column.definition.editor || e.column.definition.variableHeight) && e.row.normalizeHeight(!0), e.column.definition.cellEditCancelled && e.column.definition.cellEditCancelled.call(this.table, t), this.dispatch(\"edit-cancelled\", e), this.dispatchExternal(\"cellEditCancelled\", t);\n      }\n    }\n    bindEditor(e) {\n      if (e.column.modules.edit) {\n        var t = this,\n          i = e.getElement(!0);\n        this.updateCellClass(e), i.setAttribute(\"tabindex\", 0), i.addEventListener(\"click\", function (e) {\n          i.classList.contains(\"tabulator-editing\") || i.focus({\n            preventScroll: !0\n          });\n        }), i.addEventListener(\"mousedown\", function (e) {\n          2 === e.button ? e.preventDefault() : t.mouseClick = !0;\n        }), i.addEventListener(\"focus\", function (i) {\n          t.recursionBlock || t.edit(e, i, !1);\n        });\n      }\n    }\n    focusCellNoEvent(e, t) {\n      this.recursionBlock = !0, t && \"ie\" === this.table.browser || e.getElement().focus({\n        preventScroll: !0\n      }), this.recursionBlock = !1;\n    }\n    editCell(e, t) {\n      this.focusCellNoEvent(e), this.edit(e, !1, t);\n    }\n    focusScrollAdjust(e) {\n      if (\"virtual\" == this.table.rowManager.getRenderMode()) {\n        var t = this.table.rowManager.element.scrollTop,\n          i = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n          s = e.row.getElement();\n        s.offsetTop < t ? this.table.rowManager.element.scrollTop -= t - s.offsetTop : s.offsetTop + s.offsetHeight > i && (this.table.rowManager.element.scrollTop += s.offsetTop + s.offsetHeight - i);\n        var o = this.table.rowManager.element.scrollLeft,\n          n = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n          r = e.getElement();\n        this.table.modExists(\"frozenColumns\") && (o += parseInt(this.table.modules.frozenColumns.leftMargin || 0), n -= parseInt(this.table.modules.frozenColumns.rightMargin || 0)), \"virtual\" === this.table.options.renderHorizontal && (o -= parseInt(this.table.columnManager.renderer.vDomPadLeft), n -= parseInt(this.table.columnManager.renderer.vDomPadLeft)), r.offsetLeft < o ? this.table.rowManager.element.scrollLeft -= o - r.offsetLeft : r.offsetLeft + r.offsetWidth > n && (this.table.rowManager.element.scrollLeft += r.offsetLeft + r.offsetWidth - n);\n      }\n    }\n    allowEdit(e) {\n      var t = !!e.column.modules.edit;\n      if (e.column.modules.edit) switch (typeof e.column.modules.edit.check) {\n        case \"function\":\n          e.row.initialized && (t = e.column.modules.edit.check(e.getComponent()));\n          break;\n        case \"string\":\n          t = !!e.row.data[e.column.modules.edit.check];\n          break;\n        case \"boolean\":\n          t = e.column.modules.edit.check;\n      }\n      return t;\n    }\n    edit(e, t, i) {\n      var s,\n        o,\n        n,\n        r = this,\n        a = function () {},\n        l = e.getElement();\n      if (!this.currentCell) {\n        if (e.column.modules.edit.blocked) return this.mouseClick = !1, l.blur(), !1;\n        if (t && t.stopPropagation(), this.allowEdit(e) || i) {\n          if (r.cancelEdit(), r.currentCell = e, this.focusScrollAdjust(e), o = e.getComponent(), this.mouseClick && (this.mouseClick = !1, e.column.definition.cellClick && e.column.definition.cellClick.call(this.table, t, o)), e.column.definition.cellEditing && e.column.definition.cellEditing.call(this.table, o), this.dispatch(\"cell-editing\", e), this.dispatchExternal(\"cellEditing\", o), n = \"function\" == typeof e.column.modules.edit.params ? e.column.modules.edit.params(o) : e.column.modules.edit.params, s = e.column.modules.edit.editor.call(r, o, function (e) {\n            a = e;\n          }, function (t) {\n            if (r.currentCell === e) {\n              var i = r.chain(\"edit-success\", [e, t], !0, !0);\n              return !0 === i || \"highlight\" === r.table.options.validationMode ? (r.clearEditor(), e.modules.edit || (e.modules.edit = {}), e.modules.edit.edited = !0, -1 == r.editedCells.indexOf(e) && r.editedCells.push(e), e.setValue(t, !0), !0 === i) : (r.invalidEdit = !0, r.focusCellNoEvent(e, !0), a(), !1);\n            }\n          }, function () {\n            r.currentCell === e && r.cancelEdit();\n          }, n), !this.currentCell || !1 === s) return l.blur(), !1;\n          if (!(s instanceof Node)) return console.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", s), l.blur(), !1;\n          for (l.classList.add(\"tabulator-editing\"), e.row.getElement().classList.add(\"tabulator-editing\"), e.table.element.classList.add(\"tabulator-editing\"); l.firstChild;) l.removeChild(l.firstChild);\n          l.appendChild(s), a();\n          for (var h = l.children, d = 0; d < h.length; d++) h[d].addEventListener(\"click\", function (e) {\n            e.stopPropagation();\n          });\n          return !0;\n        }\n        return this.mouseClick = !1, l.blur(), !1;\n      }\n      this.invalidEdit || this.currentCell === e || this.cancelEdit();\n    }\n    getEditedCells() {\n      var e = [];\n      return this.editedCells.forEach(t => {\n        e.push(t.getComponent());\n      }), e;\n    }\n    clearEdited(e) {\n      var t;\n      e.modules.edit && e.modules.edit.edited && (e.modules.edit.edited = !1, this.dispatch(\"edit-edited-clear\", e)), (t = this.editedCells.indexOf(e)) > -1 && this.editedCells.splice(t, 1);\n    }\n  }\n  Q.moduleName = \"edit\", Q.editors = Z;\n  class ee {\n    constructor(e, t, i, s) {\n      this.type = e, this.columns = t, this.component = i || !1, this.indent = s || 0;\n    }\n  }\n  class te {\n    constructor(e, t, i, s, o) {\n      this.value = e, this.component = t || !1, this.width = i, this.height = s, this.depth = o;\n    }\n  }\n  class ie extends k {\n    constructor(e) {\n      super(e), this.config = {}, this.cloneTableStyle = !0, this.colVisProp = \"\", this.registerTableOption(\"htmlOutputConfig\", !1), this.registerColumnOption(\"htmlOutput\"), this.registerColumnOption(\"titleHtmlOutput\");\n    }\n    initialize() {\n      this.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n    }\n    generateExportList(e, t, i, s) {\n      this.cloneTableStyle = t, this.config = e || {}, this.colVisProp = s;\n      var o = !1 !== this.config.columnHeaders ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [],\n        n = this.bodyToExportRows(this.rowLookup(i));\n      return o.concat(n);\n    }\n    generateTable(e, t, i, s) {\n      var o = this.generateExportList(e, t, i, s);\n      return this.generateTableElement(o);\n    }\n    rowLookup(e) {\n      var t = [];\n      if (\"function\" == typeof e) e.call(this.table).forEach(e => {\n        (e = this.table.rowManager.findRow(e)) && t.push(e);\n      });else switch (e) {\n        case !0:\n        case \"visible\":\n          t = this.table.rowManager.getVisibleRows(!1, !0);\n          break;\n        case \"all\":\n          t = this.table.rowManager.rows;\n          break;\n        case \"selected\":\n          t = this.table.modules.selectRow.selectedRows;\n          break;\n        default:\n          t = this.table.options.pagination ? this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2) : this.table.rowManager.getDisplayRows();\n      }\n      return Object.assign([], t);\n    }\n    generateColumnGroupHeaders() {\n      var e = [];\n      return (!1 !== this.config.columnGroups ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex).forEach(t => {\n        var i = this.processColumnGroup(t);\n        i && e.push(i);\n      }), e;\n    }\n    processColumnGroup(e) {\n      var t = e.columns,\n        i = 0,\n        s = {\n          title: e.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || e.definition.title,\n          column: e,\n          depth: 1\n        };\n      if (t.length) {\n        if (s.subGroups = [], s.width = 0, t.forEach(e => {\n          var t = this.processColumnGroup(e);\n          t && (s.width += t.width, s.subGroups.push(t), t.depth > i && (i = t.depth));\n        }), s.depth += i, !s.width) return !1;\n      } else {\n        if (!this.columnVisCheck(e)) return !1;\n        s.width = 1;\n      }\n      return s;\n    }\n    columnVisCheck(e) {\n      var t = e.definition[this.colVisProp];\n      return \"function\" == typeof t && (t = t.call(this.table, e.getComponent())), !1 !== t && (e.visible || !e.visible && t);\n    }\n    headersToExportRows(e) {\n      var t = [],\n        i = 0,\n        s = [];\n      function o(e, s) {\n        var n = i - s;\n        if (void 0 === t[s] && (t[s] = []), e.height = e.subGroups ? 1 : n - e.depth + 1, t[s].push(e), e.height > 1) for (let i = 1; i < e.height; i++) void 0 === t[s + i] && (t[s + i] = []), t[s + i].push(!1);\n        if (e.width > 1) for (let i = 1; i < e.width; i++) t[s].push(!1);\n        e.subGroups && e.subGroups.forEach(function (e) {\n          o(e, s + 1);\n        });\n      }\n      return e.forEach(function (e) {\n        e.depth > i && (i = e.depth);\n      }), e.forEach(function (e) {\n        o(e, 0);\n      }), t.forEach(e => {\n        var t = [];\n        e.forEach(e => {\n          if (e) {\n            let i = void 0 === e.title ? \"\" : e.title;\n            t.push(new te(i, e.column.getComponent(), e.width, e.height, e.depth));\n          } else t.push(null);\n        }), s.push(new ee(\"header\", t));\n      }), s;\n    }\n    bodyToExportRows(e) {\n      var t = [],\n        i = [];\n      return this.table.columnManager.columnsByIndex.forEach(e => {\n        this.columnVisCheck(e) && t.push(e.getComponent());\n      }), !1 !== this.config.columnCalcs && this.table.modExists(\"columnCalcs\") && (this.table.modules.columnCalcs.topInitialized && e.unshift(this.table.modules.columnCalcs.topRow), this.table.modules.columnCalcs.botInitialized && e.push(this.table.modules.columnCalcs.botRow)), (e = e.filter(e => {\n        switch (e.type) {\n          case \"group\":\n            return !1 !== this.config.rowGroups;\n          case \"calc\":\n            return !1 !== this.config.columnCalcs;\n          case \"row\":\n            return !(this.table.options.dataTree && !1 === this.config.dataTree && e.modules.dataTree.parent);\n        }\n        return !0;\n      })).forEach((e, s) => {\n        var o = e.getData(this.colVisProp),\n          n = [],\n          r = 0;\n        switch (e.type) {\n          case \"group\":\n            r = e.level, n.push(new te(e.key, e.getComponent(), t.length, 1));\n            break;\n          case \"calc\":\n          case \"row\":\n            t.forEach(e => {\n              n.push(new te(e._column.getFieldValue(o), e, 1, 1));\n            }), this.table.options.dataTree && !1 !== this.config.dataTree && (r = e.modules.dataTree.index);\n        }\n        i.push(new ee(e.type, n, e.getComponent(), r));\n      }), i;\n    }\n    generateTableElement(e) {\n      var t = document.createElement(\"table\"),\n        i = document.createElement(\"thead\"),\n        s = document.createElement(\"tbody\"),\n        o = this.lookupTableStyles(),\n        n = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n        r = {};\n      return r.rowFormatter = null !== n ? n : this.table.options.rowFormatter, this.table.options.dataTree && !1 !== this.config.dataTree && this.table.modExists(\"columnCalcs\") && (r.treeElementField = this.table.modules.dataTree.elementField), r.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))], r.groupHeader && !Array.isArray(r.groupHeader) && (r.groupHeader = [r.groupHeader]), t.classList.add(\"tabulator-print-table\"), this.mapElementStyles(this.table.columnManager.getHeadersElement(), i, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]), e.length > 1e3 && console.warn(\"It may take a long time to render an HTML table with more than 1000 rows\"), e.forEach((e, t) => {\n        let n;\n        switch (e.type) {\n          case \"header\":\n            i.appendChild(this.generateHeaderElement(e, r, o));\n            break;\n          case \"group\":\n            s.appendChild(this.generateGroupElement(e, r, o));\n            break;\n          case \"calc\":\n            s.appendChild(this.generateCalcElement(e, r, o));\n            break;\n          case \"row\":\n            n = this.generateRowElement(e, r, o), this.mapElementStyles(t % 2 && o.evenRow ? o.evenRow : o.oddRow, n, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]), s.appendChild(n);\n        }\n      }), i.innerHTML && t.appendChild(i), t.appendChild(s), this.mapElementStyles(this.table.element, t, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]), t;\n    }\n    lookupTableStyles() {\n      var e = {};\n      return this.cloneTableStyle && window.getComputedStyle && (e.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\"), e.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\"), e.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\"), e.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\"), e.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0], e.firstRow && (e.styleCells = e.firstRow.getElementsByClassName(\"tabulator-cell\"), e.firstCell = e.styleCells[0], e.lastCell = e.styleCells[e.styleCells.length - 1])), e;\n    }\n    generateHeaderElement(e, t, i) {\n      var s = document.createElement(\"tr\");\n      return e.columns.forEach(e => {\n        if (e) {\n          var t = document.createElement(\"th\"),\n            i = e.component._column.definition.cssClass ? e.component._column.definition.cssClass.split(\" \") : [];\n          t.colSpan = e.width, t.rowSpan = e.height, t.innerHTML = e.value, this.cloneTableStyle && (t.style.boxSizing = \"border-box\"), i.forEach(function (e) {\n            t.classList.add(e);\n          }), this.mapElementStyles(e.component.getElement(), t, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]), this.mapElementStyles(e.component._column.contentElement, t, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]), e.component._column.visible ? this.mapElementStyles(e.component.getElement(), t, [\"width\"]) : e.component._column.definition.width && (t.style.width = e.component._column.definition.width + \"px\"), e.component._column.parent && this.mapElementStyles(e.component._column.parent.groupElement, t, [\"border-top\"]), s.appendChild(t);\n        }\n      }), s;\n    }\n    generateGroupElement(e, t, i) {\n      var s = document.createElement(\"tr\"),\n        o = document.createElement(\"td\"),\n        n = e.columns[0];\n      return s.classList.add(\"tabulator-print-table-row\"), t.groupHeader && t.groupHeader[e.indent] ? n.value = t.groupHeader[e.indent](n.value, e.component._group.getRowCount(), e.component._group.getData(), e.component) : !1 !== t.groupHeader && (n.value = e.component._group.generator(n.value, e.component._group.getRowCount(), e.component._group.getData(), e.component)), o.colSpan = n.width, o.innerHTML = n.value, s.classList.add(\"tabulator-print-table-group\"), s.classList.add(\"tabulator-group-level-\" + e.indent), n.component.isVisible() && s.classList.add(\"tabulator-group-visible\"), this.mapElementStyles(i.firstGroup, s, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]), this.mapElementStyles(i.firstGroup, o, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]), s.appendChild(o), s;\n    }\n    generateCalcElement(e, t, i) {\n      var s = this.generateRowElement(e, t, i);\n      return s.classList.add(\"tabulator-print-table-calcs\"), this.mapElementStyles(i.calcRow, s, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]), s;\n    }\n    generateRowElement(e, t, i) {\n      var s = document.createElement(\"tr\");\n      if (s.classList.add(\"tabulator-print-table-row\"), e.columns.forEach((o, n) => {\n        if (o) {\n          var r,\n            a = document.createElement(\"td\"),\n            l = o.component._column,\n            h = this.table.columnManager.findColumnIndex(l),\n            d = o.value,\n            c = {\n              modules: {},\n              getValue: function () {\n                return d;\n              },\n              getField: function () {\n                return l.definition.field;\n              },\n              getElement: function () {\n                return a;\n              },\n              getType: function () {\n                return \"cell\";\n              },\n              getColumn: function () {\n                return l.getComponent();\n              },\n              getData: function () {\n                return e.component.getData();\n              },\n              getRow: function () {\n                return e.component;\n              },\n              getComponent: function () {\n                return c;\n              },\n              column: l\n            };\n          if ((l.definition.cssClass ? l.definition.cssClass.split(\" \") : []).forEach(function (e) {\n            a.classList.add(e);\n          }), this.table.modExists(\"format\") && !1 !== this.config.formatCells) d = this.table.modules.format.formatExportValue(c, this.colVisProp);else switch (typeof d) {\n            case \"object\":\n              d = null !== d ? JSON.stringify(d) : \"\";\n              break;\n            case \"undefined\":\n              d = \"\";\n          }\n          d instanceof Node ? a.appendChild(d) : a.innerHTML = d, (r = i.styleCells && i.styleCells[h] ? i.styleCells[h] : i.firstCell) && (this.mapElementStyles(r, a, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]), l.definition.align && (a.style.textAlign = l.definition.align)), this.table.options.dataTree && !1 !== this.config.dataTree && (t.treeElementField && t.treeElementField == l.field || !t.treeElementField && 0 == n) && (e.component._row.modules.dataTree.controlEl && a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0), a.firstChild), e.component._row.modules.dataTree.branchEl && a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0), a.firstChild)), s.appendChild(a), c.modules.format && c.modules.format.renderedCallback && c.modules.format.renderedCallback();\n        }\n      }), t.rowFormatter && \"row\" === e.type && !1 !== this.config.formatCells) {\n        Object.assign(e.component).getElement = function () {\n          return s;\n        }, t.rowFormatter(e.component);\n      }\n      return s;\n    }\n    generateHTMLTable(e) {\n      var t = document.createElement(\"div\");\n      return t.appendChild(this.generateTableElement(e)), t.innerHTML;\n    }\n    getHtml(e, t, i, s) {\n      var o = this.generateExportList(i || this.table.options.htmlOutputConfig, t, e, s || \"htmlOutput\");\n      return this.generateHTMLTable(o);\n    }\n    mapElementStyles(e, t, i) {\n      if (this.cloneTableStyle && e && t) {\n        var s = {\n          \"background-color\": \"backgroundColor\",\n          color: \"fontColor\",\n          width: \"width\",\n          \"font-weight\": \"fontWeight\",\n          \"font-family\": \"fontFamily\",\n          \"font-size\": \"fontSize\",\n          \"text-align\": \"textAlign\",\n          \"border-top\": \"borderTop\",\n          \"border-left\": \"borderLeft\",\n          \"border-right\": \"borderRight\",\n          \"border-bottom\": \"borderBottom\",\n          \"padding-top\": \"paddingTop\",\n          \"padding-left\": \"paddingLeft\",\n          \"padding-right\": \"paddingRight\",\n          \"padding-bottom\": \"paddingBottom\"\n        };\n        if (window.getComputedStyle) {\n          var o = window.getComputedStyle(e);\n          i.forEach(function (e) {\n            t.style[s[e]] || (t.style[s[e]] = o.getPropertyValue(e));\n          });\n        }\n      }\n    }\n  }\n  ie.moduleName = \"export\";\n  var se = {\n    \"=\": function (e, t, i, s) {\n      return t == e;\n    },\n    \"<\": function (e, t, i, s) {\n      return t < e;\n    },\n    \"<=\": function (e, t, i, s) {\n      return t <= e;\n    },\n    \">\": function (e, t, i, s) {\n      return t > e;\n    },\n    \">=\": function (e, t, i, s) {\n      return t >= e;\n    },\n    \"!=\": function (e, t, i, s) {\n      return t != e;\n    },\n    regex: function (e, t, i, s) {\n      return \"string\" == typeof e && (e = new RegExp(e)), e.test(t);\n    },\n    like: function (e, t, i, s) {\n      return null == e ? t === e : null != t && String(t).toLowerCase().indexOf(e.toLowerCase()) > -1;\n    },\n    keywords: function (e, t, i, s) {\n      var o = e.toLowerCase().split(void 0 === s.separator ? \" \" : s.separator),\n        n = String(null == t ? \"\" : t).toLowerCase(),\n        r = [];\n      return o.forEach(e => {\n        n.includes(e) && r.push(!0);\n      }), s.matchAll ? r.length === o.length : !!r.length;\n    },\n    starts: function (e, t, i, s) {\n      return null == e ? t === e : null != t && String(t).toLowerCase().startsWith(e.toLowerCase());\n    },\n    ends: function (e, t, i, s) {\n      return null == e ? t === e : null != t && String(t).toLowerCase().endsWith(e.toLowerCase());\n    },\n    in: function (e, t, i, s) {\n      return Array.isArray(e) ? !e.length || e.indexOf(t) > -1 : (console.warn(\"Filter Error - filter value is not an array:\", e), !1);\n    }\n  };\n  class oe extends k {\n    constructor(e) {\n      super(e), this.filterList = [], this.headerFilters = {}, this.headerFilterColumns = [], this.prevHeaderFilterChangeCheck = \"\", this.prevHeaderFilterChangeCheck = \"{}\", this.changed = !1, this.tableInitialized = !1, this.registerTableOption(\"filterMode\", \"local\"), this.registerTableOption(\"initialFilter\", !1), this.registerTableOption(\"initialHeaderFilter\", !1), this.registerTableOption(\"headerFilterLiveFilterDelay\", 300), this.registerTableOption(\"placeholderHeaderFilter\", !1), this.registerColumnOption(\"headerFilter\"), this.registerColumnOption(\"headerFilterPlaceholder\"), this.registerColumnOption(\"headerFilterParams\"), this.registerColumnOption(\"headerFilterEmptyCheck\"), this.registerColumnOption(\"headerFilterFunc\"), this.registerColumnOption(\"headerFilterFuncParams\"), this.registerColumnOption(\"headerFilterLiveFilter\"), this.registerTableFunction(\"searchRows\", this.searchRows.bind(this)), this.registerTableFunction(\"searchData\", this.searchData.bind(this)), this.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this)), this.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this)), this.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this)), this.registerTableFunction(\"getFilters\", this.getFilters.bind(this)), this.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this)), this.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this)), this.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this)), this.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this)), this.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this)), this.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this)), this.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this)), this.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this)), this.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this)), this.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this)), this.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n    }\n    initialize() {\n      this.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this)), this.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this)), this.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this)), this.subscribe(\"table-built\", this.tableBuilt.bind(this)), this.subscribe(\"placeholder\", this.generatePlaceholder.bind(this)), \"remote\" === this.table.options.filterMode && this.subscribe(\"data-params\", this.remoteFilterParams.bind(this)), this.registerDataHandler(this.filter.bind(this), 10);\n    }\n    tableBuilt() {\n      this.table.options.initialFilter && this.setFilter(this.table.options.initialFilter), this.table.options.initialHeaderFilter && this.table.options.initialHeaderFilter.forEach(e => {\n        var t = this.table.columnManager.findColumn(e.field);\n        if (!t) return console.warn(\"Column Filter Error - No matching column found:\", e.field), !1;\n        this.setHeaderFilterValue(t, e.value);\n      }), this.tableInitialized = !0;\n    }\n    remoteFilterParams(e, t, i, s) {\n      return s.filter = this.getFilters(!0, !0), s;\n    }\n    generatePlaceholder(e) {\n      if (this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length) return this.table.options.placeholderHeaderFilter;\n    }\n    userSetFilter(e, t, i, s) {\n      this.setFilter(e, t, i, s), this.refreshFilter();\n    }\n    userRefreshFilter() {\n      this.refreshFilter();\n    }\n    userAddFilter(e, t, i, s) {\n      this.addFilter(e, t, i, s), this.refreshFilter();\n    }\n    userSetHeaderFilterFocus(e) {\n      var t = this.table.columnManager.findColumn(e);\n      if (!t) return console.warn(\"Column Filter Focus Error - No matching column found:\", e), !1;\n      this.setHeaderFilterFocus(t);\n    }\n    userGetHeaderFilterValue(e) {\n      var t = this.table.columnManager.findColumn(e);\n      if (t) return this.getHeaderFilterValue(t);\n      console.warn(\"Column Filter Error - No matching column found:\", e);\n    }\n    userSetHeaderFilterValue(e, t) {\n      var i = this.table.columnManager.findColumn(e);\n      if (!i) return console.warn(\"Column Filter Error - No matching column found:\", e), !1;\n      this.setHeaderFilterValue(i, t);\n    }\n    userRemoveFilter(e, t, i) {\n      this.removeFilter(e, t, i), this.refreshFilter();\n    }\n    userClearFilter(e) {\n      this.clearFilter(e), this.refreshFilter();\n    }\n    userClearHeaderFilter() {\n      this.clearHeaderFilter(), this.refreshFilter();\n    }\n    searchRows(e, t, i) {\n      return this.search(\"rows\", e, t, i);\n    }\n    searchData(e, t, i) {\n      return this.search(\"data\", e, t, i);\n    }\n    initializeColumnHeaderFilter(e) {\n      e.definition.headerFilter && this.initializeColumn(e);\n    }\n    initializeColumn(e, t) {\n      var i = this,\n        s = e.getField();\n      e.modules.filter = {\n        success: function (t) {\n          var o,\n            n = \"input\" == e.modules.filter.tagType && \"text\" == e.modules.filter.attrType || \"textarea\" == e.modules.filter.tagType ? \"partial\" : \"match\",\n            r = \"\",\n            a = \"\";\n          if (void 0 === e.modules.filter.prevSuccess || e.modules.filter.prevSuccess !== t) {\n            if (e.modules.filter.prevSuccess = t, e.modules.filter.emptyFunc(t)) delete i.headerFilters[s];else {\n              switch (e.modules.filter.value = t, typeof e.definition.headerFilterFunc) {\n                case \"string\":\n                  oe.filters[e.definition.headerFilterFunc] ? (r = e.definition.headerFilterFunc, o = function (i) {\n                    var s = e.definition.headerFilterFuncParams || {},\n                      o = e.getFieldValue(i);\n                    return s = \"function\" == typeof s ? s(t, o, i) : s, oe.filters[e.definition.headerFilterFunc](t, o, i, s);\n                  }) : console.warn(\"Header Filter Error - Matching filter function not found: \", e.definition.headerFilterFunc);\n                  break;\n                case \"function\":\n                  r = o = function (i) {\n                    var s = e.definition.headerFilterFuncParams || {},\n                      o = e.getFieldValue(i);\n                    return s = \"function\" == typeof s ? s(t, o, i) : s, e.definition.headerFilterFunc(t, o, i, s);\n                  };\n              }\n              if (!o) if (\"partial\" === n) o = function (i) {\n                var s = e.getFieldValue(i);\n                return null != s && String(s).toLowerCase().indexOf(String(t).toLowerCase()) > -1;\n              }, r = \"like\";else o = function (i) {\n                return e.getFieldValue(i) == t;\n              }, r = \"=\";\n              i.headerFilters[s] = {\n                value: t,\n                func: o,\n                type: r\n              };\n            }\n            e.modules.filter.value = t, a = JSON.stringify(i.headerFilters), i.prevHeaderFilterChangeCheck !== a && (i.prevHeaderFilterChangeCheck = a, i.trackChanges(), i.refreshFilter());\n          }\n          return !0;\n        },\n        attrType: !1,\n        tagType: !1,\n        emptyFunc: !1\n      }, this.generateHeaderFilterElement(e);\n    }\n    generateHeaderFilterElement(e, t, i) {\n      var s,\n        o,\n        n,\n        r,\n        a,\n        l,\n        h,\n        d,\n        c = this,\n        u = e.modules.filter.success,\n        p = e.getField();\n      if (e.modules.filter.value = t, e.modules.filter.headerElement && e.modules.filter.headerElement.parentNode && e.contentElement.removeChild(e.modules.filter.headerElement.parentNode), p) {\n        switch (e.modules.filter.emptyFunc = e.definition.headerFilterEmptyCheck || function (e) {\n          return !e && 0 !== e;\n        }, (s = document.createElement(\"div\")).classList.add(\"tabulator-header-filter\"), typeof e.definition.headerFilter) {\n          case \"string\":\n            c.table.modules.edit.editors[e.definition.headerFilter] ? (o = c.table.modules.edit.editors[e.definition.headerFilter], \"tick\" !== e.definition.headerFilter && \"tickCross\" !== e.definition.headerFilter || e.definition.headerFilterEmptyCheck || (e.modules.filter.emptyFunc = function (e) {\n              return !0 !== e && !1 !== e;\n            })) : console.warn(\"Filter Error - Cannot build header filter, No such editor found: \", e.definition.editor);\n            break;\n          case \"function\":\n            o = e.definition.headerFilter;\n            break;\n          case \"boolean\":\n            e.modules.edit && e.modules.edit.editor ? o = e.modules.edit.editor : e.definition.formatter && c.table.modules.edit.editors[e.definition.formatter] ? (o = c.table.modules.edit.editors[e.definition.formatter], \"tick\" !== e.definition.formatter && \"tickCross\" !== e.definition.formatter || e.definition.headerFilterEmptyCheck || (e.modules.filter.emptyFunc = function (e) {\n              return !0 !== e && !1 !== e;\n            })) : o = c.table.modules.edit.editors.input;\n        }\n        if (o) {\n          if (r = {\n            getValue: function () {\n              return void 0 !== t ? t : \"\";\n            },\n            getField: function () {\n              return e.definition.field;\n            },\n            getElement: function () {\n              return s;\n            },\n            getColumn: function () {\n              return e.getComponent();\n            },\n            getTable: () => this.table,\n            getType: () => \"header\",\n            getRow: function () {\n              return {\n                normalizeHeight: function () {}\n              };\n            }\n          }, h = \"function\" == typeof (h = e.definition.headerFilterParams || {}) ? h.call(c.table, r) : h, !(n = o.call(this.table.modules.edit, r, function (e) {\n            d = e;\n          }, u, function () {}, h))) return void console.warn(\"Filter Error - Cannot add filter to \" + p + \" column, editor returned a value of false\");\n          if (!(n instanceof Node)) return void console.warn(\"Filter Error - Cannot add filter to \" + p + \" column, editor should return an instance of Node, the editor returned:\", n);\n          c.langBind(\"headerFilters|columns|\" + e.definition.field, function (t) {\n            n.setAttribute(\"placeholder\", void 0 !== t && t ? t : e.definition.headerFilterPlaceholder || c.langText(\"headerFilters|default\"));\n          }), n.addEventListener(\"click\", function (e) {\n            e.stopPropagation(), n.focus();\n          }), n.addEventListener(\"focus\", e => {\n            var t = this.table.columnManager.contentsElement.scrollLeft;\n            t !== this.table.rowManager.element.scrollLeft && (this.table.rowManager.scrollHorizontal(t), this.table.columnManager.scrollHorizontal(t));\n          }), a = !1, l = function (e) {\n            a && clearTimeout(a), a = setTimeout(function () {\n              u(n.value);\n            }, c.table.options.headerFilterLiveFilterDelay);\n          }, e.modules.filter.headerElement = n, e.modules.filter.attrType = n.hasAttribute(\"type\") ? n.getAttribute(\"type\").toLowerCase() : \"\", e.modules.filter.tagType = n.tagName.toLowerCase(), !1 !== e.definition.headerFilterLiveFilter && (\"autocomplete\" !== e.definition.headerFilter && \"tickCross\" !== e.definition.headerFilter && (\"autocomplete\" !== e.definition.editor && \"tickCross\" !== e.definition.editor || !0 !== e.definition.headerFilter) && (n.addEventListener(\"keyup\", l), n.addEventListener(\"search\", l), \"number\" == e.modules.filter.attrType && n.addEventListener(\"change\", function (e) {\n            u(n.value);\n          }), \"text\" == e.modules.filter.attrType && \"ie\" !== this.table.browser && n.setAttribute(\"type\", \"search\")), \"input\" != e.modules.filter.tagType && \"select\" != e.modules.filter.tagType && \"textarea\" != e.modules.filter.tagType || n.addEventListener(\"mousedown\", function (e) {\n            e.stopPropagation();\n          })), s.appendChild(n), e.contentElement.appendChild(s), i || c.headerFilterColumns.push(e), d && d();\n        }\n      } else console.warn(\"Filter Error - Cannot add header filter, column has no field set:\", e.definition.title);\n    }\n    hideHeaderFilterElements() {\n      this.headerFilterColumns.forEach(function (e) {\n        e.modules.filter && e.modules.filter.headerElement && (e.modules.filter.headerElement.style.display = \"none\");\n      });\n    }\n    showHeaderFilterElements() {\n      this.headerFilterColumns.forEach(function (e) {\n        e.modules.filter && e.modules.filter.headerElement && (e.modules.filter.headerElement.style.display = \"\");\n      });\n    }\n    setHeaderFilterFocus(e) {\n      e.modules.filter && e.modules.filter.headerElement ? e.modules.filter.headerElement.focus() : console.warn(\"Column Filter Focus Error - No header filter set on column:\", e.getField());\n    }\n    getHeaderFilterValue(e) {\n      if (e.modules.filter && e.modules.filter.headerElement) return e.modules.filter.value;\n      console.warn(\"Column Filter Error - No header filter set on column:\", e.getField());\n    }\n    setHeaderFilterValue(e, t) {\n      e && (e.modules.filter && e.modules.filter.headerElement ? (this.generateHeaderFilterElement(e, t, !0), e.modules.filter.success(t)) : console.warn(\"Column Filter Error - No header filter set on column:\", e.getField()));\n    }\n    reloadHeaderFilter(e) {\n      e && (e.modules.filter && e.modules.filter.headerElement ? this.generateHeaderFilterElement(e, e.modules.filter.value, !0) : console.warn(\"Column Filter Error - No header filter set on column:\", e.getField()));\n    }\n    refreshFilter() {\n      this.tableInitialized && (\"remote\" === this.table.options.filterMode ? this.reloadData(null, !1, !1) : this.refreshData(!0));\n    }\n    trackChanges() {\n      this.changed = !0, this.dispatch(\"filter-changed\");\n    }\n    hasChanged() {\n      var e = this.changed;\n      return this.changed = !1, e;\n    }\n    setFilter(e, t, i, s) {\n      this.filterList = [], Array.isArray(e) || (e = [{\n        field: e,\n        type: t,\n        value: i,\n        params: s\n      }]), this.addFilter(e);\n    }\n    addFilter(e, t, i, s) {\n      var o = !1;\n      Array.isArray(e) || (e = [{\n        field: e,\n        type: t,\n        value: i,\n        params: s\n      }]), e.forEach(e => {\n        (e = this.findFilter(e)) && (this.filterList.push(e), o = !0);\n      }), o && this.trackChanges();\n    }\n    findFilter(e) {\n      var t;\n      if (Array.isArray(e)) return this.findSubFilters(e);\n      var i = !1;\n      return \"function\" == typeof e.field ? i = function (t) {\n        return e.field(t, e.type || {});\n      } : oe.filters[e.type] ? i = (t = this.table.columnManager.getColumnByField(e.field)) ? function (i) {\n        return oe.filters[e.type](e.value, t.getFieldValue(i), i, e.params || {});\n      } : function (t) {\n        return oe.filters[e.type](e.value, t[e.field], t, e.params || {});\n      } : console.warn(\"Filter Error - No such filter type found, ignoring: \", e.type), e.func = i, !!e.func && e;\n    }\n    findSubFilters(e) {\n      var t = [];\n      return e.forEach(e => {\n        (e = this.findFilter(e)) && t.push(e);\n      }), !!t.length && t;\n    }\n    getFilters(e, t) {\n      var i = [];\n      return e && (i = this.getHeaderFilters()), t && i.forEach(function (e) {\n        \"function\" == typeof e.type && (e.type = \"function\");\n      }), i = i.concat(this.filtersToArray(this.filterList, t));\n    }\n    filtersToArray(e, t) {\n      var i = [];\n      return e.forEach(e => {\n        var s;\n        Array.isArray(e) ? i.push(this.filtersToArray(e, t)) : (s = {\n          field: e.field,\n          type: e.type,\n          value: e.value\n        }, t && \"function\" == typeof s.type && (s.type = \"function\"), i.push(s));\n      }), i;\n    }\n    getHeaderFilters() {\n      var e = [];\n      for (var t in this.headerFilters) e.push({\n        field: t,\n        type: this.headerFilters[t].type,\n        value: this.headerFilters[t].value\n      });\n      return e;\n    }\n    removeFilter(e, t, i) {\n      Array.isArray(e) || (e = [{\n        field: e,\n        type: t,\n        value: i\n      }]), e.forEach(e => {\n        var t = -1;\n        (t = \"object\" == typeof e.field ? this.filterList.findIndex(t => e === t) : this.filterList.findIndex(t => e.field === t.field && e.type === t.type && e.value === t.value)) > -1 ? this.filterList.splice(t, 1) : console.warn(\"Filter Error - No matching filter type found, ignoring: \", e.type);\n      }), this.trackChanges();\n    }\n    clearFilter(e) {\n      this.filterList = [], e && this.clearHeaderFilter(), this.trackChanges();\n    }\n    clearHeaderFilter() {\n      this.headerFilters = {}, this.prevHeaderFilterChangeCheck = \"{}\", this.headerFilterColumns.forEach(e => {\n        void 0 !== e.modules.filter.value && delete e.modules.filter.value, e.modules.filter.prevSuccess = void 0, this.reloadHeaderFilter(e);\n      }), this.trackChanges();\n    }\n    search(e, t, i, s) {\n      var o = [],\n        n = [];\n      return Array.isArray(t) || (t = [{\n        field: t,\n        type: i,\n        value: s\n      }]), t.forEach(e => {\n        (e = this.findFilter(e)) && n.push(e);\n      }), this.table.rowManager.rows.forEach(t => {\n        var i = !0;\n        n.forEach(e => {\n          this.filterRecurse(e, t.getData()) || (i = !1);\n        }), i && o.push(\"data\" === e ? t.getData(\"data\") : t.getComponent());\n      }), o;\n    }\n    filter(e, t) {\n      var i = [],\n        s = [];\n      return this.subscribedExternal(\"dataFiltering\") && this.dispatchExternal(\"dataFiltering\", this.getFilters(!0)), \"remote\" !== this.table.options.filterMode && (this.filterList.length || Object.keys(this.headerFilters).length) ? e.forEach(e => {\n        this.filterRow(e) && i.push(e);\n      }) : i = e.slice(0), this.subscribedExternal(\"dataFiltered\") && (i.forEach(e => {\n        s.push(e.getComponent());\n      }), this.dispatchExternal(\"dataFiltered\", this.getFilters(!0), s)), i;\n    }\n    filterRow(e, t) {\n      var i = !0,\n        s = e.getData();\n      for (var o in this.filterList.forEach(e => {\n        this.filterRecurse(e, s) || (i = !1);\n      }), this.headerFilters) this.headerFilters[o].func(s) || (i = !1);\n      return i;\n    }\n    filterRecurse(e, t) {\n      var i = !1;\n      return Array.isArray(e) ? e.forEach(e => {\n        this.filterRecurse(e, t) && (i = !0);\n      }) : i = e.func(t), i;\n    }\n  }\n  oe.moduleName = \"filter\", oe.filters = se;\n  var ne = {\n    plaintext: function (e, t, i) {\n      return this.emptyToSpace(this.sanitizeHTML(e.getValue()));\n    },\n    html: function (e, t, i) {\n      return e.getValue();\n    },\n    textarea: function (e, t, i) {\n      return e.getElement().style.whiteSpace = \"pre-wrap\", this.emptyToSpace(this.sanitizeHTML(e.getValue()));\n    },\n    money: function (e, t, i) {\n      var s,\n        o,\n        n,\n        r,\n        a,\n        l = parseFloat(e.getValue()),\n        h = \"\",\n        d = t.decimal || \".\",\n        c = t.thousand || \",\",\n        u = t.negativeSign || \"-\",\n        p = t.symbol || \"\",\n        m = !!t.symbolAfter,\n        g = void 0 !== t.precision ? t.precision : 2;\n      if (isNaN(l)) return this.emptyToSpace(this.sanitizeHTML(e.getValue()));\n      if (l < 0 && (l = Math.abs(l), h = u), s = !1 !== g ? l.toFixed(g) : l, o = (s = String(s).split(\".\"))[0], n = s.length > 1 ? d + s[1] : \"\", !1 !== t.thousand) for (r = /(\\d+)(\\d{3})/; r.test(o);) o = o.replace(r, \"$1\" + c + \"$2\");\n      return a = o + n, !0 === h ? (a = \"(\" + a + \")\", m ? a + p : p + a) : m ? h + a + p : h + p + a;\n    },\n    link: function (e, t, i) {\n      var s,\n        o = e.getValue(),\n        n = t.urlPrefix || \"\",\n        r = t.download,\n        a = o,\n        l = document.createElement(\"a\");\n      if (t.labelField && (s = e.getData(), a = function e(t, i) {\n        var s = i[t.shift()];\n        return t.length && \"object\" == typeof s ? e(t, s) : s;\n      }(t.labelField.split(this.table.options.nestedFieldSeparator), s)), t.label) switch (typeof t.label) {\n        case \"string\":\n          a = t.label;\n          break;\n        case \"function\":\n          a = t.label(e);\n      }\n      if (a) {\n        if (t.urlField && (o = (s = e.getData())[t.urlField]), t.url) switch (typeof t.url) {\n          case \"string\":\n            o = t.url;\n            break;\n          case \"function\":\n            o = t.url(e);\n        }\n        return l.setAttribute(\"href\", n + o), t.target && l.setAttribute(\"target\", t.target), t.download && (r = \"function\" == typeof r ? r(e) : !0 === r ? \"\" : r, l.setAttribute(\"download\", r)), l.innerHTML = this.emptyToSpace(this.sanitizeHTML(a)), l;\n      }\n      return \"&nbsp;\";\n    },\n    image: function (e, t, i) {\n      var s = document.createElement(\"img\"),\n        o = e.getValue();\n      switch (t.urlPrefix && (o = t.urlPrefix + e.getValue()), t.urlSuffix && (o += t.urlSuffix), s.setAttribute(\"src\", o), typeof t.height) {\n        case \"number\":\n          s.style.height = t.height + \"px\";\n          break;\n        case \"string\":\n          s.style.height = t.height;\n      }\n      switch (typeof t.width) {\n        case \"number\":\n          s.style.width = t.width + \"px\";\n          break;\n        case \"string\":\n          s.style.width = t.width;\n      }\n      return s.addEventListener(\"load\", function () {\n        e.getRow().normalizeHeight();\n      }), s;\n    },\n    tickCross: function (e, t, i) {\n      var s = e.getValue(),\n        o = e.getElement(),\n        n = t.allowEmpty,\n        r = t.allowTruthy,\n        a = Object.keys(t).includes(\"trueValue\"),\n        l = void 0 !== t.tickElement ? t.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n        h = void 0 !== t.crossElement ? t.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n      return a && s === t.trueValue || !a && (r && s || !0 === s || \"true\" === s || \"True\" === s || 1 === s || \"1\" === s) ? (o.setAttribute(\"aria-checked\", !0), l || \"\") : !n || \"null\" !== s && \"\" !== s && null != s ? (o.setAttribute(\"aria-checked\", !1), h || \"\") : (o.setAttribute(\"aria-checked\", \"mixed\"), \"\");\n    },\n    datetime: function (e, t, i) {\n      var s,\n        o = window.DateTime || luxon.DateTime,\n        n = t.inputFormat || \"yyyy-MM-dd HH:mm:ss\",\n        r = t.outputFormat || \"dd/MM/yyyy HH:mm:ss\",\n        a = void 0 !== t.invalidPlaceholder ? t.invalidPlaceholder : \"\",\n        l = e.getValue();\n      if (void 0 !== o) return (s = o.isDateTime(l) ? l : \"iso\" === n ? o.fromISO(String(l)) : o.fromFormat(String(l), n)).isValid ? (t.timezone && (s = s.setZone(t.timezone)), s.toFormat(r)) : !0 !== a && l ? \"function\" == typeof a ? a(l) : a : l;\n      console.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n    },\n    datetimediff: function (e, t, i) {\n      var s,\n        o = window.DateTime || luxon.DateTime,\n        n = t.inputFormat || \"yyyy-MM-dd HH:mm:ss\",\n        r = void 0 !== t.invalidPlaceholder ? t.invalidPlaceholder : \"\",\n        a = void 0 !== t.suffix && t.suffix,\n        l = void 0 !== t.unit ? t.unit : \"days\",\n        h = void 0 !== t.humanize && t.humanize,\n        d = void 0 !== t.date ? t.date : o.now(),\n        c = e.getValue();\n      if (void 0 !== o) return (s = o.isDateTime(c) ? c : \"iso\" === n ? o.fromISO(String(c)) : o.fromFormat(String(c), n)).isValid ? h ? s.diff(d, l).toHuman() + (a ? \" \" + a : \"\") : parseInt(s.diff(d, l)[l]) + (a ? \" \" + a : \"\") : !0 === r ? c : \"function\" == typeof r ? r(c) : r;\n      console.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n    },\n    lookup: function (e, t, i) {\n      var s = e.getValue();\n      return void 0 === t[s] ? (console.warn(\"Missing display value for \" + s), s) : t[s];\n    },\n    star: function (e, t, i) {\n      var s = e.getValue(),\n        o = e.getElement(),\n        n = t && t.stars ? t.stars : 5,\n        r = document.createElement(\"span\"),\n        a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      r.style.verticalAlign = \"middle\", a.setAttribute(\"width\", \"14\"), a.setAttribute(\"height\", \"14\"), a.setAttribute(\"viewBox\", \"0 0 512 512\"), a.setAttribute(\"xml:space\", \"preserve\"), a.style.padding = \"0 1px\", s = s && !isNaN(s) ? parseInt(s) : 0, s = Math.max(0, Math.min(s, n));\n      for (var l = 1; l <= n; l++) {\n        var h = a.cloneNode(!0);\n        h.innerHTML = l <= s ? '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>' : '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>', r.appendChild(h);\n      }\n      return o.style.whiteSpace = \"nowrap\", o.style.overflow = \"hidden\", o.style.textOverflow = \"ellipsis\", o.setAttribute(\"aria-label\", s), r;\n    },\n    traffic: function (e, t, i) {\n      var s,\n        o,\n        n = this.sanitizeHTML(e.getValue()) || 0,\n        r = document.createElement(\"span\"),\n        a = t && t.max ? t.max : 100,\n        l = t && t.min ? t.min : 0,\n        h = t && void 0 !== t.color ? t.color : [\"red\", \"orange\", \"green\"],\n        d = \"#666666\";\n      if (!isNaN(n) && void 0 !== e.getValue()) {\n        switch (r.classList.add(\"tabulator-traffic-light\"), o = parseFloat(n) <= a ? parseFloat(n) : a, o = parseFloat(o) >= l ? parseFloat(o) : l, s = (a - l) / 100, o = Math.round((o - l) / s), typeof h) {\n          case \"string\":\n            d = h;\n            break;\n          case \"function\":\n            d = h(n);\n            break;\n          case \"object\":\n            if (Array.isArray(h)) {\n              var c = 100 / h.length,\n                u = Math.floor(o / c);\n              u = Math.min(u, h.length - 1), d = h[u = Math.max(u, 0)];\n              break;\n            }\n        }\n        return r.style.backgroundColor = d, r;\n      }\n    },\n    progress: function (e, t = {}, i) {\n      var o,\n        n,\n        r,\n        a,\n        l,\n        h = this.sanitizeHTML(e.getValue()) || 0,\n        d = e.getElement(),\n        c = t.max ? t.max : 100,\n        u = t.min ? t.min : 0,\n        p = t.legendAlign ? t.legendAlign : \"center\";\n      switch (n = parseFloat(h) <= c ? parseFloat(h) : c, n = parseFloat(n) >= u ? parseFloat(n) : u, o = (c - u) / 100, n = Math.round((n - u) / o), typeof t.color) {\n        case \"string\":\n          r = t.color;\n          break;\n        case \"function\":\n          r = t.color(h);\n          break;\n        case \"object\":\n          if (Array.isArray(t.color)) {\n            let e = 100 / t.color.length,\n              i = Math.floor(n / e);\n            i = Math.min(i, t.color.length - 1), i = Math.max(i, 0), r = t.color[i];\n            break;\n          }\n        default:\n          r = \"#2DC214\";\n      }\n      switch (typeof t.legend) {\n        case \"string\":\n          a = t.legend;\n          break;\n        case \"function\":\n          a = t.legend(h);\n          break;\n        case \"boolean\":\n          a = h;\n          break;\n        default:\n          a = !1;\n      }\n      switch (typeof t.legendColor) {\n        case \"string\":\n          l = t.legendColor;\n          break;\n        case \"function\":\n          l = t.legendColor(h);\n          break;\n        case \"object\":\n          if (Array.isArray(t.legendColor)) {\n            let e = 100 / t.legendColor.length,\n              i = Math.floor(n / e);\n            i = Math.min(i, t.legendColor.length - 1), i = Math.max(i, 0), l = t.legendColor[i];\n          }\n          break;\n        default:\n          l = \"#000\";\n      }\n      d.style.minWidth = \"30px\", d.style.position = \"relative\", d.setAttribute(\"aria-label\", n);\n      var m = document.createElement(\"div\");\n      m.style.display = \"inline-block\", m.style.width = n + \"%\", m.style.backgroundColor = r, m.style.height = \"100%\", m.setAttribute(\"data-max\", c), m.setAttribute(\"data-min\", u);\n      var g = document.createElement(\"div\");\n      if (g.style.position = \"relative\", g.style.width = \"100%\", g.style.height = \"100%\", a) {\n        var b = document.createElement(\"div\");\n        b.style.position = \"absolute\", b.style.top = 0, b.style.left = 0, b.style.textAlign = p, b.style.width = \"100%\", b.style.color = l, b.innerHTML = a;\n      }\n      return i(function () {\n        if (!(e instanceof s)) {\n          var t = document.createElement(\"div\");\n          t.style.position = \"absolute\", t.style.top = \"4px\", t.style.bottom = \"4px\", t.style.left = \"4px\", t.style.right = \"4px\", d.appendChild(t), d = t;\n        }\n        d.appendChild(g), g.appendChild(m), a && g.appendChild(b);\n      }), \"\";\n    },\n    color: function (e, t, i) {\n      return e.getElement().style.backgroundColor = this.sanitizeHTML(e.getValue()), \"\";\n    },\n    buttonTick: function (e, t, i) {\n      return '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n    },\n    buttonCross: function (e, t, i) {\n      return '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n    },\n    rownum: function (e, t, i) {\n      var s = document.createElement(\"span\");\n      return e.getRow().watchPosition(e => {\n        s.innerText = e;\n      }), s;\n    },\n    handle: function (e, t, i) {\n      return e.getElement().classList.add(\"tabulator-row-handle\"), \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n    },\n    responsiveCollapse: function (e, t, i) {\n      var s = document.createElement(\"div\"),\n        o = e.getRow()._row.modules.responsiveLayout;\n      function n(e) {\n        var t = o.element;\n        o.open = e, t && (o.open ? (s.classList.add(\"open\"), t.style.display = \"\") : (s.classList.remove(\"open\"), t.style.display = \"none\"));\n      }\n      return s.classList.add(\"tabulator-responsive-collapse-toggle\"), s.innerHTML = '<svg class=\\'tabulator-responsive-collapse-toggle-open\\' viewbox=\"0 0 24 24\">\\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\\n</svg>\\n\\n<svg class=\\'tabulator-responsive-collapse-toggle-close\\' viewbox=\"0 0 24 24\">\\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\\n</svg>', e.getElement().classList.add(\"tabulator-row-handle\"), s.addEventListener(\"click\", function (t) {\n        t.stopImmediatePropagation(), n(!o.open), e.getTable().rowManager.adjustTableSize();\n      }), n(o.open), s;\n    },\n    rowSelection: function (e, t, i) {\n      var s = document.createElement(\"input\"),\n        o = !1;\n      if (s.type = \"checkbox\", s.setAttribute(\"aria-label\", \"Select Row\"), this.table.modExists(\"selectRow\", !0)) if (s.addEventListener(\"click\", e => {\n        e.stopPropagation();\n      }), \"function\" == typeof e.getRow) {\n        var n = e.getRow();\n        n instanceof u ? (s.addEventListener(\"change\", e => {\n          \"click\" === this.table.options.selectableRangeMode && o ? o = !1 : n.toggleSelect();\n        }), \"click\" === this.table.options.selectableRangeMode && s.addEventListener(\"click\", e => {\n          o = !0, this.table.modules.selectRow.handleComplexRowClick(n._row, e);\n        }), s.checked = n.isSelected && n.isSelected(), this.table.modules.selectRow.registerRowSelectCheckbox(n, s)) : s = \"\";\n      } else s.addEventListener(\"change\", e => {\n        this.table.modules.selectRow.selectedRows.length ? this.table.deselectRow() : this.table.selectRow(t.rowRange);\n      }), this.table.modules.selectRow.registerHeaderSelectCheckbox(s);\n      return s;\n    }\n  };\n  class re extends k {\n    constructor(e) {\n      super(e), this.registerColumnOption(\"formatter\"), this.registerColumnOption(\"formatterParams\"), this.registerColumnOption(\"formatterPrint\"), this.registerColumnOption(\"formatterPrintParams\"), this.registerColumnOption(\"formatterClipboard\"), this.registerColumnOption(\"formatterClipboardParams\"), this.registerColumnOption(\"formatterHtmlOutput\"), this.registerColumnOption(\"formatterHtmlOutputParams\"), this.registerColumnOption(\"titleFormatter\"), this.registerColumnOption(\"titleFormatterParams\");\n    }\n    initialize() {\n      this.subscribe(\"cell-format\", this.formatValue.bind(this)), this.subscribe(\"cell-rendered\", this.cellRendered.bind(this)), this.subscribe(\"column-layout\", this.initializeColumn.bind(this)), this.subscribe(\"column-format\", this.formatHeader.bind(this));\n    }\n    initializeColumn(e) {\n      e.modules.format = this.lookupFormatter(e, \"\"), void 0 !== e.definition.formatterPrint && (e.modules.format.print = this.lookupFormatter(e, \"Print\")), void 0 !== e.definition.formatterClipboard && (e.modules.format.clipboard = this.lookupFormatter(e, \"Clipboard\")), void 0 !== e.definition.formatterHtmlOutput && (e.modules.format.htmlOutput = this.lookupFormatter(e, \"HtmlOutput\"));\n    }\n    lookupFormatter(e, t) {\n      var i = {\n          params: e.definition[\"formatter\" + t + \"Params\"] || {}\n        },\n        s = e.definition[\"formatter\" + t];\n      switch (typeof s) {\n        case \"string\":\n          re.formatters[s] ? i.formatter = re.formatters[s] : (console.warn(\"Formatter Error - No such formatter found: \", s), i.formatter = re.formatters.plaintext);\n          break;\n        case \"function\":\n          i.formatter = s;\n          break;\n        default:\n          i.formatter = re.formatters.plaintext;\n      }\n      return i;\n    }\n    cellRendered(e) {\n      e.modules.format && e.modules.format.renderedCallback && !e.modules.format.rendered && (e.modules.format.renderedCallback(), e.modules.format.rendered = !0);\n    }\n    formatHeader(e, t, i) {\n      var s, o, n, r;\n      return e.definition.titleFormatter ? (s = this.getFormatter(e.definition.titleFormatter), n = t => {\n        e.titleFormatterRendered = t;\n      }, r = {\n        getValue: function () {\n          return t;\n        },\n        getElement: function () {\n          return i;\n        },\n        getType: function () {\n          return \"header\";\n        },\n        getColumn: function () {\n          return e.getComponent();\n        },\n        getTable: () => this.table\n      }, o = \"function\" == typeof (o = e.definition.titleFormatterParams || {}) ? o() : o, s.call(this, r, o, n)) : t;\n    }\n    formatValue(e) {\n      var t = e.getComponent(),\n        i = \"function\" == typeof e.column.modules.format.params ? e.column.modules.format.params(t) : e.column.modules.format.params;\n      return e.column.modules.format.formatter.call(this, t, i, function (t) {\n        e.modules.format || (e.modules.format = {}), e.modules.format.renderedCallback = t, e.modules.format.rendered = !1;\n      });\n    }\n    formatExportValue(e, t) {\n      var i,\n        s = e.column.modules.format[t];\n      if (s) {\n        function o(t) {\n          e.modules.format || (e.modules.format = {}), e.modules.format.renderedCallback = t, e.modules.format.rendered = !1;\n        }\n        return i = \"function\" == typeof s.params ? s.params(e.getComponent()) : s.params, s.formatter.call(this, e.getComponent(), i, o);\n      }\n      return this.formatValue(e);\n    }\n    sanitizeHTML(e) {\n      if (e) {\n        var t = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#39;\",\n          \"/\": \"&#x2F;\",\n          \"`\": \"&#x60;\",\n          \"=\": \"&#x3D;\"\n        };\n        return String(e).replace(/[&<>\"'`=/]/g, function (e) {\n          return t[e];\n        });\n      }\n      return e;\n    }\n    emptyToSpace(e) {\n      return null == e || \"\" === e ? \"&nbsp;\" : e;\n    }\n    getFormatter(e) {\n      switch (typeof e) {\n        case \"string\":\n          re.formatters[e] ? e = re.formatters[e] : (console.warn(\"Formatter Error - No such formatter found: \", e), e = re.formatters.plaintext);\n          break;\n        case \"function\":\n          break;\n        default:\n          e = re.formatters.plaintext;\n      }\n      return e;\n    }\n  }\n  re.moduleName = \"format\", re.formatters = ne;\n  class ae extends k {\n    constructor(e) {\n      super(e), this.leftColumns = [], this.rightColumns = [], this.initializationMode = \"left\", this.active = !1, this.blocked = !0, this.registerColumnOption(\"frozen\");\n    }\n    reset() {\n      this.initializationMode = \"left\", this.leftColumns = [], this.rightColumns = [], this.active = !1;\n    }\n    initialize() {\n      this.subscribe(\"cell-layout\", this.layoutCell.bind(this)), this.subscribe(\"column-init\", this.initializeColumn.bind(this)), this.subscribe(\"column-width\", this.layout.bind(this)), this.subscribe(\"row-layout-after\", this.layoutRow.bind(this)), this.subscribe(\"table-layout\", this.layout.bind(this)), this.subscribe(\"columns-loading\", this.reset.bind(this)), this.subscribe(\"column-add\", this.reinitializeColumns.bind(this)), this.subscribe(\"column-delete\", this.reinitializeColumns.bind(this)), this.subscribe(\"table-redraw\", this.layout.bind(this)), this.subscribe(\"layout-refreshing\", this.blockLayout.bind(this)), this.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this)), this.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n    }\n    blockLayout() {\n      this.blocked = !0;\n    }\n    unblockLayout() {\n      this.blocked = !1;\n    }\n    layoutCell(e) {\n      this.layoutElement(e.element, e.column);\n    }\n    reinitializeColumns() {\n      this.reset(), this.table.columnManager.columnsByIndex.forEach(e => {\n        this.initializeColumn(e);\n      });\n    }\n    initializeColumn(e) {\n      var t = {\n        margin: 0,\n        edge: !1\n      };\n      e.isGroup || (this.frozenCheck(e) ? (t.position = this.initializationMode, \"left\" == this.initializationMode ? this.leftColumns.push(e) : this.rightColumns.unshift(e), this.active = !0, e.modules.frozen = t) : this.initializationMode = \"right\");\n    }\n    frozenCheck(e) {\n      return e.parent.isGroup && e.definition.frozen && console.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\"), e.parent.isGroup ? this.frozenCheck(e.parent) : e.definition.frozen;\n    }\n    layoutCalcRows() {\n      this.table.modExists(\"columnCalcs\") && (this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow && this.layoutRow(this.table.modules.columnCalcs.topRow), this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow && this.layoutRow(this.table.modules.columnCalcs.botRow), this.table.modExists(\"groupRows\") && this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()));\n    }\n    layoutGroupCalcs(e) {\n      e.forEach(e => {\n        e.calcs.top && this.layoutRow(e.calcs.top), e.calcs.bottom && this.layoutRow(e.calcs.bottom), e.groupList && e.groupList.length && this.layoutGroupCalcs(e.groupList);\n      });\n    }\n    layoutColumnPosition(e) {\n      var t = [],\n        i = 0,\n        s = 0;\n      this.leftColumns.forEach((s, o) => {\n        if (s.modules.frozen.marginValue = i, s.modules.frozen.margin = s.modules.frozen.marginValue + \"px\", s.visible && (i += s.getWidth()), o == this.leftColumns.length - 1 ? s.modules.frozen.edge = !0 : s.modules.frozen.edge = !1, s.parent.isGroup) {\n          var n = this.getColGroupParentElement(s);\n          t.includes(n) || (this.layoutElement(n, s), t.push(n)), s.modules.frozen.edge && n.classList.add(\"tabulator-frozen-\" + s.modules.frozen.position);\n        } else this.layoutElement(s.getElement(), s);\n        e && s.cells.forEach(e => {\n          this.layoutElement(e.getElement(!0), s);\n        });\n      }), this.rightColumns.forEach((t, i) => {\n        t.modules.frozen.marginValue = s, t.modules.frozen.margin = t.modules.frozen.marginValue + \"px\", t.visible && (s += t.getWidth()), i == this.rightColumns.length - 1 ? t.modules.frozen.edge = !0 : t.modules.frozen.edge = !1, t.parent.isGroup ? this.layoutElement(this.getColGroupParentElement(t), t) : this.layoutElement(t.getElement(), t), e && t.cells.forEach(e => {\n          this.layoutElement(e.getElement(!0), t);\n        });\n      });\n    }\n    getColGroupParentElement(e) {\n      return e.parent.isGroup ? this.getColGroupParentElement(e.parent) : e.getElement();\n    }\n    layout() {\n      this.active && !this.blocked && (this.layoutColumnPosition(), this.reinitializeRows(), this.layoutCalcRows());\n    }\n    reinitializeRows() {\n      var e = this.table.rowManager.getVisibleRows(!0);\n      this.table.rowManager.getRows().filter(t => !e.includes(t)).forEach(e => {\n        e.deinitialize();\n      }), e.forEach(e => {\n        \"row\" === e.type && this.layoutRow(e);\n      });\n    }\n    layoutRow(e) {\n      \"fitDataFill\" === this.table.options.layout && this.rightColumns.length && (this.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\"), this.leftColumns.forEach(t => {\n        var i = e.getCell(t);\n        i && this.layoutElement(i.getElement(!0), t);\n      }), this.rightColumns.forEach(t => {\n        var i = e.getCell(t);\n        i && this.layoutElement(i.getElement(!0), t);\n      });\n    }\n    layoutElement(e, t) {\n      var i;\n      t.modules.frozen && e && (e.style.position = \"sticky\", i = this.table.rtl ? \"left\" === t.modules.frozen.position ? \"right\" : \"left\" : t.modules.frozen.position, e.style[i] = t.modules.frozen.margin, e.classList.add(\"tabulator-frozen\"), t.modules.frozen.edge && e.classList.add(\"tabulator-frozen-\" + t.modules.frozen.position));\n    }\n    adjustForScrollbar(e) {\n      this.rightColumns.length && (this.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + e + \"px)\");\n    }\n    _calcSpace(e, t) {\n      var i = 0;\n      for (let s = 0; s < t; s++) e[s].visible && (i += e[s].getWidth());\n      return i;\n    }\n  }\n  ae.moduleName = \"frozenColumns\";\n  class le extends k {\n    constructor(e) {\n      super(e), this.topElement = document.createElement(\"div\"), this.rows = [], this.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this)), this.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this)), this.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this)), this.registerTableOption(\"frozenRowsField\", \"id\"), this.registerTableOption(\"frozenRows\", !1);\n    }\n    initialize() {\n      this.rows = [], this.topElement.classList.add(\"tabulator-frozen-rows-holder\"), this.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling), this.subscribe(\"row-deleting\", this.detachRow.bind(this)), this.subscribe(\"rows-visible\", this.visibleRows.bind(this)), this.registerDisplayHandler(this.getRows.bind(this), 10), this.table.options.frozenRows && (this.subscribe(\"data-processed\", this.initializeRows.bind(this)), this.subscribe(\"row-added\", this.initializeRow.bind(this)), this.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-show\", this.resizeHolderWidth.bind(this)), this.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this))), this.resizeHolderWidth();\n    }\n    resizeHolderWidth() {\n      this.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n    }\n    initializeRows() {\n      this.table.rowManager.getRows().forEach(e => {\n        this.initializeRow(e);\n      });\n    }\n    initializeRow(e) {\n      var t = this.table.options.frozenRows,\n        i = typeof t;\n      \"number\" === i ? e.getPosition() && e.getPosition() + this.rows.length <= t && this.freezeRow(e) : \"function\" === i ? t.call(this.table, e.getComponent()) && this.freezeRow(e) : Array.isArray(t) && t.includes(e.data[this.options(\"frozenRowsField\")]) && this.freezeRow(e);\n    }\n    isRowFrozen(e) {\n      return this.rows.indexOf(e) > -1;\n    }\n    isFrozen() {\n      return !!this.rows.length;\n    }\n    visibleRows(e, t) {\n      return this.rows.forEach(e => {\n        t.push(e);\n      }), t;\n    }\n    getRows(e) {\n      var t = e.slice(0);\n      return this.rows.forEach(function (e) {\n        var i = t.indexOf(e);\n        i > -1 && t.splice(i, 1);\n      }), t;\n    }\n    freezeRow(e) {\n      e.modules.frozen ? console.warn(\"Freeze Error - Row is already frozen\") : (e.modules.frozen = !0, this.topElement.appendChild(e.getElement()), e.initialize(), e.normalizeHeight(), this.rows.push(e), this.refreshData(!1, \"display\"), this.table.rowManager.adjustTableSize(), this.styleRows());\n    }\n    unfreezeRow(e) {\n      e.modules.frozen ? (e.modules.frozen = !1, this.detachRow(e), this.table.rowManager.adjustTableSize(), this.refreshData(!1, \"display\"), this.rows.length && this.styleRows()) : console.warn(\"Freeze Error - Row is already unfrozen\");\n    }\n    detachRow(e) {\n      var t = this.rows.indexOf(e);\n      if (t > -1) {\n        var i = e.getElement();\n        i.parentNode && i.parentNode.removeChild(i), this.rows.splice(t, 1);\n      }\n    }\n    styleRows(e) {\n      this.rows.forEach((e, t) => {\n        this.table.rowManager.styleRow(e, t);\n      });\n    }\n  }\n  le.moduleName = \"frozenRows\";\n  class he {\n    constructor(e) {\n      return this._group = e, this.type = \"GroupComponent\", new Proxy(this, {\n        get: function (e, t, i) {\n          return void 0 !== e[t] ? e[t] : e._group.groupManager.table.componentFunctionBinder.handle(\"group\", e._group, t);\n        }\n      });\n    }\n    getKey() {\n      return this._group.key;\n    }\n    getField() {\n      return this._group.field;\n    }\n    getElement() {\n      return this._group.element;\n    }\n    getRows() {\n      return this._group.getRows(!0);\n    }\n    getSubGroups() {\n      return this._group.getSubGroups(!0);\n    }\n    getParentGroup() {\n      return !!this._group.parent && this._group.parent.getComponent();\n    }\n    isVisible() {\n      return this._group.visible;\n    }\n    show() {\n      this._group.show();\n    }\n    hide() {\n      this._group.hide();\n    }\n    toggle() {\n      this._group.toggleVisibility();\n    }\n    scrollTo(e, t) {\n      return this._group.groupManager.table.rowManager.scrollToRow(this._group, e, t);\n    }\n    _getSelf() {\n      return this._group;\n    }\n    getTable() {\n      return this._group.groupManager.table;\n    }\n  }\n  class de {\n    constructor(e, t, i, s, o, n, r) {\n      this.groupManager = e, this.parent = t, this.key = s, this.level = i, this.field = o, this.hasSubGroups = i < e.groupIDLookups.length - 1, this.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow, this.type = \"group\", this.old = r, this.rows = [], this.groups = [], this.groupList = [], this.generator = n, this.element = !1, this.elementContents = !1, this.height = 0, this.outerHeight = 0, this.initialized = !1, this.calcs = {}, this.initialized = !1, this.modules = {}, this.arrowElement = !1, this.visible = r ? r.visible : void 0 !== e.startOpen[i] ? e.startOpen[i] : e.startOpen[0], this.component = null, this.createElements(), this.addBindings(), this.createValueGroups();\n    }\n    wipe(e) {\n      e || (this.groupList.length ? this.groupList.forEach(function (e) {\n        e.wipe();\n      }) : this.rows.forEach(e => {\n        e.modules && delete e.modules.group;\n      })), this.element = !1, this.arrowElement = !1, this.elementContents = !1;\n    }\n    createElements() {\n      var e = document.createElement(\"div\");\n      e.classList.add(\"tabulator-arrow\"), this.element = document.createElement(\"div\"), this.element.classList.add(\"tabulator-row\"), this.element.classList.add(\"tabulator-group\"), this.element.classList.add(\"tabulator-group-level-\" + this.level), this.element.setAttribute(\"role\", \"rowgroup\"), this.arrowElement = document.createElement(\"div\"), this.arrowElement.classList.add(\"tabulator-group-toggle\"), this.arrowElement.appendChild(e), !1 !== this.groupManager.table.options.movableRows && this.groupManager.table.modExists(\"moveRow\") && this.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n    }\n    createValueGroups() {\n      var e = this.level + 1;\n      this.groupManager.allowedValues && this.groupManager.allowedValues[e] && this.groupManager.allowedValues[e].forEach(t => {\n        this._createGroup(t, e);\n      });\n    }\n    addBindings() {\n      this.groupManager.table.options.groupToggleElement && (\"arrow\" == this.groupManager.table.options.groupToggleElement ? this.arrowElement : this.element).addEventListener(\"click\", e => {\n        \"arrow\" === this.groupManager.table.options.groupToggleElement && (e.stopPropagation(), e.stopImmediatePropagation()), setTimeout(() => {\n          this.toggleVisibility();\n        });\n      });\n    }\n    _createGroup(e, t) {\n      var i = t + \"_\" + e,\n        s = new de(this.groupManager, this, t, e, this.groupManager.groupIDLookups[t].field, this.groupManager.headerGenerator[t] || this.groupManager.headerGenerator[0], !!this.old && this.old.groups[i]);\n      this.groups[i] = s, this.groupList.push(s);\n    }\n    _addRowToGroup(e) {\n      var t = this.level + 1;\n      if (this.hasSubGroups) {\n        var i = this.groupManager.groupIDLookups[t].func(e.getData()),\n          s = t + \"_\" + i;\n        this.groupManager.allowedValues && this.groupManager.allowedValues[t] ? this.groups[s] && this.groups[s].addRow(e) : (this.groups[s] || this._createGroup(i, t), this.groups[s].addRow(e));\n      }\n    }\n    _addRow(e) {\n      this.rows.push(e), e.modules.group = this;\n    }\n    insertRow(e, t, i) {\n      var s = this.conformRowData({});\n      e.updateData(s);\n      var o = this.rows.indexOf(t);\n      o > -1 ? i ? this.rows.splice(o + 1, 0, e) : this.rows.splice(o, 0, e) : i ? this.rows.push(e) : this.rows.unshift(e), e.modules.group = this, this.groupManager.table.modExists(\"columnCalcs\") && \"table\" != this.groupManager.table.options.columnCalcs && this.groupManager.table.modules.columnCalcs.recalcGroup(this), this.groupManager.updateGroupRows(!0);\n    }\n    scrollHeader(e) {\n      this.arrowElement && (this.arrowElement.style.marginLeft = e, this.groupList.forEach(function (t) {\n        t.scrollHeader(e);\n      }));\n    }\n    getRowIndex(e) {}\n    conformRowData(e) {\n      return this.field ? e[this.field] = this.key : console.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\"), this.parent && (e = this.parent.conformRowData(e)), e;\n    }\n    removeRow(e) {\n      var t = this.rows.indexOf(e),\n        i = e.getElement();\n      t > -1 && this.rows.splice(t, 1), this.groupManager.table.options.groupValues || this.rows.length ? (i.parentNode && i.parentNode.removeChild(i), this.groupManager.blockRedraw || (this.generateGroupHeaderContents(), this.groupManager.table.modExists(\"columnCalcs\") && \"table\" != this.groupManager.table.options.columnCalcs && this.groupManager.table.modules.columnCalcs.recalcGroup(this))) : (this.parent ? this.parent.removeGroup(this) : this.groupManager.removeGroup(this), this.groupManager.updateGroupRows(!0));\n    }\n    removeGroup(e) {\n      var t,\n        i = e.level + \"_\" + e.key;\n      this.groups[i] && (delete this.groups[i], (t = this.groupList.indexOf(e)) > -1 && this.groupList.splice(t, 1), this.groupList.length || (this.parent ? this.parent.removeGroup(this) : this.groupManager.removeGroup(this)));\n    }\n    getHeadersAndRows() {\n      var e = [];\n      return e.push(this), this._visSet(), this.calcs.top && (this.calcs.top.detachElement(), this.calcs.top.deleteCells()), this.calcs.bottom && (this.calcs.bottom.detachElement(), this.calcs.bottom.deleteCells()), this.visible ? this.groupList.length ? this.groupList.forEach(function (t) {\n        e = e.concat(t.getHeadersAndRows());\n      }) : (\"table\" != this.groupManager.table.options.columnCalcs && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs() && (this.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows), e.push(this.calcs.top)), e = e.concat(this.rows), \"table\" != this.groupManager.table.options.columnCalcs && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs() && (this.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows), e.push(this.calcs.bottom))) : this.groupList.length || \"table\" == this.groupManager.table.options.columnCalcs || this.groupManager.table.modExists(\"columnCalcs\") && (this.groupManager.table.modules.columnCalcs.hasTopCalcs() && this.groupManager.table.options.groupClosedShowCalcs && (this.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows), e.push(this.calcs.top)), this.groupManager.table.modules.columnCalcs.hasBottomCalcs() && this.groupManager.table.options.groupClosedShowCalcs && (this.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows), e.push(this.calcs.bottom))), e;\n    }\n    getData(e, t) {\n      var i = [];\n      return this._visSet(), (!e || e && this.visible) && this.rows.forEach(e => {\n        i.push(e.getData(t || \"data\"));\n      }), i;\n    }\n    getRowCount() {\n      var e = 0;\n      return this.groupList.length ? this.groupList.forEach(t => {\n        e += t.getRowCount();\n      }) : e = this.rows.length, e;\n    }\n    toggleVisibility() {\n      this.visible ? this.hide() : this.show();\n    }\n    hide() {\n      this.visible = !1, \"basic\" != this.groupManager.table.rowManager.getRenderMode() || this.groupManager.table.options.pagination || (this.element.classList.remove(\"tabulator-group-visible\"), this.groupList.length ? this.groupList.forEach(e => {\n        e.getHeadersAndRows().forEach(e => {\n          e.detachElement();\n        });\n      }) : this.rows.forEach(e => {\n        var t = e.getElement();\n        t.parentNode.removeChild(t);\n      })), this.groupManager.updateGroupRows(!0), this.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), !1);\n    }\n    show() {\n      if (this.visible = !0, \"basic\" != this.groupManager.table.rowManager.getRenderMode() || this.groupManager.table.options.pagination) this.groupManager.updateGroupRows(!0);else {\n        this.element.classList.add(\"tabulator-group-visible\");\n        var e = this.generateElement();\n        this.groupList.length ? this.groupList.forEach(t => {\n          t.getHeadersAndRows().forEach(t => {\n            var i = t.getElement();\n            e.parentNode.insertBefore(i, e.nextSibling), t.initialize(), e = i;\n          });\n        }) : this.rows.forEach(t => {\n          var i = t.getElement();\n          e.parentNode.insertBefore(i, e.nextSibling), t.initialize(), e = i;\n        }), this.groupManager.updateGroupRows(!0);\n      }\n      this.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), !0);\n    }\n    _visSet() {\n      var e = [];\n      \"function\" == typeof this.visible && (this.rows.forEach(function (t) {\n        e.push(t.getData());\n      }), this.visible = this.visible(this.key, this.getRowCount(), e, this.getComponent()));\n    }\n    getRowGroup(e) {\n      var t = !1;\n      return this.groupList.length ? this.groupList.forEach(function (i) {\n        var s = i.getRowGroup(e);\n        s && (t = s);\n      }) : this.rows.find(function (t) {\n        return t === e;\n      }) && (t = this), t;\n    }\n    getSubGroups(e) {\n      var t = [];\n      return this.groupList.forEach(function (i) {\n        t.push(e ? i.getComponent() : i);\n      }), t;\n    }\n    getRows(e, t) {\n      var i = [];\n      return t && this.groupList.length ? this.groupList.forEach(s => {\n        i = i.concat(s.getRows(e, t));\n      }) : this.rows.forEach(function (t) {\n        i.push(e ? t.getComponent() : t);\n      }), i;\n    }\n    generateGroupHeaderContents() {\n      var e = [];\n      for (this.getRows(!1, !0).forEach(function (t) {\n        e.push(t.getData());\n      }), this.elementContents = this.generator(this.key, this.getRowCount(), e, this.getComponent()); this.element.firstChild;) this.element.removeChild(this.element.firstChild);\n      \"string\" == typeof this.elementContents ? this.element.innerHTML = this.elementContents : this.element.appendChild(this.elementContents), this.element.insertBefore(this.arrowElement, this.element.firstChild);\n    }\n    getPath(e = []) {\n      return e.unshift(this.key), this.parent && this.parent.getPath(e), e;\n    }\n    getElement() {\n      return this.elementContents ? this.element : this.generateElement();\n    }\n    generateElement() {\n      this.addBindings = !1, this._visSet(), this.visible ? this.element.classList.add(\"tabulator-group-visible\") : this.element.classList.remove(\"tabulator-group-visible\");\n      for (var e = 0; e < this.element.childNodes.length; ++e) this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);\n      return this.generateGroupHeaderContents(), this.element;\n    }\n    detachElement() {\n      this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element);\n    }\n    normalizeHeight() {\n      this.setHeight(this.element.clientHeight);\n    }\n    initialize(e) {\n      this.initialized && !e || (this.normalizeHeight(), this.initialized = !0);\n    }\n    reinitialize() {\n      this.initialized = !1, this.height = 0, r.elVisible(this.element) && this.initialize(!0);\n    }\n    setHeight(e) {\n      this.height != e && (this.height = e, this.outerHeight = this.element.offsetHeight);\n    }\n    getHeight() {\n      return this.outerHeight;\n    }\n    getGroup() {\n      return this;\n    }\n    reinitializeHeight() {}\n    calcHeight() {}\n    setCellHeight() {}\n    clearCellHeight() {}\n    deinitializeHeight() {}\n    rendered() {}\n    getComponent() {\n      return this.component || (this.component = new he(this)), this.component;\n    }\n  }\n  class ce extends k {\n    constructor(e) {\n      super(e), this.groupIDLookups = !1, this.startOpen = [function () {\n        return !1;\n      }], this.headerGenerator = [function () {\n        return \"\";\n      }], this.groupList = [], this.allowedValues = !1, this.groups = {}, this.displayHandler = this.getRows.bind(this), this.blockRedraw = !1, this.registerTableOption(\"groupBy\", !1), this.registerTableOption(\"groupStartOpen\", !0), this.registerTableOption(\"groupValues\", !1), this.registerTableOption(\"groupUpdateOnCellEdit\", !1), this.registerTableOption(\"groupHeader\", !1), this.registerTableOption(\"groupHeaderPrint\", null), this.registerTableOption(\"groupHeaderClipboard\", null), this.registerTableOption(\"groupHeaderHtmlOutput\", null), this.registerTableOption(\"groupHeaderDownload\", null), this.registerTableOption(\"groupToggleElement\", \"arrow\"), this.registerTableOption(\"groupClosedShowCalcs\", !1), this.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this)), this.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this)), this.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this)), this.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this)), this.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this)), this.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this)), this.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n    }\n    initialize() {\n      this.subscribe(\"table-destroy\", this._blockRedrawing.bind(this)), this.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this)), this.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this)), this.table.options.groupBy && (this.table.options.groupUpdateOnCellEdit && (this.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this)), this.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0)), this.subscribe(\"table-built\", this.configureGroupSetup.bind(this)), this.subscribe(\"row-deleting\", this.rowDeleting.bind(this)), this.subscribe(\"row-deleted\", this.rowsUpdated.bind(this)), this.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this)), this.subscribe(\"rows-wipe\", this.wipe.bind(this)), this.subscribe(\"rows-added\", this.rowsUpdated.bind(this)), this.subscribe(\"row-moving\", this.rowMoving.bind(this)), this.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this)), this.subscribe(\"rows-sample\", this.rowSample.bind(this)), this.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this)), this.registerDisplayHandler(this.displayHandler, 20), this.initialized = !0);\n    }\n    _blockRedrawing() {\n      this.blockRedraw = !0;\n    }\n    _restore_redrawing() {\n      this.blockRedraw = !1;\n    }\n    configureGroupSetup() {\n      if (this.table.options.groupBy) {\n        var e = this.table.options.groupBy,\n          t = this.table.options.groupStartOpen,\n          i = this.table.options.groupHeader;\n        if (this.allowedValues = this.table.options.groupValues, Array.isArray(e) && Array.isArray(i) && e.length > i.length && console.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\"), this.headerGenerator = [function () {\n          return \"\";\n        }], this.startOpen = [function () {\n          return !1;\n        }], this.langBind(\"groups|item\", (e, t) => {\n          this.headerGenerator[0] = (i, s, o) => (void 0 === i ? \"\" : i) + \"<span>(\" + s + \" \" + (1 === s ? e : t.groups.items) + \")</span>\";\n        }), this.groupIDLookups = [], e) this.table.modExists(\"columnCalcs\") && \"table\" != this.table.options.columnCalcs && \"both\" != this.table.options.columnCalcs && this.table.modules.columnCalcs.removeCalcs();else if (this.table.modExists(\"columnCalcs\") && \"group\" != this.table.options.columnCalcs) this.table.columnManager.getRealColumns().forEach(e => {\n          e.definition.topCalc && this.table.modules.columnCalcs.initializeTopRow(), e.definition.bottomCalc && this.table.modules.columnCalcs.initializeBottomRow();\n        });\n        Array.isArray(e) || (e = [e]), e.forEach((e, t) => {\n          var i, s;\n          i = \"function\" == typeof e ? e : (s = this.table.columnManager.getColumnByField(e)) ? function (e) {\n            return s.getFieldValue(e);\n          } : function (t) {\n            return t[e];\n          }, this.groupIDLookups.push({\n            field: \"function\" != typeof e && e,\n            func: i,\n            values: !!this.allowedValues && this.allowedValues[t]\n          });\n        }), t && (Array.isArray(t) || (t = [t]), t.forEach(e => {}), this.startOpen = t), i && (this.headerGenerator = Array.isArray(i) ? i : [i]);\n      } else this.groupList = [], this.groups = {};\n    }\n    rowSample(e, t) {\n      if (this.table.options.groupBy) {\n        var i = this.getGroups(!1)[0];\n        t.push(i.getRows(!1)[0]);\n      }\n      return t;\n    }\n    virtualRenderFill() {\n      var e = this.table.rowManager.tableElement,\n        t = this.table.rowManager.getVisibleRows();\n      if (!this.table.options.groupBy) return t;\n      t = t.filter(e => \"group\" !== e.type), e.style.minWidth = t.length ? \"\" : this.table.columnManager.getWidth() + \"px\";\n    }\n    rowAddingIndex(e, t, i) {\n      if (this.table.options.groupBy) {\n        this.assignRowToGroup(e);\n        var s = e.modules.group.rows;\n        return s.length > 1 && (!t || t && -1 == s.indexOf(t) ? i ? s[0] !== e && (t = s[0], this.table.rowManager.moveRowInArray(e.modules.group.rows, e, t, !i)) : s[s.length - 1] !== e && (t = s[s.length - 1], this.table.rowManager.moveRowInArray(e.modules.group.rows, e, t, !i)) : this.table.rowManager.moveRowInArray(e.modules.group.rows, e, t, !i)), t;\n      }\n    }\n    trackChanges() {\n      this.dispatch(\"group-changed\");\n    }\n    setGroupBy(e) {\n      this.table.options.groupBy = e, this.initialized || this.initialize(), this.configureGroupSetup(), !e && this.table.modExists(\"columnCalcs\") && !0 === this.table.options.columnCalcs && this.table.modules.columnCalcs.reinitializeCalcs(), this.refreshData(), this.trackChanges();\n    }\n    setGroupValues(e) {\n      this.table.options.groupValues = e, this.configureGroupSetup(), this.refreshData(), this.trackChanges();\n    }\n    setGroupStartOpen(e) {\n      this.table.options.groupStartOpen = e, this.configureGroupSetup(), this.table.options.groupBy ? (this.refreshData(), this.trackChanges()) : console.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n    }\n    setGroupHeader(e) {\n      this.table.options.groupHeader = e, this.configureGroupSetup(), this.table.options.groupBy ? (this.refreshData(), this.trackChanges()) : console.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n    }\n    userGetGroups(e) {\n      return this.getGroups(!0);\n    }\n    userGetGroupedData() {\n      return this.table.options.groupBy ? this.getGroupedData() : this.getData();\n    }\n    rowGetGroup(e) {\n      return !!e.modules.group && e.modules.group.getComponent();\n    }\n    rowMoving(e, t, i) {\n      if (this.table.options.groupBy) {\n        !i && t instanceof de && (t = this.table.rowManager.prevDisplayRow(e) || t);\n        var s = t instanceof de ? t : t.modules.group,\n          o = e instanceof de ? e : e.modules.group;\n        s === o ? this.table.rowManager.moveRowInArray(s.rows, e, t, i) : (o && o.removeRow(e), s.insertRow(e, t, i));\n      }\n    }\n    rowDeleting(e) {\n      this.table.options.groupBy && e.modules.group && e.modules.group.removeRow(e);\n    }\n    rowsUpdated(e) {\n      this.table.options.groupBy && this.updateGroupRows(!0);\n    }\n    cellUpdated(e) {\n      this.table.options.groupBy && this.reassignRowToGroup(e.row);\n    }\n    getRows(e) {\n      return this.table.options.groupBy && this.groupIDLookups.length ? (this.dispatchExternal(\"dataGrouping\"), this.generateGroups(e), this.subscribedExternal(\"dataGrouped\") && this.dispatchExternal(\"dataGrouped\", this.getGroups(!0)), this.updateGroupRows()) : e.slice(0);\n    }\n    getGroups(e) {\n      var t = [];\n      return this.groupList.forEach(function (i) {\n        t.push(e ? i.getComponent() : i);\n      }), t;\n    }\n    getChildGroups(e) {\n      var t = [];\n      return e || (e = this), e.groupList.forEach(e => {\n        e.groupList.length ? t = t.concat(this.getChildGroups(e)) : t.push(e);\n      }), t;\n    }\n    wipe() {\n      this.table.options.groupBy && (this.groupList.forEach(function (e) {\n        e.wipe();\n      }), this.groupList = [], this.groups = {});\n    }\n    pullGroupListData(e) {\n      var t = [];\n      return e.forEach(e => {\n        var i = {\n            level: 0,\n            rowCount: 0,\n            headerContent: \"\"\n          },\n          s = [];\n        e.hasSubGroups ? (s = this.pullGroupListData(e.groupList), i.level = e.level, i.rowCount = s.length - e.groupList.length, i.headerContent = e.generator(e.key, i.rowCount, e.rows, e), t.push(i), t = t.concat(s)) : (i.level = e.level, i.headerContent = e.generator(e.key, e.rows.length, e.rows, e), i.rowCount = e.getRows().length, t.push(i), e.getRows().forEach(e => {\n          t.push(e.getData(\"data\"));\n        }));\n      }), t;\n    }\n    getGroupedData() {\n      return this.pullGroupListData(this.groupList);\n    }\n    getRowGroup(e) {\n      var t = !1;\n      return this.options(\"dataTree\") && (e = this.table.modules.dataTree.getTreeParentRoot(e)), this.groupList.forEach(i => {\n        var s = i.getRowGroup(e);\n        s && (t = s);\n      }), t;\n    }\n    countGroups() {\n      return this.groupList.length;\n    }\n    generateGroups(e) {\n      var t = this.groups;\n      this.groups = {}, this.groupList = [], this.allowedValues && this.allowedValues[0] ? (this.allowedValues[0].forEach(e => {\n        this.createGroup(e, 0, t);\n      }), e.forEach(e => {\n        this.assignRowToExistingGroup(e, t);\n      })) : e.forEach(e => {\n        this.assignRowToGroup(e, t);\n      }), Object.values(t).forEach(e => {\n        e.wipe(!0);\n      });\n    }\n    createGroup(e, t, i) {\n      var s,\n        o = t + \"_\" + e;\n      i = i || [], s = new de(this, !1, t, e, this.groupIDLookups[0].field, this.headerGenerator[0], i[o]), this.groups[o] = s, this.groupList.push(s);\n    }\n    assignRowToExistingGroup(e, t) {\n      var i = \"0_\" + this.groupIDLookups[0].func(e.getData());\n      this.groups[i] && this.groups[i].addRow(e);\n    }\n    assignRowToGroup(e, t) {\n      var i = this.groupIDLookups[0].func(e.getData()),\n        s = !this.groups[\"0_\" + i];\n      return s && this.createGroup(i, 0, t), this.groups[\"0_\" + i].addRow(e), !s;\n    }\n    reassignRowToGroup(e) {\n      if (\"row\" === e.type) {\n        var t = e.modules.group,\n          i = t.getPath(),\n          s = this.getExpectedPath(e);\n        i.length == s.length && i.every((e, t) => e === s[t]) || (t.removeRow(e), this.assignRowToGroup(e, this.groups), this.refreshData(!0));\n      }\n    }\n    getExpectedPath(e) {\n      var t = [],\n        i = e.getData();\n      return this.groupIDLookups.forEach(e => {\n        t.push(e.func(i));\n      }), t;\n    }\n    updateGroupRows(e) {\n      var t = [];\n      return this.blockRedraw || (this.groupList.forEach(e => {\n        t = t.concat(e.getHeadersAndRows());\n      }), e && this.refreshData(!0)), t;\n    }\n    scrollHeaders(e) {\n      this.table.options.groupBy && (\"virtual\" === this.table.options.renderHorizontal && (e -= this.table.columnManager.renderer.vDomPadLeft), e += \"px\", this.groupList.forEach(t => {\n        t.scrollHeader(e);\n      }));\n    }\n    removeGroup(e) {\n      var t,\n        i = e.level + \"_\" + e.key;\n      this.groups[i] && (delete this.groups[i], (t = this.groupList.indexOf(e)) > -1 && this.groupList.splice(t, 1));\n    }\n    checkBasicModeGroupHeaderWidth() {\n      var e = this.table.rowManager.tableElement,\n        t = !0;\n      this.table.rowManager.getDisplayRows().forEach((i, s) => {\n        this.table.rowManager.styleRow(i, s), e.appendChild(i.getElement()), i.initialize(!0), \"group\" !== i.type && (t = !1);\n      }), e.style.minWidth = t ? this.table.columnManager.getWidth() + \"px\" : \"\";\n    }\n  }\n  ce.moduleName = \"groupRows\";\n  class ue extends k {\n    constructor(e) {\n      super(e), this.history = [], this.index = -1, this.registerTableOption(\"history\", !1);\n    }\n    initialize() {\n      this.table.options.history && (this.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this)), this.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this)), this.subscribe(\"row-delete\", this.rowDeleted.bind(this)), this.subscribe(\"rows-wipe\", this.clear.bind(this)), this.subscribe(\"row-added\", this.rowAdded.bind(this)), this.subscribe(\"row-move\", this.rowMoved.bind(this))), this.registerTableFunction(\"undo\", this.undo.bind(this)), this.registerTableFunction(\"redo\", this.redo.bind(this)), this.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this)), this.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this)), this.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n    }\n    rowMoved(e, t, i) {\n      this.action(\"rowMove\", e, {\n        posFrom: e.getPosition(),\n        posTo: t.getPosition(),\n        to: t,\n        after: i\n      });\n    }\n    rowAdded(e, t, i, s) {\n      this.action(\"rowAdd\", e, {\n        data: t,\n        pos: i,\n        index: s\n      });\n    }\n    rowDeleted(e) {\n      var t, i;\n      this.table.options.groupBy ? (t = (i = e.getComponent().getGroup()._getSelf().rows).indexOf(e)) && (t = i[t - 1]) : (t = e.table.rowManager.getRowIndex(e)) && (t = e.table.rowManager.rows[t - 1]), this.action(\"rowDelete\", e, {\n        data: e.getData(),\n        pos: !t,\n        index: t\n      });\n    }\n    cellUpdated(e) {\n      this.action(\"cellEdit\", e, {\n        oldValue: e.oldValue,\n        newValue: e.value\n      });\n    }\n    clear() {\n      this.history = [], this.index = -1;\n    }\n    action(e, t, i) {\n      this.history = this.history.slice(0, this.index + 1), this.history.push({\n        type: e,\n        component: t,\n        data: i\n      }), this.index++;\n    }\n    getHistoryUndoSize() {\n      return this.index + 1;\n    }\n    getHistoryRedoSize() {\n      return this.history.length - (this.index + 1);\n    }\n    clearComponentHistory(e) {\n      var t = this.history.findIndex(function (t) {\n        return t.component === e;\n      });\n      t > -1 && (this.history.splice(t, 1), t <= this.index && this.index--, this.clearComponentHistory(e));\n    }\n    undo() {\n      if (this.index > -1) {\n        let e = this.history[this.index];\n        return ue.undoers[e.type].call(this, e), this.index--, this.dispatchExternal(\"historyUndo\", e.type, e.component.getComponent(), e.data), !0;\n      }\n      return console.warn(\"History Undo Error - No more history to undo\"), !1;\n    }\n    redo() {\n      if (this.history.length - 1 > this.index) {\n        this.index++;\n        let e = this.history[this.index];\n        return ue.redoers[e.type].call(this, e), this.dispatchExternal(\"historyRedo\", e.type, e.component.getComponent(), e.data), !0;\n      }\n      return console.warn(\"History Redo Error - No more history to redo\"), !1;\n    }\n    _rebindRow(e, t) {\n      this.history.forEach(function (i) {\n        if (i.component instanceof p) i.component === e && (i.component = t);else if (i.component instanceof o && i.component.row === e) {\n          var s = i.component.column.getField();\n          s && (i.component = t.getCell(s));\n        }\n      });\n    }\n  }\n  ue.moduleName = \"history\", ue.undoers = {\n    cellEdit: function (e) {\n      e.component.setValueProcessData(e.data.oldValue), e.component.cellRendered();\n    },\n    rowAdd: function (e) {\n      e.component.deleteActual();\n    },\n    rowDelete: function (e) {\n      var t = this.table.rowManager.addRowActual(e.data.data, e.data.pos, e.data.index);\n      this.table.options.groupBy && this.table.modExists(\"groupRows\") && this.table.modules.groupRows.updateGroupRows(!0), this._rebindRow(e.component, t);\n    },\n    rowMove: function (e) {\n      var t = e.data.posFrom - e.data.posTo > 0;\n      this.table.rowManager.moveRowActual(e.component, this.table.rowManager.getRowFromPosition(e.data.posFrom), t), this.table.rowManager.regenerateRowPositions(), this.table.rowManager.reRenderInPosition();\n    }\n  }, ue.redoers = {\n    cellEdit: function (e) {\n      e.component.setValueProcessData(e.data.newValue), e.component.cellRendered();\n    },\n    rowAdd: function (e) {\n      var t = this.table.rowManager.addRowActual(e.data.data, e.data.pos, e.data.index);\n      this.table.options.groupBy && this.table.modExists(\"groupRows\") && this.table.modules.groupRows.updateGroupRows(!0), this._rebindRow(e.component, t);\n    },\n    rowDelete: function (e) {\n      e.component.deleteActual();\n    },\n    rowMove: function (e) {\n      this.table.rowManager.moveRowActual(e.component, this.table.rowManager.getRowFromPosition(e.data.posTo), e.data.after), this.table.rowManager.regenerateRowPositions(), this.table.rowManager.reRenderInPosition();\n    }\n  };\n  class pe extends k {\n    constructor(e) {\n      super(e), this.fieldIndex = [], this.hasIndex = !1;\n    }\n    initialize() {\n      this.tableElementCheck();\n    }\n    tableElementCheck() {\n      this.table.originalElement && \"TABLE\" === this.table.originalElement.tagName && (this.table.originalElement.childNodes.length ? this.parseTable() : console.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\"));\n    }\n    parseTable() {\n      var e = this.table.originalElement,\n        t = this.table.options,\n        i = e.getElementsByTagName(\"th\"),\n        s = e.getElementsByTagName(\"tbody\")[0],\n        o = [];\n      this.hasIndex = !1, this.dispatchExternal(\"htmlImporting\"), s = s ? s.getElementsByTagName(\"tr\") : [], this._extractOptions(e, t), i.length ? this._extractHeaders(i, s) : this._generateBlankHeaders(i, s);\n      for (var n = 0; n < s.length; n++) {\n        var r = s[n].getElementsByTagName(\"td\"),\n          a = {};\n        this.hasIndex || (a[t.index] = n);\n        for (var l = 0; l < r.length; l++) {\n          var h = r[l];\n          void 0 !== this.fieldIndex[l] && (a[this.fieldIndex[l]] = h.innerHTML);\n        }\n        o.push(a);\n      }\n      t.data = o, this.dispatchExternal(\"htmlImported\");\n    }\n    _extractOptions(e, t, i) {\n      var s = e.attributes,\n        o = i ? Object.keys(i) : Object.keys(t),\n        n = {};\n      for (var r in o.forEach(e => {\n        n[e.toLowerCase()] = e;\n      }), s) {\n        var a,\n          l = s[r];\n        l && \"object\" == typeof l && l.name && 0 === l.name.indexOf(\"tabulator-\") && (a = l.name.replace(\"tabulator-\", \"\"), void 0 !== n[a] && (t[n[a]] = this._attribValue(l.value)));\n      }\n    }\n    _attribValue(e) {\n      return \"true\" === e || \"false\" !== e && e;\n    }\n    _findCol(e) {\n      return this.table.options.columns.find(t => t.title === e) || !1;\n    }\n    _extractHeaders(e, t) {\n      for (var i = 0; i < e.length; i++) {\n        var s,\n          o = e[i],\n          n = !1,\n          r = this._findCol(o.textContent);\n        r ? n = !0 : r = {\n          title: o.textContent.trim()\n        }, r.field || (r.field = o.textContent.trim().toLowerCase().replaceAll(\" \", \"_\")), (s = o.getAttribute(\"width\")) && !r.width && (r.width = s), this._extractOptions(o, r, this.table.columnManager.optionsList.registeredDefaults), this.fieldIndex[i] = r.field, r.field == this.table.options.index && (this.hasIndex = !0), n || this.table.options.columns.push(r);\n      }\n    }\n    _generateBlankHeaders(e, t) {\n      for (var i = 0; i < e.length; i++) {\n        var s = e[i],\n          o = {\n            title: \"\",\n            field: \"col\" + i\n          };\n        this.fieldIndex[i] = o.field;\n        var n = s.getAttribute(\"width\");\n        n && (o.width = n), this.table.options.columns.push(o);\n      }\n    }\n  }\n  pe.moduleName = \"htmlTableImport\";\n  var me = {\n    csv: function (e) {\n      var t = [],\n        i = 0,\n        s = 0,\n        o = !1;\n      for (let n = 0; n < e.length; n++) {\n        let r = e[n],\n          a = e[n + 1];\n        t[i] || (t[i] = []), t[i][s] || (t[i][s] = \"\"), '\"' == r && o && '\"' == a ? (t[i][s] += r, n++) : '\"' != r ? \",\" != r || o ? \"\\r\" != r || \"\\n\" != a || o ? \"\\r\" != r && \"\\n\" != r || o ? t[i][s] += r : (s = 0, i++) : (s = 0, i++, n++) : s++ : o = !o;\n      }\n      return t;\n    },\n    json: function (e) {\n      try {\n        return JSON.parse(e);\n      } catch (e) {\n        return console.warn(\"JSON Import Error - File contents is invalid JSON\", e), Promise.reject();\n      }\n    },\n    array: function (e) {\n      return e;\n    }\n  };\n  class ge extends k {\n    constructor(e) {\n      super(e), this.registerTableOption(\"importFormat\"), this.registerTableOption(\"importReader\", \"text\");\n    }\n    initialize() {\n      this.registerTableFunction(\"import\", this.importFromFile.bind(this)), this.table.options.importFormat && (this.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10), this.subscribe(\"data-load\", this.loadData.bind(this), 10));\n    }\n    loadDataCheck(e) {\n      return this.table.options.importFormat && (\"string\" == typeof e || Array.isArray(e) && e.length && Array.isArray(e));\n    }\n    loadData(e, t, i, s, o) {\n      return this.importData(this.lookupImporter(), e).then(this.structureData.bind(this)).catch(e => (console.error(\"Import Error:\", e || \"Unable to import data\"), Promise.reject(e)));\n    }\n    lookupImporter(e) {\n      var t;\n      return e || (e = this.table.options.importFormat), (t = \"string\" == typeof e ? ge.importers[e] : e) || console.error(\"Import Error - Importer not found:\", e), t;\n    }\n    importFromFile(e, t) {\n      var i = this.lookupImporter(e);\n      if (i) return this.pickFile(t).then(this.importData.bind(this, i)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(e => (console.error(\"Import Error:\", e || \"Unable to import file\"), Promise.reject(e)));\n    }\n    pickFile(e) {\n      return new Promise((t, i) => {\n        var s = document.createElement(\"input\");\n        s.type = \"file\", s.accept = e, s.addEventListener(\"change\", e => {\n          var o = s.files[0],\n            n = new FileReader();\n          switch (this.table.options.importReader) {\n            case \"buffer\":\n              n.readAsArrayBuffer(o);\n              break;\n            case \"binary\":\n              n.readAsBinaryString(o);\n              break;\n            case \"url\":\n              n.readAsDataURL(o);\n              break;\n            default:\n              n.readAsText(o);\n          }\n          n.onload = e => {\n            t(n.result);\n          }, n.onerror = e => {\n            console.warn(\"File Load Error - Unable to read file\"), i();\n          };\n        }), s.click();\n      });\n    }\n    importData(e, t) {\n      var i = e.call(this.table, t);\n      return i instanceof Promise ? i : i ? Promise.resolve(i) : Promise.reject();\n    }\n    structureData(e) {\n      return Array.isArray(e) && e.length && Array.isArray(e[0]) ? this.table.options.autoColumns ? this.structureArrayToObject(e) : this.structureArrayToColumns(e) : e;\n    }\n    structureArrayToObject(e) {\n      var t = e.shift();\n      return e.map(e => {\n        var i = {};\n        return t.forEach((t, s) => {\n          i[t] = e[s];\n        }), i;\n      });\n    }\n    structureArrayToColumns(e) {\n      var t = [],\n        i = this.table.getColumns();\n      return i[0] && e[0][0] && i[0].getDefinition().title === e[0][0] && e.shift(), e.forEach(e => {\n        var s = {};\n        e.forEach((e, t) => {\n          var o = i[t];\n          o && (s[o.getField()] = e);\n        }), t.push(s);\n      }), t;\n    }\n    setData(e) {\n      return this.table.setData(e);\n    }\n  }\n  ge.moduleName = \"import\", ge.importers = me;\n  class be extends k {\n    constructor(e) {\n      super(e), this.eventMap = {\n        rowClick: \"row-click\",\n        rowDblClick: \"row-dblclick\",\n        rowContext: \"row-contextmenu\",\n        rowMouseEnter: \"row-mouseenter\",\n        rowMouseLeave: \"row-mouseleave\",\n        rowMouseOver: \"row-mouseover\",\n        rowMouseOut: \"row-mouseout\",\n        rowMouseMove: \"row-mousemove\",\n        rowMouseDown: \"row-mousedown\",\n        rowMouseUp: \"row-mouseup\",\n        rowTap: \"row\",\n        rowDblTap: \"row\",\n        rowTapHold: \"row\",\n        cellClick: \"cell-click\",\n        cellDblClick: \"cell-dblclick\",\n        cellContext: \"cell-contextmenu\",\n        cellMouseEnter: \"cell-mouseenter\",\n        cellMouseLeave: \"cell-mouseleave\",\n        cellMouseOver: \"cell-mouseover\",\n        cellMouseOut: \"cell-mouseout\",\n        cellMouseMove: \"cell-mousemove\",\n        cellMouseDown: \"cell-mousedown\",\n        cellMouseUp: \"cell-mouseup\",\n        cellTap: \"cell\",\n        cellDblTap: \"cell\",\n        cellTapHold: \"cell\",\n        headerClick: \"column-click\",\n        headerDblClick: \"column-dblclick\",\n        headerContext: \"column-contextmenu\",\n        headerMouseEnter: \"column-mouseenter\",\n        headerMouseLeave: \"column-mouseleave\",\n        headerMouseOver: \"column-mouseover\",\n        headerMouseOut: \"column-mouseout\",\n        headerMouseMove: \"column-mousemove\",\n        headerMouseDown: \"column-mousedown\",\n        headerMouseUp: \"column-mouseup\",\n        headerTap: \"column\",\n        headerDblTap: \"column\",\n        headerTapHold: \"column\",\n        groupClick: \"group-click\",\n        groupDblClick: \"group-dblclick\",\n        groupContext: \"group-contextmenu\",\n        groupMouseEnter: \"group-mouseenter\",\n        groupMouseLeave: \"group-mouseleave\",\n        groupMouseOver: \"group-mouseover\",\n        groupMouseOut: \"group-mouseout\",\n        groupMouseMove: \"group-mousemove\",\n        groupMouseDown: \"group-mousedown\",\n        groupMouseUp: \"group-mouseup\",\n        groupTap: \"group\",\n        groupDblTap: \"group\",\n        groupTapHold: \"group\"\n      }, this.subscribers = {}, this.touchSubscribers = {}, this.columnSubscribers = {}, this.touchWatchers = {\n        row: {\n          tap: null,\n          tapDbl: null,\n          tapHold: null\n        },\n        cell: {\n          tap: null,\n          tapDbl: null,\n          tapHold: null\n        },\n        column: {\n          tap: null,\n          tapDbl: null,\n          tapHold: null\n        },\n        group: {\n          tap: null,\n          tapDbl: null,\n          tapHold: null\n        }\n      }, this.registerColumnOption(\"headerClick\"), this.registerColumnOption(\"headerDblClick\"), this.registerColumnOption(\"headerContext\"), this.registerColumnOption(\"headerMouseEnter\"), this.registerColumnOption(\"headerMouseLeave\"), this.registerColumnOption(\"headerMouseOver\"), this.registerColumnOption(\"headerMouseOut\"), this.registerColumnOption(\"headerMouseMove\"), this.registerColumnOption(\"headerMouseDown\"), this.registerColumnOption(\"headerMouseUp\"), this.registerColumnOption(\"headerTap\"), this.registerColumnOption(\"headerDblTap\"), this.registerColumnOption(\"headerTapHold\"), this.registerColumnOption(\"cellClick\"), this.registerColumnOption(\"cellDblClick\"), this.registerColumnOption(\"cellContext\"), this.registerColumnOption(\"cellMouseEnter\"), this.registerColumnOption(\"cellMouseLeave\"), this.registerColumnOption(\"cellMouseOver\"), this.registerColumnOption(\"cellMouseOut\"), this.registerColumnOption(\"cellMouseMove\"), this.registerColumnOption(\"cellMouseDown\"), this.registerColumnOption(\"cellMouseUp\"), this.registerColumnOption(\"cellTap\"), this.registerColumnOption(\"cellDblTap\"), this.registerColumnOption(\"cellTapHold\");\n    }\n    initialize() {\n      this.initializeExternalEvents(), this.subscribe(\"column-init\", this.initializeColumn.bind(this)), this.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this)), this.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this)), this.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n    }\n    clearTouchWatchers() {\n      Object.values(this.touchWatchers).forEach(e => {\n        for (let t in e) e[t] = null;\n      });\n    }\n    cellContentsSelectionFixer(e, t) {\n      var i;\n      if (!this.table.modExists(\"edit\") || this.table.modules.edit.currentCell !== t) {\n        e.preventDefault();\n        try {\n          document.selection ? ((i = document.body.createTextRange()).moveToElementText(t.getElement()), i.select()) : window.getSelection && ((i = document.createRange()).selectNode(t.getElement()), window.getSelection().removeAllRanges(), window.getSelection().addRange(i));\n        } catch (e) {}\n      }\n    }\n    initializeExternalEvents() {\n      for (let e in this.eventMap) this.subscriptionChangeExternal(e, this.subscriptionChanged.bind(this, e));\n    }\n    subscriptionChanged(e, t) {\n      t ? this.subscribers[e] || (this.eventMap[e].includes(\"-\") ? (this.subscribers[e] = this.handle.bind(this, e), this.subscribe(this.eventMap[e], this.subscribers[e])) : this.subscribeTouchEvents(e)) : this.eventMap[e].includes(\"-\") ? !this.subscribers[e] || this.columnSubscribers[e] || this.subscribedExternal(e) || (this.unsubscribe(this.eventMap[e], this.subscribers[e]), delete this.subscribers[e]) : this.unsubscribeTouchEvents(e);\n    }\n    subscribeTouchEvents(e) {\n      var t = this.eventMap[e];\n      this.touchSubscribers[t + \"-touchstart\"] || (this.touchSubscribers[t + \"-touchstart\"] = this.handleTouch.bind(this, t, \"start\"), this.touchSubscribers[t + \"-touchend\"] = this.handleTouch.bind(this, t, \"end\"), this.subscribe(t + \"-touchstart\", this.touchSubscribers[t + \"-touchstart\"]), this.subscribe(t + \"-touchend\", this.touchSubscribers[t + \"-touchend\"])), this.subscribers[e] = !0;\n    }\n    unsubscribeTouchEvents(e) {\n      var t = !0,\n        i = this.eventMap[e];\n      if (this.subscribers[e] && !this.subscribedExternal(e)) {\n        delete this.subscribers[e];\n        for (let e in this.eventMap) this.eventMap[e] === i && this.subscribers[e] && (t = !1);\n        t && (this.unsubscribe(i + \"-touchstart\", this.touchSubscribers[i + \"-touchstart\"]), this.unsubscribe(i + \"-touchend\", this.touchSubscribers[i + \"-touchend\"]), delete this.touchSubscribers[i + \"-touchstart\"], delete this.touchSubscribers[i + \"-touchend\"]);\n      }\n    }\n    initializeColumn(e) {\n      var t = e.definition;\n      for (let i in this.eventMap) t[i] && (this.subscriptionChanged(i, !0), this.columnSubscribers[i] || (this.columnSubscribers[i] = []), this.columnSubscribers[i].push(e));\n    }\n    handle(e, t, i) {\n      this.dispatchEvent(e, t, i);\n    }\n    handleTouch(e, t, i, s) {\n      var o = this.touchWatchers[e];\n      switch (\"column\" === e && (e = \"header\"), t) {\n        case \"start\":\n          o.tap = !0, clearTimeout(o.tapHold), o.tapHold = setTimeout(() => {\n            clearTimeout(o.tapHold), o.tapHold = null, o.tap = null, clearTimeout(o.tapDbl), o.tapDbl = null, this.dispatchEvent(e + \"TapHold\", i, s);\n          }, 1e3);\n          break;\n        case \"end\":\n          o.tap && (o.tap = null, this.dispatchEvent(e + \"Tap\", i, s)), o.tapDbl ? (clearTimeout(o.tapDbl), o.tapDbl = null, this.dispatchEvent(e + \"DblTap\", i, s)) : o.tapDbl = setTimeout(() => {\n            clearTimeout(o.tapDbl), o.tapDbl = null;\n          }, 300), clearTimeout(o.tapHold), o.tapHold = null;\n      }\n    }\n    dispatchEvent(e, t, i) {\n      var s,\n        r = i.getComponent();\n      this.columnSubscribers[e] && (i instanceof o ? s = i.column.definition[e] : i instanceof n && (s = i.definition[e]), s && s(t, r)), this.dispatchExternal(e, t, r);\n    }\n  }\n  be.moduleName = \"interaction\";\n  class fe extends k {\n    constructor(e) {\n      super(e), this.watchKeys = null, this.pressedKeys = null, this.keyupBinding = !1, this.keydownBinding = !1, this.registerTableOption(\"keybindings\", {}), this.registerTableOption(\"tabEndNewRow\", !1);\n    }\n    initialize() {\n      var e = this.table.options.keybindings,\n        t = {};\n      this.watchKeys = {}, this.pressedKeys = [], !1 !== e && (Object.assign(t, fe.bindings), Object.assign(t, e), this.mapBindings(t), this.bindEvents()), this.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n    }\n    mapBindings(e) {\n      for (let t in e) fe.actions[t] ? e[t] && (\"object\" != typeof e[t] && (e[t] = [e[t]]), e[t].forEach(e => {\n        (Array.isArray(e) ? e : [e]).forEach(e => {\n          this.mapBinding(t, e);\n        });\n      })) : console.warn(\"Key Binding Error - no such action:\", t);\n    }\n    mapBinding(e, t) {\n      var i = {\n        action: fe.actions[e],\n        keys: [],\n        ctrl: !1,\n        shift: !1,\n        meta: !1\n      };\n      t.toString().toLowerCase().split(\" \").join(\"\").split(\"+\").forEach(e => {\n        switch (e) {\n          case \"ctrl\":\n            i.ctrl = !0;\n            break;\n          case \"shift\":\n            i.shift = !0;\n            break;\n          case \"meta\":\n            i.meta = !0;\n            break;\n          default:\n            e = isNaN(e) ? e.toUpperCase().charCodeAt(0) : parseInt(e), i.keys.push(e), this.watchKeys[e] || (this.watchKeys[e] = []), this.watchKeys[e].push(i);\n        }\n      });\n    }\n    bindEvents() {\n      var e = this;\n      this.keyupBinding = function (t) {\n        var i = t.keyCode,\n          s = e.watchKeys[i];\n        s && (e.pressedKeys.push(i), s.forEach(function (i) {\n          e.checkBinding(t, i);\n        }));\n      }, this.keydownBinding = function (t) {\n        var i = t.keyCode;\n        if (e.watchKeys[i]) {\n          var s = e.pressedKeys.indexOf(i);\n          s > -1 && e.pressedKeys.splice(s, 1);\n        }\n      }, this.table.element.addEventListener(\"keydown\", this.keyupBinding), this.table.element.addEventListener(\"keyup\", this.keydownBinding);\n    }\n    clearBindings() {\n      this.keyupBinding && this.table.element.removeEventListener(\"keydown\", this.keyupBinding), this.keydownBinding && this.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n    }\n    checkBinding(e, t) {\n      var i = !0;\n      return e.ctrlKey == t.ctrl && e.shiftKey == t.shift && e.metaKey == t.meta && (t.keys.forEach(e => {\n        -1 == this.pressedKeys.indexOf(e) && (i = !1);\n      }), i && t.action.call(this, e), !0);\n    }\n  }\n  fe.moduleName = \"keybindings\", fe.bindings = {\n    navPrev: \"shift + 9\",\n    navNext: 9,\n    navUp: 38,\n    navDown: 40,\n    scrollPageUp: 33,\n    scrollPageDown: 34,\n    scrollToStart: 36,\n    scrollToEnd: 35,\n    undo: [\"ctrl + 90\", \"meta + 90\"],\n    redo: [\"ctrl + 89\", \"meta + 89\"],\n    copyToClipboard: [\"ctrl + 67\", \"meta + 67\"]\n  }, fe.actions = {\n    keyBlock: function (e) {\n      e.stopPropagation(), e.preventDefault();\n    },\n    scrollPageUp: function (e) {\n      var t = this.table.rowManager,\n        i = t.scrollTop - t.element.clientHeight;\n      e.preventDefault(), t.displayRowsCount && (i >= 0 ? t.element.scrollTop = i : t.scrollToRow(t.getDisplayRows()[0])), this.table.element.focus();\n    },\n    scrollPageDown: function (e) {\n      var t = this.table.rowManager,\n        i = t.scrollTop + t.element.clientHeight,\n        s = t.element.scrollHeight;\n      e.preventDefault(), t.displayRowsCount && (i <= s ? t.element.scrollTop = i : t.scrollToRow(t.getDisplayRows()[t.displayRowsCount - 1])), this.table.element.focus();\n    },\n    scrollToStart: function (e) {\n      var t = this.table.rowManager;\n      e.preventDefault(), t.displayRowsCount && t.scrollToRow(t.getDisplayRows()[0]), this.table.element.focus();\n    },\n    scrollToEnd: function (e) {\n      var t = this.table.rowManager;\n      e.preventDefault(), t.displayRowsCount && t.scrollToRow(t.getDisplayRows()[t.displayRowsCount - 1]), this.table.element.focus();\n    },\n    navPrev: function (e) {\n      this.dispatch(\"keybinding-nav-prev\", e);\n    },\n    navNext: function (e) {\n      this.dispatch(\"keybinding-nav-next\", e);\n    },\n    navLeft: function (e) {\n      this.dispatch(\"keybinding-nav-left\", e);\n    },\n    navRight: function (e) {\n      this.dispatch(\"keybinding-nav-right\", e);\n    },\n    navUp: function (e) {\n      this.dispatch(\"keybinding-nav-up\", e);\n    },\n    navDown: function (e) {\n      this.dispatch(\"keybinding-nav-down\", e);\n    },\n    undo: function (e) {\n      this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\") && (this.table.modules.edit.currentCell || (e.preventDefault(), this.table.modules.history.undo()));\n    },\n    redo: function (e) {\n      this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\") && (this.table.modules.edit.currentCell || (e.preventDefault(), this.table.modules.history.redo()));\n    },\n    copyToClipboard: function (e) {\n      this.table.modules.edit.currentCell || this.table.modExists(\"clipboard\", !0) && this.table.modules.clipboard.copy(!1, !0);\n    }\n  };\n  class ve extends k {\n    constructor(e) {\n      super(e), this.menuContainer = null, this.nestedMenuBlock = !1, this.currentComponent = null, this.rootPopup = null, this.columnSubscribers = {}, this.registerTableOption(\"menuContainer\", void 0), this.registerTableOption(\"rowContextMenu\", !1), this.registerTableOption(\"rowClickMenu\", !1), this.registerTableOption(\"rowDblClickMenu\", !1), this.registerTableOption(\"groupContextMenu\", !1), this.registerTableOption(\"groupClickMenu\", !1), this.registerTableOption(\"groupDblClickMenu\", !1), this.registerColumnOption(\"headerContextMenu\"), this.registerColumnOption(\"headerClickMenu\"), this.registerColumnOption(\"headerDblClickMenu\"), this.registerColumnOption(\"headerMenu\"), this.registerColumnOption(\"headerMenuIcon\"), this.registerColumnOption(\"contextMenu\"), this.registerColumnOption(\"clickMenu\"), this.registerColumnOption(\"dblClickMenu\");\n    }\n    initialize() {\n      this.deprecatedOptionsCheck(), this.initializeRowWatchers(), this.initializeGroupWatchers(), this.subscribe(\"column-init\", this.initializeColumn.bind(this));\n    }\n    deprecatedOptionsCheck() {\n      this.deprecationCheck(\"menuContainer\", \"popupContainer\") || (this.table.options.popupContainer = this.table.options.menuContainer);\n    }\n    initializeRowWatchers() {\n      this.table.options.rowContextMenu && (this.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu)), this.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu))), this.table.options.rowClickMenu && this.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu)), this.table.options.rowDblClickMenu && this.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n    }\n    initializeGroupWatchers() {\n      this.table.options.groupContextMenu && (this.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu)), this.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu))), this.table.options.groupClickMenu && this.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu)), this.table.options.groupDblClickMenu && this.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n    }\n    initializeColumn(e) {\n      var t = e.definition;\n      t.headerContextMenu && !this.columnSubscribers.headerContextMenu && (this.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"), this.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu), this.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"))), t.headerClickMenu && !this.columnSubscribers.headerClickMenu && (this.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\"), this.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu)), t.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu && (this.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\"), this.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu)), t.headerMenu && this.initializeColumnHeaderMenu(e), t.contextMenu && !this.columnSubscribers.contextMenu && (this.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\"), this.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu), this.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"))), t.clickMenu && !this.columnSubscribers.clickMenu && (this.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\"), this.subscribe(\"cell-click\", this.columnSubscribers.clickMenu)), t.dblClickMenu && !this.columnSubscribers.dblClickMenu && (this.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\"), this.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu));\n    }\n    initializeColumnHeaderMenu(e) {\n      var t,\n        i = e.definition.headerMenuIcon;\n      (t = document.createElement(\"span\")).classList.add(\"tabulator-header-popup-button\"), i ? (\"function\" == typeof i && (i = i(e.getComponent())), i instanceof HTMLElement ? t.appendChild(i) : t.innerHTML = i) : t.innerHTML = \"&vellip;\", t.addEventListener(\"click\", t => {\n        t.stopPropagation(), t.preventDefault(), this.loadMenuEvent(e.definition.headerMenu, t, e);\n      }), e.titleElement.insertBefore(t, e.titleElement.firstChild);\n    }\n    loadMenuTableCellEvent(e, t, i) {\n      i._cell && (i = i._cell), i.column.definition[e] && this.loadMenuEvent(i.column.definition[e], t, i);\n    }\n    loadMenuTableColumnEvent(e, t, i) {\n      i._column && (i = i._column), i.definition[e] && this.loadMenuEvent(i.definition[e], t, i);\n    }\n    loadMenuEvent(e, t, i) {\n      i._group ? i = i._group : i._row && (i = i._row), e = \"function\" == typeof e ? e.call(this.table, t, i.getComponent()) : e, this.loadMenu(t, i, e);\n    }\n    loadMenu(e, t, i, s, o) {\n      var n,\n        r = !(e instanceof MouseEvent),\n        a = document.createElement(\"div\");\n      if (a.classList.add(\"tabulator-menu\"), r || e.preventDefault(), i && i.length) {\n        if (s) n = o.child(a);else {\n          if (this.nestedMenuBlock) {\n            if (this.rootPopup) return;\n          } else this.nestedMenuBlock = setTimeout(() => {\n            this.nestedMenuBlock = !1;\n          }, 100);\n          this.rootPopup && this.rootPopup.hide(), this.rootPopup = n = this.popup(a);\n        }\n        i.forEach(e => {\n          var i = document.createElement(\"div\"),\n            s = e.label,\n            o = e.disabled;\n          e.separator ? i.classList.add(\"tabulator-menu-separator\") : (i.classList.add(\"tabulator-menu-item\"), \"function\" == typeof s && (s = s.call(this.table, t.getComponent())), s instanceof Node ? i.appendChild(s) : i.innerHTML = s, \"function\" == typeof o && (o = o.call(this.table, t.getComponent())), o ? (i.classList.add(\"tabulator-menu-item-disabled\"), i.addEventListener(\"click\", e => {\n            e.stopPropagation();\n          })) : e.menu && e.menu.length ? i.addEventListener(\"click\", s => {\n            s.stopPropagation(), this.loadMenu(s, t, e.menu, i, n);\n          }) : e.action && i.addEventListener(\"click\", i => {\n            e.action(i, t.getComponent());\n          }), e.menu && e.menu.length && i.classList.add(\"tabulator-menu-item-submenu\")), a.appendChild(i);\n        }), a.addEventListener(\"click\", e => {\n          this.rootPopup && this.rootPopup.hide();\n        }), n.show(s || e), n === this.rootPopup && (this.rootPopup.hideOnBlur(() => {\n          this.rootPopup = null, this.currentComponent && (this.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent()), this.currentComponent = null);\n        }), this.currentComponent = t, this.dispatchExternal(\"menuOpened\", t.getComponent()));\n      }\n    }\n  }\n  ve.moduleName = \"menu\";\n  class we extends k {\n    constructor(e) {\n      super(e), this.placeholderElement = this.createPlaceholderElement(), this.hoverElement = !1, this.checkTimeout = !1, this.checkPeriod = 250, this.moving = !1, this.toCol = !1, this.toColAfter = !1, this.startX = 0, this.autoScrollMargin = 40, this.autoScrollStep = 5, this.autoScrollTimeout = !1, this.touchMove = !1, this.moveHover = this.moveHover.bind(this), this.endMove = this.endMove.bind(this), this.registerTableOption(\"movableColumns\", !1);\n    }\n    createPlaceholderElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-col\"), e.classList.add(\"tabulator-col-placeholder\"), e;\n    }\n    initialize() {\n      this.table.options.movableColumns && this.subscribe(\"column-init\", this.initializeColumn.bind(this));\n    }\n    initializeColumn(e) {\n      var t,\n        i = this,\n        s = {};\n      e.modules.frozen || e.isGroup || (t = e.getElement(), s.mousemove = function (s) {\n        e.parent === i.moving.parent && ((i.touchMove ? s.touches[0].pageX : s.pageX) - r.elOffset(t).left + i.table.columnManager.contentsElement.scrollLeft > e.getWidth() / 2 ? i.toCol === e && i.toColAfter || (t.parentNode.insertBefore(i.placeholderElement, t.nextSibling), i.moveColumn(e, !0)) : (i.toCol !== e || i.toColAfter) && (t.parentNode.insertBefore(i.placeholderElement, t), i.moveColumn(e, !1)));\n      }.bind(i), t.addEventListener(\"mousedown\", function (t) {\n        i.touchMove = !1, 1 === t.which && (i.checkTimeout = setTimeout(function () {\n          i.startMove(t, e);\n        }, i.checkPeriod));\n      }), t.addEventListener(\"mouseup\", function (e) {\n        1 === e.which && i.checkTimeout && clearTimeout(i.checkTimeout);\n      }), i.bindTouchEvents(e)), e.modules.moveColumn = s;\n    }\n    bindTouchEvents(e) {\n      var t,\n        i,\n        s,\n        o,\n        n,\n        r,\n        a = e.getElement(),\n        l = !1;\n      a.addEventListener(\"touchstart\", a => {\n        this.checkTimeout = setTimeout(() => {\n          this.touchMove = !0, t = e.nextColumn(), s = t ? t.getWidth() / 2 : 0, i = e.prevColumn(), o = i ? i.getWidth() / 2 : 0, n = 0, r = 0, l = !1, this.startMove(a, e);\n        }, this.checkPeriod);\n      }, {\n        passive: !0\n      }), a.addEventListener(\"touchmove\", a => {\n        var h, d;\n        this.moving && (this.moveHover(a), l || (l = a.touches[0].pageX), (h = a.touches[0].pageX - l) > 0 ? t && h - n > s && (d = t) !== e && (l = a.touches[0].pageX, d.getElement().parentNode.insertBefore(this.placeholderElement, d.getElement().nextSibling), this.moveColumn(d, !0)) : i && -h - r > o && (d = i) !== e && (l = a.touches[0].pageX, d.getElement().parentNode.insertBefore(this.placeholderElement, d.getElement()), this.moveColumn(d, !1)), d && (t = d.nextColumn(), n = s, s = t ? t.getWidth() / 2 : 0, i = d.prevColumn(), r = o, o = i ? i.getWidth() / 2 : 0));\n      }, {\n        passive: !0\n      }), a.addEventListener(\"touchend\", e => {\n        this.checkTimeout && clearTimeout(this.checkTimeout), this.moving && this.endMove(e);\n      });\n    }\n    startMove(e, t) {\n      var i = t.getElement(),\n        s = this.table.columnManager.getContentsElement(),\n        o = this.table.columnManager.getHeadersElement();\n      this.moving = t, this.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - r.elOffset(i).left, this.table.element.classList.add(\"tabulator-block-select\"), this.placeholderElement.style.width = t.getWidth() + \"px\", this.placeholderElement.style.height = t.getHeight() + \"px\", i.parentNode.insertBefore(this.placeholderElement, i), i.parentNode.removeChild(i), this.hoverElement = i.cloneNode(!0), this.hoverElement.classList.add(\"tabulator-moving\"), s.appendChild(this.hoverElement), this.hoverElement.style.left = \"0\", this.hoverElement.style.bottom = s.clientHeight - o.offsetHeight + \"px\", this.touchMove || (this._bindMouseMove(), document.body.addEventListener(\"mousemove\", this.moveHover), document.body.addEventListener(\"mouseup\", this.endMove)), this.moveHover(e);\n    }\n    _bindMouseMove() {\n      this.table.columnManager.columnsByIndex.forEach(function (e) {\n        e.modules.moveColumn.mousemove && e.getElement().addEventListener(\"mousemove\", e.modules.moveColumn.mousemove);\n      });\n    }\n    _unbindMouseMove() {\n      this.table.columnManager.columnsByIndex.forEach(function (e) {\n        e.modules.moveColumn.mousemove && e.getElement().removeEventListener(\"mousemove\", e.modules.moveColumn.mousemove);\n      });\n    }\n    moveColumn(e, t) {\n      var i = this.moving.getCells();\n      this.toCol = e, this.toColAfter = t, t ? e.getCells().forEach(function (e, t) {\n        var s = e.getElement(!0);\n        s.parentNode && i[t] && s.parentNode.insertBefore(i[t].getElement(), s.nextSibling);\n      }) : e.getCells().forEach(function (e, t) {\n        var s = e.getElement(!0);\n        s.parentNode && i[t] && s.parentNode.insertBefore(i[t].getElement(), s);\n      });\n    }\n    endMove(e) {\n      (1 === e.which || this.touchMove) && (this._unbindMouseMove(), this.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling), this.placeholderElement.parentNode.removeChild(this.placeholderElement), this.hoverElement.parentNode.removeChild(this.hoverElement), this.table.element.classList.remove(\"tabulator-block-select\"), this.toCol && this.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter), this.moving = !1, this.toCol = !1, this.toColAfter = !1, this.touchMove || (document.body.removeEventListener(\"mousemove\", this.moveHover), document.body.removeEventListener(\"mouseup\", this.endMove)));\n    }\n    moveHover(e) {\n      var t,\n        i = this.table.columnManager.getContentsElement(),\n        s = i.scrollLeft,\n        o = (this.touchMove ? e.touches[0].pageX : e.pageX) - r.elOffset(i).left + s;\n      this.hoverElement.style.left = o - this.startX + \"px\", o - s < this.autoScrollMargin && (this.autoScrollTimeout || (this.autoScrollTimeout = setTimeout(() => {\n        t = Math.max(0, s - 5), this.table.rowManager.getElement().scrollLeft = t, this.autoScrollTimeout = !1;\n      }, 1))), s + i.clientWidth - o < this.autoScrollMargin && (this.autoScrollTimeout || (this.autoScrollTimeout = setTimeout(() => {\n        t = Math.min(i.clientWidth, s + 5), this.table.rowManager.getElement().scrollLeft = t, this.autoScrollTimeout = !1;\n      }, 1)));\n    }\n  }\n  we.moduleName = \"moveColumn\";\n  class Ce extends k {\n    constructor(e) {\n      super(e), this.placeholderElement = this.createPlaceholderElement(), this.hoverElement = !1, this.checkTimeout = !1, this.checkPeriod = 150, this.moving = !1, this.toRow = !1, this.toRowAfter = !1, this.hasHandle = !1, this.startY = 0, this.startX = 0, this.moveHover = this.moveHover.bind(this), this.endMove = this.endMove.bind(this), this.tableRowDropEvent = !1, this.touchMove = !1, this.connection = !1, this.connectionSelectorsTables = !1, this.connectionSelectorsElements = !1, this.connectionElements = [], this.connections = [], this.connectedTable = !1, this.connectedRow = !1, this.registerTableOption(\"movableRows\", !1), this.registerTableOption(\"movableRowsConnectedTables\", !1), this.registerTableOption(\"movableRowsConnectedElements\", !1), this.registerTableOption(\"movableRowsSender\", !1), this.registerTableOption(\"movableRowsReceiver\", \"insert\"), this.registerColumnOption(\"rowHandle\");\n    }\n    createPlaceholderElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"tabulator-row\"), e.classList.add(\"tabulator-row-placeholder\"), e;\n    }\n    initialize() {\n      this.table.options.movableRows && (this.connectionSelectorsTables = this.table.options.movableRowsConnectedTables, this.connectionSelectorsElements = this.table.options.movableRowsConnectedElements, this.connection = this.connectionSelectorsTables || this.connectionSelectorsElements, this.subscribe(\"cell-init\", this.initializeCell.bind(this)), this.subscribe(\"column-init\", this.initializeColumn.bind(this)), this.subscribe(\"row-init\", this.initializeRow.bind(this)));\n    }\n    initializeGroupHeader(e) {\n      var t = this,\n        i = {};\n      i.mouseup = function (i) {\n        t.tableRowDrop(i, e);\n      }.bind(t), i.mousemove = function (i) {\n        var s;\n        i.pageY - r.elOffset(e.element).top + t.table.rowManager.element.scrollTop > e.getHeight() / 2 ? t.toRow === e && t.toRowAfter || ((s = e.getElement()).parentNode.insertBefore(t.placeholderElement, s.nextSibling), t.moveRow(e, !0)) : (t.toRow !== e || t.toRowAfter) && (s = e.getElement()).previousSibling && (s.parentNode.insertBefore(t.placeholderElement, s), t.moveRow(e, !1));\n      }.bind(t), e.modules.moveRow = i;\n    }\n    initializeRow(e) {\n      var t,\n        i = this,\n        s = {};\n      s.mouseup = function (t) {\n        i.tableRowDrop(t, e);\n      }.bind(i), s.mousemove = function (t) {\n        var s = e.getElement();\n        t.pageY - r.elOffset(s).top + i.table.rowManager.element.scrollTop > e.getHeight() / 2 ? i.toRow === e && i.toRowAfter || (s.parentNode.insertBefore(i.placeholderElement, s.nextSibling), i.moveRow(e, !0)) : (i.toRow !== e || i.toRowAfter) && (s.parentNode.insertBefore(i.placeholderElement, s), i.moveRow(e, !1));\n      }.bind(i), this.hasHandle || ((t = e.getElement()).addEventListener(\"mousedown\", function (t) {\n        1 === t.which && (i.checkTimeout = setTimeout(function () {\n          i.startMove(t, e);\n        }, i.checkPeriod));\n      }), t.addEventListener(\"mouseup\", function (e) {\n        1 === e.which && i.checkTimeout && clearTimeout(i.checkTimeout);\n      }), this.bindTouchEvents(e, e.getElement())), e.modules.moveRow = s;\n    }\n    initializeColumn(e) {\n      e.definition.rowHandle && !1 !== this.table.options.movableRows && (this.hasHandle = !0);\n    }\n    initializeCell(e) {\n      if (e.column.definition.rowHandle && !1 !== this.table.options.movableRows) {\n        var t = this,\n          i = e.getElement(!0);\n        i.addEventListener(\"mousedown\", function (i) {\n          1 === i.which && (t.checkTimeout = setTimeout(function () {\n            t.startMove(i, e.row);\n          }, t.checkPeriod));\n        }), i.addEventListener(\"mouseup\", function (e) {\n          1 === e.which && t.checkTimeout && clearTimeout(t.checkTimeout);\n        }), this.bindTouchEvents(e.row, i);\n      }\n    }\n    bindTouchEvents(e, t) {\n      var i,\n        s,\n        o,\n        n,\n        r,\n        a,\n        l = !1;\n      t.addEventListener(\"touchstart\", t => {\n        this.checkTimeout = setTimeout(() => {\n          this.touchMove = !0, i = e.nextRow(), o = i ? i.getHeight() / 2 : 0, s = e.prevRow(), n = s ? s.getHeight() / 2 : 0, r = 0, a = 0, l = !1, this.startMove(t, e);\n        }, this.checkPeriod);\n      }, {\n        passive: !0\n      }), this.moving, this.toRow, this.toRowAfter, t.addEventListener(\"touchmove\", t => {\n        var h, d;\n        this.moving && (t.preventDefault(), this.moveHover(t), l || (l = t.touches[0].pageY), (h = t.touches[0].pageY - l) > 0 ? i && h - r > o && (d = i) !== e && (l = t.touches[0].pageY, d.getElement().parentNode.insertBefore(this.placeholderElement, d.getElement().nextSibling), this.moveRow(d, !0)) : s && -h - a > n && (d = s) !== e && (l = t.touches[0].pageY, d.getElement().parentNode.insertBefore(this.placeholderElement, d.getElement()), this.moveRow(d, !1)), d && (i = d.nextRow(), r = o, o = i ? i.getHeight() / 2 : 0, s = d.prevRow(), a = n, n = s ? s.getHeight() / 2 : 0));\n      }), t.addEventListener(\"touchend\", e => {\n        this.checkTimeout && clearTimeout(this.checkTimeout), this.moving && (this.endMove(e), this.touchMove = !1);\n      });\n    }\n    _bindMouseMove() {\n      this.table.rowManager.getDisplayRows().forEach(e => {\n        (\"row\" === e.type || \"group\" === e.type) && e.modules.moveRow && e.modules.moveRow.mousemove && e.getElement().addEventListener(\"mousemove\", e.modules.moveRow.mousemove);\n      });\n    }\n    _unbindMouseMove() {\n      this.table.rowManager.getDisplayRows().forEach(e => {\n        (\"row\" === e.type || \"group\" === e.type) && e.modules.moveRow && e.modules.moveRow.mousemove && e.getElement().removeEventListener(\"mousemove\", e.modules.moveRow.mousemove);\n      });\n    }\n    startMove(e, t) {\n      var i = t.getElement();\n      this.setStartPosition(e, t), this.moving = t, this.table.element.classList.add(\"tabulator-block-select\"), this.placeholderElement.style.width = t.getWidth() + \"px\", this.placeholderElement.style.height = t.getHeight() + \"px\", this.connection ? (this.table.element.classList.add(\"tabulator-movingrow-sending\"), this.connectToTables(t)) : (i.parentNode.insertBefore(this.placeholderElement, i), i.parentNode.removeChild(i)), this.hoverElement = i.cloneNode(!0), this.hoverElement.classList.add(\"tabulator-moving\"), this.connection ? (document.body.appendChild(this.hoverElement), this.hoverElement.style.left = \"0\", this.hoverElement.style.top = \"0\", this.hoverElement.style.width = this.table.element.clientWidth + \"px\", this.hoverElement.style.whiteSpace = \"nowrap\", this.hoverElement.style.overflow = \"hidden\", this.hoverElement.style.pointerEvents = \"none\") : (this.table.rowManager.getTableElement().appendChild(this.hoverElement), this.hoverElement.style.left = \"0\", this.hoverElement.style.top = \"0\", this._bindMouseMove()), document.body.addEventListener(\"mousemove\", this.moveHover), document.body.addEventListener(\"mouseup\", this.endMove), this.dispatchExternal(\"rowMoving\", t.getComponent()), this.moveHover(e);\n    }\n    setStartPosition(e, t) {\n      var i,\n        s,\n        o = this.touchMove ? e.touches[0].pageX : e.pageX,\n        n = this.touchMove ? e.touches[0].pageY : e.pageY;\n      i = t.getElement(), this.connection ? (s = i.getBoundingClientRect(), this.startX = s.left - o + window.pageXOffset, this.startY = s.top - n + window.pageYOffset) : this.startY = n - i.getBoundingClientRect().top;\n    }\n    endMove(e) {\n      e && 1 !== e.which && !this.touchMove || (this._unbindMouseMove(), this.connection || (this.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling), this.placeholderElement.parentNode.removeChild(this.placeholderElement)), this.hoverElement.parentNode.removeChild(this.hoverElement), this.table.element.classList.remove(\"tabulator-block-select\"), this.toRow ? this.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter) : this.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent()), this.moving = !1, this.toRow = !1, this.toRowAfter = !1, document.body.removeEventListener(\"mousemove\", this.moveHover), document.body.removeEventListener(\"mouseup\", this.endMove), this.connection && (this.table.element.classList.remove(\"tabulator-movingrow-sending\"), this.disconnectFromTables()));\n    }\n    moveRow(e, t) {\n      this.toRow = e, this.toRowAfter = t;\n    }\n    moveHover(e) {\n      this.connection ? this.moveHoverConnections.call(this, e) : this.moveHoverTable.call(this, e);\n    }\n    moveHoverTable(e) {\n      var t = this.table.rowManager.getElement(),\n        i = t.scrollTop,\n        s = (this.touchMove ? e.touches[0].pageY : e.pageY) - t.getBoundingClientRect().top + i;\n      this.hoverElement.style.top = Math.min(s - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n    }\n    moveHoverConnections(e) {\n      this.hoverElement.style.left = this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX) + \"px\", this.hoverElement.style.top = this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY) + \"px\";\n    }\n    elementRowDrop(e, t, i) {\n      this.dispatchExternal(\"movableRowsElementDrop\", e, t, !!i && i.getComponent());\n    }\n    connectToTables(e) {\n      var t;\n      this.connectionSelectorsTables && (t = this.commsConnections(this.connectionSelectorsTables), this.dispatchExternal(\"movableRowsSendingStart\", t), this.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n        row: e\n      })), this.connectionSelectorsElements && (this.connectionElements = [], Array.isArray(this.connectionSelectorsElements) || (this.connectionSelectorsElements = [this.connectionSelectorsElements]), this.connectionSelectorsElements.forEach(e => {\n        \"string\" == typeof e ? this.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(e))) : this.connectionElements.push(e);\n      }), this.connectionElements.forEach(e => {\n        var t = t => {\n          this.elementRowDrop(t, e, this.moving);\n        };\n        e.addEventListener(\"mouseup\", t), e.tabulatorElementDropEvent = t, e.classList.add(\"tabulator-movingrow-receiving\");\n      }));\n    }\n    disconnectFromTables() {\n      var e;\n      this.connectionSelectorsTables && (e = this.commsConnections(this.connectionSelectorsTables), this.dispatchExternal(\"movableRowsSendingStop\", e), this.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\")), this.connectionElements.forEach(e => {\n        e.classList.remove(\"tabulator-movingrow-receiving\"), e.removeEventListener(\"mouseup\", e.tabulatorElementDropEvent), delete e.tabulatorElementDropEvent;\n      });\n    }\n    connect(e, t) {\n      return this.connectedTable ? (console.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable), !1) : (this.connectedTable = e, this.connectedRow = t, this.table.element.classList.add(\"tabulator-movingrow-receiving\"), this.table.rowManager.getDisplayRows().forEach(e => {\n        \"row\" === e.type && e.modules.moveRow && e.modules.moveRow.mouseup && e.getElement().addEventListener(\"mouseup\", e.modules.moveRow.mouseup);\n      }), this.tableRowDropEvent = this.tableRowDrop.bind(this), this.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent), this.dispatchExternal(\"movableRowsReceivingStart\", t, e), !0);\n    }\n    disconnect(e) {\n      e === this.connectedTable ? (this.connectedTable = !1, this.connectedRow = !1, this.table.element.classList.remove(\"tabulator-movingrow-receiving\"), this.table.rowManager.getDisplayRows().forEach(e => {\n        \"row\" === e.type && e.modules.moveRow && e.modules.moveRow.mouseup && e.getElement().removeEventListener(\"mouseup\", e.modules.moveRow.mouseup);\n      }), this.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent), this.dispatchExternal(\"movableRowsReceivingStop\", e)) : console.warn(\"Move Row Error - trying to disconnect from non connected table\");\n    }\n    dropComplete(e, t, i) {\n      var s = !1;\n      if (i) {\n        switch (typeof this.table.options.movableRowsSender) {\n          case \"string\":\n            s = this.senders[this.table.options.movableRowsSender];\n            break;\n          case \"function\":\n            s = this.table.options.movableRowsSender;\n        }\n        s ? s.call(this, this.moving ? this.moving.getComponent() : void 0, t ? t.getComponent() : void 0, e) : this.table.options.movableRowsSender && console.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender), this.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), t ? t.getComponent() : void 0, e);\n      } else this.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), t ? t.getComponent() : void 0, e);\n      this.endMove();\n    }\n    tableRowDrop(e, t) {\n      var i = !1,\n        s = !1;\n      switch (e.stopImmediatePropagation(), typeof this.table.options.movableRowsReceiver) {\n        case \"string\":\n          i = this.receivers[this.table.options.movableRowsReceiver];\n          break;\n        case \"function\":\n          i = this.table.options.movableRowsReceiver;\n      }\n      i ? s = i.call(this, this.connectedRow.getComponent(), t ? t.getComponent() : void 0, this.connectedTable) : console.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver), s ? this.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), t ? t.getComponent() : void 0, this.connectedTable) : this.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), t ? t.getComponent() : void 0, this.connectedTable), this.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n        row: t,\n        success: s\n      });\n    }\n    commsReceived(e, t, i) {\n      switch (t) {\n        case \"connect\":\n          return this.connect(e, i.row);\n        case \"disconnect\":\n          return this.disconnect(e);\n        case \"dropcomplete\":\n          return this.dropComplete(e, i.row, i.success);\n      }\n    }\n  }\n  Ce.prototype.receivers = {\n    insert: function (e, t, i) {\n      return this.table.addRow(e.getData(), void 0, t), !0;\n    },\n    add: function (e, t, i) {\n      return this.table.addRow(e.getData()), !0;\n    },\n    update: function (e, t, i) {\n      return !!t && (t.update(e.getData()), !0);\n    },\n    replace: function (e, t, i) {\n      return !!t && (this.table.addRow(e.getData(), void 0, t), t.delete(), !0);\n    }\n  }, Ce.prototype.senders = {\n    delete: function (e, t, i) {\n      e.delete();\n    }\n  }, Ce.moduleName = \"moveRow\";\n  class Ee extends k {\n    constructor(e) {\n      super(e), this.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"], this.enabled = !0, this.registerColumnOption(\"mutator\"), this.registerColumnOption(\"mutatorParams\"), this.registerColumnOption(\"mutatorData\"), this.registerColumnOption(\"mutatorDataParams\"), this.registerColumnOption(\"mutatorEdit\"), this.registerColumnOption(\"mutatorEditParams\"), this.registerColumnOption(\"mutatorClipboard\"), this.registerColumnOption(\"mutatorClipboardParams\"), this.registerColumnOption(\"mutateLink\");\n    }\n    initialize() {\n      this.subscribe(\"cell-value-changing\", this.transformCell.bind(this)), this.subscribe(\"cell-value-changed\", this.mutateLink.bind(this)), this.subscribe(\"column-layout\", this.initializeColumn.bind(this)), this.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this)), this.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n    }\n    rowDataChanged(e, t, i) {\n      return this.transformRow(t, \"data\", i);\n    }\n    initializeColumn(e) {\n      var t = !1,\n        i = {};\n      this.allowedTypes.forEach(s => {\n        var o,\n          n = \"mutator\" + (s.charAt(0).toUpperCase() + s.slice(1));\n        e.definition[n] && (o = this.lookupMutator(e.definition[n])) && (t = !0, i[n] = {\n          mutator: o,\n          params: e.definition[n + \"Params\"] || {}\n        });\n      }), t && (e.modules.mutate = i);\n    }\n    lookupMutator(e) {\n      var t = !1;\n      switch (typeof e) {\n        case \"string\":\n          Ee.mutators[e] ? t = Ee.mutators[e] : console.warn(\"Mutator Error - No such mutator found, ignoring: \", e);\n          break;\n        case \"function\":\n          t = e;\n      }\n      return t;\n    }\n    transformRow(e, t, i) {\n      var s,\n        o = \"mutator\" + (t.charAt(0).toUpperCase() + t.slice(1));\n      return this.enabled && this.table.columnManager.traverse(n => {\n        var r, a, l;\n        n.modules.mutate && (r = n.modules.mutate[o] || n.modules.mutate.mutator || !1) && (s = n.getFieldValue(void 0 !== i ? i : e), (\"data\" == t && !i || void 0 !== s) && (l = n.getComponent(), a = \"function\" == typeof r.params ? r.params(s, e, t, l) : r.params, n.setFieldValue(e, r.mutator(s, e, t, a, l))));\n      }), e;\n    }\n    transformCell(e, t) {\n      if (e.column.modules.mutate) {\n        var i = e.column.modules.mutate.mutatorEdit || e.column.modules.mutate.mutator || !1,\n          s = {};\n        if (i) return s = Object.assign(s, e.row.getData()), e.column.setFieldValue(s, t), i.mutator(t, s, \"edit\", i.params, e.getComponent());\n      }\n      return t;\n    }\n    mutateLink(e) {\n      var t = e.column.definition.mutateLink;\n      t && (Array.isArray(t) || (t = [t]), t.forEach(t => {\n        var i = e.row.getCell(t);\n        i && i.setValue(i.getValue(), !0, !0);\n      }));\n    }\n    enable() {\n      this.enabled = !0;\n    }\n    disable() {\n      this.enabled = !1;\n    }\n  }\n  Ee.moduleName = \"mutator\", Ee.mutators = {};\n  var ye = {\n    rows: function (e, t, i, s, o) {\n      var n = document.createElement(\"span\"),\n        r = document.createElement(\"span\"),\n        a = document.createElement(\"span\"),\n        l = document.createElement(\"span\"),\n        h = document.createElement(\"span\"),\n        d = document.createElement(\"span\");\n      return this.table.modules.localize.langBind(\"pagination|counter|showing\", e => {\n        r.innerHTML = e;\n      }), this.table.modules.localize.langBind(\"pagination|counter|of\", e => {\n        l.innerHTML = e;\n      }), this.table.modules.localize.langBind(\"pagination|counter|rows\", e => {\n        d.innerHTML = e;\n      }), s ? (a.innerHTML = \" \" + t + \"-\" + Math.min(t + e - 1, s) + \" \", h.innerHTML = \" \" + s + \" \", n.appendChild(r), n.appendChild(a), n.appendChild(l), n.appendChild(h), n.appendChild(d)) : (a.innerHTML = \" 0 \", n.appendChild(r), n.appendChild(a), n.appendChild(d)), n;\n    },\n    pages: function (e, t, i, s, o) {\n      var n = document.createElement(\"span\"),\n        r = document.createElement(\"span\"),\n        a = document.createElement(\"span\"),\n        l = document.createElement(\"span\"),\n        h = document.createElement(\"span\"),\n        d = document.createElement(\"span\");\n      return this.table.modules.localize.langBind(\"pagination|counter|showing\", e => {\n        r.innerHTML = e;\n      }), a.innerHTML = \" \" + i + \" \", this.table.modules.localize.langBind(\"pagination|counter|of\", e => {\n        l.innerHTML = e;\n      }), h.innerHTML = \" \" + o + \" \", this.table.modules.localize.langBind(\"pagination|counter|pages\", e => {\n        d.innerHTML = e;\n      }), n.appendChild(r), n.appendChild(a), n.appendChild(l), n.appendChild(h), n.appendChild(d), n;\n    }\n  };\n  class Re extends k {\n    constructor(e) {\n      super(e), this.mode = \"local\", this.progressiveLoad = !1, this.element = null, this.pageCounterElement = null, this.pageCounter = null, this.size = 0, this.page = 1, this.count = 5, this.max = 1, this.remoteRowCountEstimate = null, this.initialLoad = !0, this.dataChanging = !1, this.pageSizes = [], this.registerTableOption(\"pagination\", !1), this.registerTableOption(\"paginationMode\", \"local\"), this.registerTableOption(\"paginationSize\", !1), this.registerTableOption(\"paginationInitialPage\", 1), this.registerTableOption(\"paginationCounter\", !1), this.registerTableOption(\"paginationCounterElement\", !1), this.registerTableOption(\"paginationButtonCount\", 5), this.registerTableOption(\"paginationSizeSelector\", !1), this.registerTableOption(\"paginationElement\", !1), this.registerTableOption(\"paginationAddRow\", \"page\"), this.registerTableOption(\"progressiveLoad\", !1), this.registerTableOption(\"progressiveLoadDelay\", 0), this.registerTableOption(\"progressiveLoadScrollMargin\", 0), this.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this)), this.registerTableFunction(\"setPage\", this.setPage.bind(this)), this.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this)), this.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this)), this.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this)), this.registerTableFunction(\"previousPage\", this.previousPage.bind(this)), this.registerTableFunction(\"nextPage\", this.nextPage.bind(this)), this.registerTableFunction(\"getPage\", this.getPage.bind(this)), this.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this)), this.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n    }\n    initialize() {\n      this.table.options.pagination ? (this.subscribe(\"row-deleted\", this.rowsUpdated.bind(this)), this.subscribe(\"row-added\", this.rowsUpdated.bind(this)), this.subscribe(\"data-processed\", this.initialLoadComplete.bind(this)), this.subscribe(\"table-built\", this.calculatePageSizes.bind(this)), this.subscribe(\"footer-redraw\", this.footerRedraw.bind(this)), \"page\" == this.table.options.paginationAddRow && this.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this)), \"remote\" === this.table.options.paginationMode && (this.subscribe(\"data-params\", this.remotePageParams.bind(this)), this.subscribe(\"data-loaded\", this._parseRemoteData.bind(this))), this.table.options.progressiveLoad && console.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\"), this.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40), this.registerDisplayHandler(this.getRows.bind(this), 50), this.createElements(), this.initializePageCounter(), this.initializePaginator()) : this.table.options.progressiveLoad && (this.subscribe(\"data-params\", this.remotePageParams.bind(this)), this.subscribe(\"data-loaded\", this._parseRemoteData.bind(this)), this.subscribe(\"table-built\", this.calculatePageSizes.bind(this)), this.subscribe(\"data-processed\", this.initialLoadComplete.bind(this)), this.initializeProgressive(this.table.options.progressiveLoad), \"scroll\" === this.table.options.progressiveLoad && this.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this)));\n    }\n    rowAddingPosition(e, t) {\n      var i,\n        s = this.table.rowManager,\n        o = s.getDisplayRows();\n      return t ? o.length ? i = o[0] : s.activeRows.length && (i = s.activeRows[s.activeRows.length - 1], t = !1) : o.length && (i = o[o.length - 1], t = !(o.length < this.size)), {\n        index: i,\n        top: t\n      };\n    }\n    calculatePageSizes() {\n      var e, t;\n      this.table.options.paginationSize ? this.size = this.table.options.paginationSize : ((e = document.createElement(\"div\")).classList.add(\"tabulator-row\"), e.style.visibility = \"hidden\", (t = document.createElement(\"div\")).classList.add(\"tabulator-cell\"), t.innerHTML = \"Page Row Test\", e.appendChild(t), this.table.rowManager.getTableElement().appendChild(e), this.size = Math.floor(this.table.rowManager.getElement().clientHeight / e.offsetHeight), this.table.rowManager.getTableElement().removeChild(e)), this.dispatchExternal(\"pageSizeChanged\", this.size), this.generatePageSizeSelectList();\n    }\n    initialLoadComplete() {\n      this.initialLoad = !1;\n    }\n    remotePageParams(e, t, i, s) {\n      return this.initialLoad || (this.progressiveLoad && !i || !this.progressiveLoad && !this.dataChanging) && this.reset(!0), s.page = this.page, this.size && (s.size = this.size), s;\n    }\n    userSetPageToRow(e) {\n      return this.table.options.pagination && (e = this.rowManager.findRow(e)) ? this.setPageToRow(e) : Promise.reject();\n    }\n    userSetPageSize(e) {\n      return !!this.table.options.pagination && (this.setPageSize(e), this.setPage(1));\n    }\n    scrollVertical(e, t) {\n      var i;\n      t || this.table.dataLoader.loading || (i = this.table.rowManager.getElement()).scrollHeight - i.clientHeight - e < (this.table.options.progressiveLoadScrollMargin || 2 * i.clientHeight) && this.nextPage().catch(() => {});\n    }\n    restOnRenderBefore(e, t) {\n      return t || \"local\" === this.mode && this.reset(), e;\n    }\n    rowsUpdated() {\n      this.refreshData(!0, \"all\");\n    }\n    createElements() {\n      var e;\n      this.element = document.createElement(\"span\"), this.element.classList.add(\"tabulator-paginator\"), this.pagesElement = document.createElement(\"span\"), this.pagesElement.classList.add(\"tabulator-pages\"), (e = document.createElement(\"button\")).classList.add(\"tabulator-page\"), e.setAttribute(\"type\", \"button\"), e.setAttribute(\"role\", \"button\"), e.setAttribute(\"aria-label\", \"\"), e.setAttribute(\"title\", \"\"), this.firstBut = e.cloneNode(!0), this.firstBut.setAttribute(\"data-page\", \"first\"), this.prevBut = e.cloneNode(!0), this.prevBut.setAttribute(\"data-page\", \"prev\"), this.nextBut = e.cloneNode(!0), this.nextBut.setAttribute(\"data-page\", \"next\"), this.lastBut = e.cloneNode(!0), this.lastBut.setAttribute(\"data-page\", \"last\"), this.table.options.paginationSizeSelector && (this.pageSizeSelect = document.createElement(\"select\"), this.pageSizeSelect.classList.add(\"tabulator-page-size\"));\n    }\n    generatePageSizeSelectList() {\n      var e = [];\n      if (this.pageSizeSelect) {\n        if (Array.isArray(this.table.options.paginationSizeSelector)) e = this.table.options.paginationSizeSelector, this.pageSizes = e, -1 == this.pageSizes.indexOf(this.size) && e.unshift(this.size);else if (-1 == this.pageSizes.indexOf(this.size)) {\n          e = [];\n          for (let t = 1; t < 5; t++) e.push(this.size * t);\n          this.pageSizes = e;\n        } else e = this.pageSizes;\n        for (; this.pageSizeSelect.firstChild;) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n        e.forEach(e => {\n          var t = document.createElement(\"option\");\n          t.value = e, !0 === e ? this.langBind(\"pagination|all\", function (e) {\n            t.innerHTML = e;\n          }) : t.innerHTML = e, this.pageSizeSelect.appendChild(t);\n        }), this.pageSizeSelect.value = this.size;\n      }\n    }\n    initializePageCounter() {\n      var e = this.table.options.paginationCounter,\n        t = null;\n      e && ((t = \"function\" == typeof e ? e : Re.pageCounters[e]) ? (this.pageCounter = t, this.pageCounterElement = document.createElement(\"span\"), this.pageCounterElement.classList.add(\"tabulator-page-counter\")) : console.warn(\"Pagination Error - No such page counter found: \", e));\n    }\n    initializePaginator(e) {\n      var t, i;\n      e || (this.langBind(\"pagination|first\", e => {\n        this.firstBut.innerHTML = e;\n      }), this.langBind(\"pagination|first_title\", e => {\n        this.firstBut.setAttribute(\"aria-label\", e), this.firstBut.setAttribute(\"title\", e);\n      }), this.langBind(\"pagination|prev\", e => {\n        this.prevBut.innerHTML = e;\n      }), this.langBind(\"pagination|prev_title\", e => {\n        this.prevBut.setAttribute(\"aria-label\", e), this.prevBut.setAttribute(\"title\", e);\n      }), this.langBind(\"pagination|next\", e => {\n        this.nextBut.innerHTML = e;\n      }), this.langBind(\"pagination|next_title\", e => {\n        this.nextBut.setAttribute(\"aria-label\", e), this.nextBut.setAttribute(\"title\", e);\n      }), this.langBind(\"pagination|last\", e => {\n        this.lastBut.innerHTML = e;\n      }), this.langBind(\"pagination|last_title\", e => {\n        this.lastBut.setAttribute(\"aria-label\", e), this.lastBut.setAttribute(\"title\", e);\n      }), this.firstBut.addEventListener(\"click\", () => {\n        this.setPage(1);\n      }), this.prevBut.addEventListener(\"click\", () => {\n        this.previousPage();\n      }), this.nextBut.addEventListener(\"click\", () => {\n        this.nextPage();\n      }), this.lastBut.addEventListener(\"click\", () => {\n        this.setPage(this.max);\n      }), this.table.options.paginationElement && (this.element = this.table.options.paginationElement), this.pageSizeSelect && (t = document.createElement(\"label\"), this.langBind(\"pagination|page_size\", e => {\n        this.pageSizeSelect.setAttribute(\"aria-label\", e), this.pageSizeSelect.setAttribute(\"title\", e), t.innerHTML = e;\n      }), this.element.appendChild(t), this.element.appendChild(this.pageSizeSelect), this.pageSizeSelect.addEventListener(\"change\", e => {\n        this.setPageSize(\"true\" == this.pageSizeSelect.value || this.pageSizeSelect.value), this.setPage(1);\n      })), this.element.appendChild(this.firstBut), this.element.appendChild(this.prevBut), this.element.appendChild(this.pagesElement), this.element.appendChild(this.nextBut), this.element.appendChild(this.lastBut), this.table.options.paginationElement || (this.table.options.paginationCounter && (this.table.options.paginationCounterElement ? this.table.options.paginationCounterElement instanceof HTMLElement ? this.table.options.paginationCounterElement.appendChild(this.pageCounterElement) : \"string\" == typeof this.table.options.paginationCounterElement && ((i = document.querySelector(this.table.options.paginationCounterElement)) ? i.appendChild(this.pageCounterElement) : console.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement)) : this.footerAppend(this.pageCounterElement)), this.footerAppend(this.element)), this.page = this.table.options.paginationInitialPage, this.count = this.table.options.paginationButtonCount), this.mode = this.table.options.paginationMode;\n    }\n    initializeProgressive(e) {\n      this.initializePaginator(!0), this.mode = \"progressive_\" + e, this.progressiveLoad = !0;\n    }\n    trackChanges() {\n      this.dispatch(\"page-changed\");\n    }\n    setMaxRows(e) {\n      this.max = e ? !0 === this.size ? 1 : Math.ceil(e / this.size) : 1, this.page > this.max && (this.page = this.max);\n    }\n    reset(e) {\n      this.initialLoad || (\"local\" == this.mode || e) && (this.page = 1, this.trackChanges());\n    }\n    setMaxPage(e) {\n      e = parseInt(e), this.max = e || 1, this.page > this.max && (this.page = this.max, this.trigger());\n    }\n    setPage(e) {\n      switch (e) {\n        case \"first\":\n          return this.setPage(1);\n        case \"prev\":\n          return this.previousPage();\n        case \"next\":\n          return this.nextPage();\n        case \"last\":\n          return this.setPage(this.max);\n      }\n      return (e = parseInt(e)) > 0 && e <= this.max || \"local\" !== this.mode ? (this.page = e, this.trackChanges(), this.trigger()) : (console.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", e), Promise.reject());\n    }\n    setPageToRow(e) {\n      var t = this.displayRows(-1).indexOf(e);\n      if (t > -1) {\n        var i = !0 === this.size ? 1 : Math.ceil((t + 1) / this.size);\n        return this.setPage(i);\n      }\n      return console.warn(\"Pagination Error - Requested row is not visible\"), Promise.reject();\n    }\n    setPageSize(e) {\n      !0 !== e && (e = parseInt(e)), e > 0 && (this.size = e, this.dispatchExternal(\"pageSizeChanged\", e)), this.pageSizeSelect && this.generatePageSizeSelectList(), this.trackChanges();\n    }\n    _setPageCounter(e, t, i) {\n      var s;\n      if (this.pageCounter) switch (\"remote\" === this.mode && (t = this.size, i = (this.page - 1) * this.size + 1, e = this.remoteRowCountEstimate), typeof (s = this.pageCounter.call(this, t, i, this.page, e, this.max))) {\n        case \"object\":\n          if (s instanceof Node) {\n            for (; this.pageCounterElement.firstChild;) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n            this.pageCounterElement.appendChild(s);\n          } else this.pageCounterElement.innerHTML = \"\", null != s && console.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", s);\n          break;\n        case \"undefined\":\n          this.pageCounterElement.innerHTML = \"\";\n          break;\n        default:\n          this.pageCounterElement.innerHTML = s;\n      }\n    }\n    _setPageButtons() {\n      let e = Math.floor((this.count - 1) / 2),\n        t = Math.ceil((this.count - 1) / 2),\n        i = this.max - this.page + e + 1 < this.count ? this.max - this.count + 1 : Math.max(this.page - e, 1),\n        s = this.page <= t ? Math.min(this.count, this.max) : Math.min(this.page + t, this.max);\n      for (; this.pagesElement.firstChild;) this.pagesElement.removeChild(this.pagesElement.firstChild);\n      1 == this.page ? (this.firstBut.disabled = !0, this.prevBut.disabled = !0) : (this.firstBut.disabled = !1, this.prevBut.disabled = !1), this.page == this.max ? (this.lastBut.disabled = !0, this.nextBut.disabled = !0) : (this.lastBut.disabled = !1, this.nextBut.disabled = !1);\n      for (let e = i; e <= s; e++) e > 0 && e <= this.max && this.pagesElement.appendChild(this._generatePageButton(e));\n      this.footerRedraw();\n    }\n    _generatePageButton(e) {\n      var t = document.createElement(\"button\");\n      return t.classList.add(\"tabulator-page\"), e == this.page && t.classList.add(\"active\"), t.setAttribute(\"type\", \"button\"), t.setAttribute(\"role\", \"button\"), this.langBind(\"pagination|page_title\", i => {\n        t.setAttribute(\"aria-label\", i + \" \" + e), t.setAttribute(\"title\", i + \" \" + e);\n      }), t.setAttribute(\"data-page\", e), t.textContent = e, t.addEventListener(\"click\", t => {\n        this.setPage(e);\n      }), t;\n    }\n    previousPage() {\n      return this.page > 1 ? (this.page--, this.trackChanges(), this.trigger()) : (console.warn(\"Pagination Error - Previous page would be less than page 1:\", 0), Promise.reject());\n    }\n    nextPage() {\n      return this.page < this.max ? (this.page++, this.trackChanges(), this.trigger()) : (this.progressiveLoad || console.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1), Promise.reject());\n    }\n    getPage() {\n      return this.page;\n    }\n    getPageMax() {\n      return this.max;\n    }\n    getPageSize(e) {\n      return this.size;\n    }\n    getMode() {\n      return this.mode;\n    }\n    getRows(e) {\n      var t,\n        i,\n        s,\n        o,\n        n = 0,\n        r = e.filter(e => \"row\" === e.type);\n      if (\"local\" == this.mode) {\n        t = [], this.setMaxRows(e.length), !0 === this.size ? (i = 0, s = e.length) : s = (i = this.size * (this.page - 1)) + parseInt(this.size), this._setPageButtons();\n        for (let r = i; r < s; r++) {\n          let i = e[r];\n          i && (t.push(i), \"row\" === i.type && (o || (o = i), n++));\n        }\n        return this._setPageCounter(r.length, n, o ? r.indexOf(o) + 1 : 0), t;\n      }\n      return this._setPageButtons(), this._setPageCounter(r.length), e.slice(0);\n    }\n    trigger() {\n      var e;\n      switch (this.mode) {\n        case \"local\":\n          return e = this.table.rowManager.scrollLeft, this.refreshData(), this.table.rowManager.scrollHorizontal(e), this.dispatchExternal(\"pageLoaded\", this.getPage()), Promise.resolve();\n        case \"remote\":\n          return this.dataChanging = !0, this.reloadData(null).finally(() => {\n            this.dataChanging = !1;\n          });\n        case \"progressive_load\":\n        case \"progressive_scroll\":\n          return this.reloadData(null, !0);\n        default:\n          return console.warn(\"Pagination Error - no such pagination mode:\", this.mode), Promise.reject();\n      }\n    }\n    _parseRemoteData(e) {\n      var t;\n      if (void 0 === e.last_page && console.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\"), e.data) {\n        if (this.max = parseInt(e.last_page) || 1, this.remoteRowCountEstimate = void 0 !== e.last_row ? e.last_row : e.last_page * this.size - (this.page == e.last_page ? this.size - e.data.length : 0), this.progressiveLoad) {\n          switch (this.mode) {\n            case \"progressive_load\":\n              1 == this.page ? this.table.rowManager.setData(e.data, !1, 1 == this.page) : this.table.rowManager.addRows(e.data), this.page < this.max && setTimeout(() => {\n                this.nextPage();\n              }, this.table.options.progressiveLoadDelay);\n              break;\n            case \"progressive_scroll\":\n              e = 1 === this.page ? e.data : this.table.rowManager.getData().concat(e.data), this.table.rowManager.setData(e, 1 !== this.page, 1 == this.page), t = this.table.options.progressiveLoadScrollMargin || 2 * this.table.rowManager.element.clientHeight, this.table.rowManager.element.scrollHeight <= this.table.rowManager.element.clientHeight + t && this.page < this.max && setTimeout(() => {\n                this.nextPage();\n              });\n          }\n          return !1;\n        }\n        this.dispatchExternal(\"pageLoaded\", this.getPage());\n      } else console.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n      return e.data;\n    }\n    footerRedraw() {\n      var e = this.table.footerManager.containerElement;\n      Math.ceil(e.clientWidth) - e.scrollWidth < 0 ? this.pagesElement.style.display = \"none\" : (this.pagesElement.style.display = \"\", Math.ceil(e.clientWidth) - e.scrollWidth < 0 && (this.pagesElement.style.display = \"none\"));\n    }\n  }\n  Re.moduleName = \"page\", Re.pageCounters = ye;\n  var xe = {\n      local: function (e, t) {\n        var i = localStorage.getItem(e + \"-\" + t);\n        return !!i && JSON.parse(i);\n      },\n      cookie: function (e, t) {\n        var i,\n          s,\n          o = document.cookie,\n          n = e + \"-\" + t,\n          r = o.indexOf(n + \"=\");\n        return r > -1 && ((i = (o = o.slice(r)).indexOf(\";\")) > -1 && (o = o.slice(0, i)), s = o.replace(n + \"=\", \"\")), !!s && JSON.parse(s);\n      }\n    },\n    Te = {\n      local: function (e, t, i) {\n        localStorage.setItem(e + \"-\" + t, JSON.stringify(i));\n      },\n      cookie: function (e, t, i) {\n        var s = new Date();\n        s.setDate(s.getDate() + 1e4), document.cookie = e + \"-\" + t + \"=\" + JSON.stringify(i) + \"; expires=\" + s.toUTCString();\n      }\n    };\n  class ke extends k {\n    constructor(e) {\n      super(e), this.mode = \"\", this.id = \"\", this.defWatcherBlock = !1, this.config = {}, this.readFunc = !1, this.writeFunc = !1, this.registerTableOption(\"persistence\", !1), this.registerTableOption(\"persistenceID\", \"\"), this.registerTableOption(\"persistenceMode\", !0), this.registerTableOption(\"persistenceReaderFunc\", !1), this.registerTableOption(\"persistenceWriterFunc\", !1);\n    }\n    localStorageTest() {\n      var e = \"_tabulator_test\";\n      try {\n        return window.localStorage.setItem(e, e), window.localStorage.removeItem(e), !0;\n      } catch (e) {\n        return !1;\n      }\n    }\n    initialize() {\n      if (this.table.options.persistence) {\n        var e,\n          t = this.table.options.persistenceMode,\n          i = this.table.options.persistenceID;\n        this.mode = !0 !== t ? t : this.localStorageTest() ? \"local\" : \"cookie\", this.table.options.persistenceReaderFunc ? \"function\" == typeof this.table.options.persistenceReaderFunc ? this.readFunc = this.table.options.persistenceReaderFunc : ke.readers[this.table.options.persistenceReaderFunc] ? this.readFunc = ke.readers[this.table.options.persistenceReaderFunc] : console.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc) : ke.readers[this.mode] ? this.readFunc = ke.readers[this.mode] : console.warn(\"Persistence Read Error - invalid reader set\", this.mode), this.table.options.persistenceWriterFunc ? \"function\" == typeof this.table.options.persistenceWriterFunc ? this.writeFunc = this.table.options.persistenceWriterFunc : ke.writers[this.table.options.persistenceWriterFunc] ? this.writeFunc = ke.writers[this.table.options.persistenceWriterFunc] : console.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc) : ke.writers[this.mode] ? this.writeFunc = ke.writers[this.mode] : console.warn(\"Persistence Write Error - invalid writer set\", this.mode), this.id = \"tabulator-\" + (i || this.table.element.getAttribute(\"id\") || \"\"), this.config = {\n          sort: !0 === this.table.options.persistence || this.table.options.persistence.sort,\n          filter: !0 === this.table.options.persistence || this.table.options.persistence.filter,\n          headerFilter: !0 === this.table.options.persistence || this.table.options.persistence.headerFilter,\n          group: !0 === this.table.options.persistence || this.table.options.persistence.group,\n          page: !0 === this.table.options.persistence || this.table.options.persistence.page,\n          columns: !0 === this.table.options.persistence ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns\n        }, this.config.page && (e = this.retrieveData(\"page\")) && (void 0 === e.paginationSize || !0 !== this.config.page && !this.config.page.size || (this.table.options.paginationSize = e.paginationSize), void 0 === e.paginationInitialPage || !0 !== this.config.page && !this.config.page.page || (this.table.options.paginationInitialPage = e.paginationInitialPage)), this.config.group && (e = this.retrieveData(\"group\")) && (void 0 === e.groupBy || !0 !== this.config.group && !this.config.group.groupBy || (this.table.options.groupBy = e.groupBy), void 0 === e.groupStartOpen || !0 !== this.config.group && !this.config.group.groupStartOpen || (this.table.options.groupStartOpen = e.groupStartOpen), void 0 === e.groupHeader || !0 !== this.config.group && !this.config.group.groupHeader || (this.table.options.groupHeader = e.groupHeader)), this.config.columns && (this.table.options.columns = this.load(\"columns\", this.table.options.columns), this.subscribe(\"column-init\", this.initializeColumn.bind(this)), this.subscribe(\"column-show\", this.save.bind(this, \"columns\")), this.subscribe(\"column-hide\", this.save.bind(this, \"columns\")), this.subscribe(\"column-moved\", this.save.bind(this, \"columns\"))), this.subscribe(\"table-built\", this.tableBuilt.bind(this), 0), this.subscribe(\"table-redraw\", this.tableRedraw.bind(this)), this.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\")), this.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\")), this.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\")), this.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\")), this.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\")), this.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\")), this.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\")), this.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n      }\n      this.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this)), this.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n    }\n    eventSave(e) {\n      this.config[e] && this.save(e);\n    }\n    tableBuilt() {\n      var e, t, i;\n      this.config.sort && !1 == !(e = this.load(\"sort\")) && (this.table.options.initialSort = e), this.config.filter && !1 == !(t = this.load(\"filter\")) && (this.table.options.initialFilter = t), this.config.headerFilter && !1 == !(i = this.load(\"headerFilter\")) && (this.table.options.initialHeaderFilter = i);\n    }\n    tableRedraw(e) {\n      e && this.config.columns && this.save(\"columns\");\n    }\n    getColumnLayout() {\n      return this.parseColumns(this.table.columnManager.getColumns());\n    }\n    setColumnLayout(e) {\n      return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, e)), !0;\n    }\n    initializeColumn(e) {\n      var t;\n      this.config.columns && (this.defWatcherBlock = !0, t = e.getDefinition(), (!0 === this.config.columns ? Object.keys(t) : this.config.columns).forEach(e => {\n        var i = Object.getOwnPropertyDescriptor(t, e),\n          s = t[e];\n        i && Object.defineProperty(t, e, {\n          set: e => {\n            s = e, this.defWatcherBlock || this.save(\"columns\"), i.set && i.set(e);\n          },\n          get: () => (i.get && i.get(), s)\n        });\n      }), this.defWatcherBlock = !1);\n    }\n    load(e, t) {\n      var i = this.retrieveData(e);\n      return t && (i = i ? this.mergeDefinition(t, i) : t), i;\n    }\n    retrieveData(e) {\n      return !!this.readFunc && this.readFunc(this.id, e);\n    }\n    mergeDefinition(e, t) {\n      var i = [];\n      return (t = t || []).forEach((t, s) => {\n        var o,\n          n = this._findColumn(e, t);\n        n && (!0 === this.config.columns || null == this.config.columns ? (o = Object.keys(n)).push(\"width\") : o = this.config.columns, o.forEach(e => {\n          \"columns\" !== e && void 0 !== t[e] && (n[e] = t[e]);\n        }), n.columns && (n.columns = this.mergeDefinition(n.columns, t.columns)), i.push(n));\n      }), e.forEach((e, s) => {\n        this._findColumn(t, e) || (i.length > s ? i.splice(s, 0, e) : i.push(e));\n      }), i;\n    }\n    _findColumn(e, t) {\n      var i = t.columns ? \"group\" : t.field ? \"field\" : \"object\";\n      return e.find(function (e) {\n        switch (i) {\n          case \"group\":\n            return e.title === t.title && e.columns.length === t.columns.length;\n          case \"field\":\n            return e.field === t.field;\n          case \"object\":\n            return e === t;\n        }\n      });\n    }\n    save(e) {\n      var t = {};\n      switch (e) {\n        case \"columns\":\n          t = this.parseColumns(this.table.columnManager.getColumns());\n          break;\n        case \"filter\":\n          t = this.table.modules.filter.getFilters();\n          break;\n        case \"headerFilter\":\n          t = this.table.modules.filter.getHeaderFilters();\n          break;\n        case \"sort\":\n          t = this.validateSorters(this.table.modules.sort.getSort());\n          break;\n        case \"group\":\n          t = this.getGroupConfig();\n          break;\n        case \"page\":\n          t = this.getPageConfig();\n      }\n      this.writeFunc && this.writeFunc(this.id, e, t);\n    }\n    validateSorters(e) {\n      return e.forEach(function (e) {\n        e.column = e.field, delete e.field;\n      }), e;\n    }\n    getGroupConfig() {\n      var e = {};\n      return this.config.group && ((!0 === this.config.group || this.config.group.groupBy) && (e.groupBy = this.table.options.groupBy), (!0 === this.config.group || this.config.group.groupStartOpen) && (e.groupStartOpen = this.table.options.groupStartOpen), (!0 === this.config.group || this.config.group.groupHeader) && (e.groupHeader = this.table.options.groupHeader)), e;\n    }\n    getPageConfig() {\n      var e = {};\n      return this.config.page && ((!0 === this.config.page || this.config.page.size) && (e.paginationSize = this.table.modules.page.getPageSize()), (!0 === this.config.page || this.config.page.page) && (e.paginationInitialPage = this.table.modules.page.getPage())), e;\n    }\n    parseColumns(e) {\n      var t = [],\n        i = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n      return e.forEach(e => {\n        var s,\n          o = {},\n          n = e.getDefinition();\n        e.isGroup ? (o.title = n.title, o.columns = this.parseColumns(e.getColumns())) : (o.field = e.getField(), !0 === this.config.columns || null == this.config.columns ? ((s = Object.keys(n)).push(\"width\"), s.push(\"visible\")) : s = this.config.columns, s.forEach(t => {\n          switch (t) {\n            case \"width\":\n              o.width = e.getWidth();\n              break;\n            case \"visible\":\n              o.visible = e.visible;\n              break;\n            default:\n              \"function\" != typeof n[t] && -1 === i.indexOf(t) && (o[t] = n[t]);\n          }\n        })), t.push(o);\n      }), t;\n    }\n  }\n  ke.moduleName = \"persistence\", ke.moduleInitOrder = -10, ke.readers = xe, ke.writers = Te;\n  class Me extends k {\n    constructor(e) {\n      super(e), this.columnSubscribers = {}, this.registerTableOption(\"rowContextPopup\", !1), this.registerTableOption(\"rowClickPopup\", !1), this.registerTableOption(\"rowDblClickPopup\", !1), this.registerTableOption(\"groupContextPopup\", !1), this.registerTableOption(\"groupClickPopup\", !1), this.registerTableOption(\"groupDblClickPopup\", !1), this.registerColumnOption(\"headerContextPopup\"), this.registerColumnOption(\"headerClickPopup\"), this.registerColumnOption(\"headerDblClickPopup\"), this.registerColumnOption(\"headerPopup\"), this.registerColumnOption(\"headerPopupIcon\"), this.registerColumnOption(\"contextPopup\"), this.registerColumnOption(\"clickPopup\"), this.registerColumnOption(\"dblClickPopup\"), this.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this)), this.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this)), this.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this)), this.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n    }\n    initialize() {\n      this.initializeRowWatchers(), this.initializeGroupWatchers(), this.subscribe(\"column-init\", this.initializeColumn.bind(this));\n    }\n    _componentPopupCall(e, t, i) {\n      this.loadPopupEvent(t, null, e, i);\n    }\n    initializeRowWatchers() {\n      this.table.options.rowContextPopup && (this.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup)), this.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup))), this.table.options.rowClickPopup && this.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup)), this.table.options.rowDblClickPopup && this.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n    }\n    initializeGroupWatchers() {\n      this.table.options.groupContextPopup && (this.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup)), this.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup))), this.table.options.groupClickPopup && this.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup)), this.table.options.groupDblClickPopup && this.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n    }\n    initializeColumn(e) {\n      var t = e.definition;\n      t.headerContextPopup && !this.columnSubscribers.headerContextPopup && (this.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"), this.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup), this.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"))), t.headerClickPopup && !this.columnSubscribers.headerClickPopup && (this.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\"), this.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup)), t.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup && (this.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\"), this.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup)), t.headerPopup && this.initializeColumnHeaderPopup(e), t.contextPopup && !this.columnSubscribers.contextPopup && (this.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\"), this.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup), this.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"))), t.clickPopup && !this.columnSubscribers.clickPopup && (this.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\"), this.subscribe(\"cell-click\", this.columnSubscribers.clickPopup)), t.dblClickPopup && !this.columnSubscribers.dblClickPopup && (this.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\"), this.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup));\n    }\n    initializeColumnHeaderPopup(e) {\n      var t,\n        i = e.definition.headerPopupIcon;\n      (t = document.createElement(\"span\")).classList.add(\"tabulator-header-popup-button\"), i ? (\"function\" == typeof i && (i = i(e.getComponent())), i instanceof HTMLElement ? t.appendChild(i) : t.innerHTML = i) : t.innerHTML = \"&vellip;\", t.addEventListener(\"click\", t => {\n        t.stopPropagation(), t.preventDefault(), this.loadPopupEvent(e.definition.headerPopup, t, e);\n      }), e.titleElement.insertBefore(t, e.titleElement.firstChild);\n    }\n    loadPopupTableCellEvent(e, t, i) {\n      i._cell && (i = i._cell), i.column.definition[e] && this.loadPopupEvent(i.column.definition[e], t, i);\n    }\n    loadPopupTableColumnEvent(e, t, i) {\n      i._column && (i = i._column), i.definition[e] && this.loadPopupEvent(i.definition[e], t, i);\n    }\n    loadPopupEvent(e, t, i, s) {\n      var o;\n      i._group ? i = i._group : i._row && (i = i._row), e = \"function\" == typeof e ? e.call(this.table, t, i.getComponent(), function (e) {\n        o = e;\n      }) : e, this.loadPopup(t, i, e, o, s);\n    }\n    loadPopup(e, t, i, s, o) {\n      var n,\n        r,\n        a = !(e instanceof MouseEvent);\n      i instanceof HTMLElement ? n = i : (n = document.createElement(\"div\")).innerHTML = i, n.classList.add(\"tabulator-popup\"), n.addEventListener(\"click\", e => {\n        e.stopPropagation();\n      }), a || e.preventDefault(), r = this.popup(n), \"function\" == typeof s && r.renderCallback(s), e ? r.show(e) : r.show(t.getElement(), o || \"center\"), r.hideOnBlur(() => {\n        this.dispatchExternal(\"popupClosed\", t.getComponent());\n      }), this.dispatchExternal(\"popupOpened\", t.getComponent());\n    }\n  }\n  Me.moduleName = \"popup\";\n  class Le extends k {\n    constructor(e) {\n      super(e), this.element = !1, this.manualBlock = !1, this.beforeprintEventHandler = null, this.afterprintEventHandler = null, this.registerTableOption(\"printAsHtml\", !1), this.registerTableOption(\"printFormatter\", !1), this.registerTableOption(\"printHeader\", !1), this.registerTableOption(\"printFooter\", !1), this.registerTableOption(\"printStyled\", !0), this.registerTableOption(\"printRowRange\", \"visible\"), this.registerTableOption(\"printConfig\", {}), this.registerColumnOption(\"print\"), this.registerColumnOption(\"titlePrint\");\n    }\n    initialize() {\n      this.table.options.printAsHtml && (this.beforeprintEventHandler = this.replaceTable.bind(this), this.afterprintEventHandler = this.cleanup.bind(this), window.addEventListener(\"beforeprint\", this.beforeprintEventHandler), window.addEventListener(\"afterprint\", this.afterprintEventHandler), this.subscribe(\"table-destroy\", this.destroy.bind(this))), this.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n    }\n    destroy() {\n      this.table.options.printAsHtml && (window.removeEventListener(\"beforeprint\", this.beforeprintEventHandler), window.removeEventListener(\"afterprint\", this.afterprintEventHandler));\n    }\n    replaceTable() {\n      this.manualBlock || (this.element = document.createElement(\"div\"), this.element.classList.add(\"tabulator-print-table\"), this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\")), this.table.element.style.display = \"none\", this.table.element.parentNode.insertBefore(this.element, this.table.element));\n    }\n    cleanup() {\n      document.body.classList.remove(\"tabulator-print-fullscreen-hide\"), this.element && this.element.parentNode && (this.element.parentNode.removeChild(this.element), this.table.element.style.display = \"\");\n    }\n    printFullscreen(e, t, i) {\n      var s,\n        o,\n        n = window.scrollX,\n        r = window.scrollY,\n        a = document.createElement(\"div\"),\n        l = document.createElement(\"div\"),\n        h = this.table.modules.export.generateTable(void 0 !== i ? i : this.table.options.printConfig, void 0 !== t ? t : this.table.options.printStyled, e || this.table.options.printRowRange, \"print\");\n      this.manualBlock = !0, this.element = document.createElement(\"div\"), this.element.classList.add(\"tabulator-print-fullscreen\"), this.table.options.printHeader && (a.classList.add(\"tabulator-print-header\"), \"string\" == typeof (s = \"function\" == typeof this.table.options.printHeader ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader) ? a.innerHTML = s : a.appendChild(s), this.element.appendChild(a)), this.element.appendChild(h), this.table.options.printFooter && (l.classList.add(\"tabulator-print-footer\"), \"string\" == typeof (o = \"function\" == typeof this.table.options.printFooter ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter) ? l.innerHTML = o : l.appendChild(o), this.element.appendChild(l)), document.body.classList.add(\"tabulator-print-fullscreen-hide\"), document.body.appendChild(this.element), this.table.options.printFormatter && this.table.options.printFormatter(this.element, h), window.print(), this.cleanup(), window.scrollTo(n, r), this.manualBlock = !1;\n    }\n  }\n  Le.moduleName = \"print\";\n  class Se extends k {\n    constructor(e) {\n      super(e), this.data = !1, this.blocked = !1, this.origFuncs = {}, this.currentVersion = 0, this.registerTableOption(\"reactiveData\", !1);\n    }\n    initialize() {\n      this.table.options.reactiveData && (this.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\")), this.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\")), this.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\")), this.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\")), this.subscribe(\"row-data-init-after\", this.watchRow.bind(this)), this.subscribe(\"data-processing\", this.watchData.bind(this)), this.subscribe(\"table-destroy\", this.unwatchData.bind(this)));\n    }\n    watchData(e) {\n      var t,\n        i = this;\n      this.currentVersion++, t = this.currentVersion, this.unwatchData(), this.data = e, this.origFuncs.push = e.push, Object.defineProperty(this.data, \"push\", {\n        enumerable: !1,\n        configurable: !0,\n        value: function () {\n          var s,\n            o = Array.from(arguments);\n          return i.blocked || t !== i.currentVersion || (i.block(\"data-push\"), o.forEach(e => {\n            i.table.rowManager.addRowActual(e, !1);\n          }), s = i.origFuncs.push.apply(e, arguments), i.unblock(\"data-push\")), s;\n        }\n      }), this.origFuncs.unshift = e.unshift, Object.defineProperty(this.data, \"unshift\", {\n        enumerable: !1,\n        configurable: !0,\n        value: function () {\n          var s,\n            o = Array.from(arguments);\n          return i.blocked || t !== i.currentVersion || (i.block(\"data-unshift\"), o.forEach(e => {\n            i.table.rowManager.addRowActual(e, !0);\n          }), s = i.origFuncs.unshift.apply(e, arguments), i.unblock(\"data-unshift\")), s;\n        }\n      }), this.origFuncs.shift = e.shift, Object.defineProperty(this.data, \"shift\", {\n        enumerable: !1,\n        configurable: !0,\n        value: function () {\n          var s, o;\n          return i.blocked || t !== i.currentVersion || (i.block(\"data-shift\"), i.data.length && (s = i.table.rowManager.getRowFromDataObject(i.data[0])) && s.deleteActual(), o = i.origFuncs.shift.call(e), i.unblock(\"data-shift\")), o;\n        }\n      }), this.origFuncs.pop = e.pop, Object.defineProperty(this.data, \"pop\", {\n        enumerable: !1,\n        configurable: !0,\n        value: function () {\n          var s, o;\n          return i.blocked || t !== i.currentVersion || (i.block(\"data-pop\"), i.data.length && (s = i.table.rowManager.getRowFromDataObject(i.data[i.data.length - 1])) && s.deleteActual(), o = i.origFuncs.pop.call(e), i.unblock(\"data-pop\")), o;\n        }\n      }), this.origFuncs.splice = e.splice, Object.defineProperty(this.data, \"splice\", {\n        enumerable: !1,\n        configurable: !0,\n        value: function () {\n          var s,\n            o,\n            n = Array.from(arguments),\n            r = n[0] < 0 ? e.length + n[0] : n[0],\n            a = n[1],\n            l = !!n[2] && n.slice(2);\n          if (!i.blocked && t === i.currentVersion) {\n            if (i.block(\"data-splice\"), l && ((s = !!e[r] && i.table.rowManager.getRowFromDataObject(e[r])) ? l.forEach(e => {\n              i.table.rowManager.addRowActual(e, !0, s, !0);\n            }) : (l = l.slice().reverse()).forEach(e => {\n              i.table.rowManager.addRowActual(e, !0, !1, !0);\n            })), 0 !== a) {\n              var h = e.slice(r, void 0 === n[1] ? n[1] : r + a);\n              h.forEach((e, t) => {\n                var s = i.table.rowManager.getRowFromDataObject(e);\n                s && s.deleteActual(t !== h.length - 1);\n              });\n            }\n            (l || 0 !== a) && i.table.rowManager.reRenderInPosition(), o = i.origFuncs.splice.apply(e, arguments), i.unblock(\"data-splice\");\n          }\n          return o;\n        }\n      });\n    }\n    unwatchData() {\n      if (!1 !== this.data) for (var e in this.origFuncs) Object.defineProperty(this.data, e, {\n        enumerable: !0,\n        configurable: !0,\n        writable: !0,\n        value: this.origFuncs.key\n      });\n    }\n    watchRow(e) {\n      var t = e.getData();\n      for (var i in t) this.watchKey(e, t, i);\n      this.table.options.dataTree && this.watchTreeChildren(e);\n    }\n    watchTreeChildren(e) {\n      var t = this,\n        i = e.getData()[this.table.options.dataTreeChildField],\n        s = {};\n      i && (s.push = i.push, Object.defineProperty(i, \"push\", {\n        enumerable: !1,\n        configurable: !0,\n        value: () => {\n          if (!t.blocked) {\n            t.block(\"tree-push\");\n            var o = s.push.apply(i, arguments);\n            this.rebuildTree(e), t.unblock(\"tree-push\");\n          }\n          return o;\n        }\n      }), s.unshift = i.unshift, Object.defineProperty(i, \"unshift\", {\n        enumerable: !1,\n        configurable: !0,\n        value: () => {\n          if (!t.blocked) {\n            t.block(\"tree-unshift\");\n            var o = s.unshift.apply(i, arguments);\n            this.rebuildTree(e), t.unblock(\"tree-unshift\");\n          }\n          return o;\n        }\n      }), s.shift = i.shift, Object.defineProperty(i, \"shift\", {\n        enumerable: !1,\n        configurable: !0,\n        value: () => {\n          if (!t.blocked) {\n            t.block(\"tree-shift\");\n            var o = s.shift.call(i);\n            this.rebuildTree(e), t.unblock(\"tree-shift\");\n          }\n          return o;\n        }\n      }), s.pop = i.pop, Object.defineProperty(i, \"pop\", {\n        enumerable: !1,\n        configurable: !0,\n        value: () => {\n          if (!t.blocked) {\n            t.block(\"tree-pop\");\n            var o = s.pop.call(i);\n            this.rebuildTree(e), t.unblock(\"tree-pop\");\n          }\n          return o;\n        }\n      }), s.splice = i.splice, Object.defineProperty(i, \"splice\", {\n        enumerable: !1,\n        configurable: !0,\n        value: () => {\n          if (!t.blocked) {\n            t.block(\"tree-splice\");\n            var o = s.splice.apply(i, arguments);\n            this.rebuildTree(e), t.unblock(\"tree-splice\");\n          }\n          return o;\n        }\n      }));\n    }\n    rebuildTree(e) {\n      this.table.modules.dataTree.initializeRow(e), this.table.modules.dataTree.layoutRow(e), this.table.rowManager.refreshActiveData(\"tree\", !1, !0);\n    }\n    watchKey(e, t, i) {\n      var s = this,\n        o = Object.getOwnPropertyDescriptor(t, i),\n        n = t[i],\n        r = this.currentVersion;\n      Object.defineProperty(t, i, {\n        set: t => {\n          if (n = t, !s.blocked && r === s.currentVersion) {\n            s.block(\"key\");\n            var a = {};\n            a[i] = t, e.updateData(a), s.unblock(\"key\");\n          }\n          o.set && o.set(t);\n        },\n        get: () => (o.get && o.get(), n)\n      });\n    }\n    unwatchRow(e) {\n      var t = e.getData();\n      for (var i in t) Object.defineProperty(t, i, {\n        value: t[i]\n      });\n    }\n    block(e) {\n      this.blocked || (this.blocked = e);\n    }\n    unblock(e) {\n      this.blocked === e && (this.blocked = !1);\n    }\n  }\n  Se.moduleName = \"reactiveData\";\n  class De extends k {\n    constructor(e) {\n      super(e), this.startColumn = !1, this.startX = !1, this.startWidth = !1, this.latestX = !1, this.handle = null, this.initialNextColumn = null, this.nextColumn = null, this.initialized = !1, this.registerColumnOption(\"resizable\", !0), this.registerTableOption(\"resizableColumnFit\", !1);\n    }\n    initialize() {\n      this.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n    }\n    initializeEventWatchers() {\n      this.initialized || (this.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this)), this.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this)), this.subscribe(\"cell-height\", this.resizeHandle.bind(this)), this.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this)), this.subscribe(\"column-hide\", this.deInitializeColumn.bind(this)), this.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this)), this.subscribe(\"column-width\", this.columnWidthUpdated.bind(this)), this.subscribe(\"column-delete\", this.deInitializeComponent.bind(this)), this.subscribe(\"column-height\", this.resizeHandle.bind(this)), this.initialized = !0);\n    }\n    layoutCellHandles(e) {\n      \"row\" === e.row.type && (this.deInitializeComponent(e), this.initializeColumn(\"cell\", e, e.column, e.element));\n    }\n    layoutColumnHeader(e) {\n      e.definition.resizable && (this.initializeEventWatchers(), this.deInitializeComponent(e), this.initializeColumn(\"header\", e, e, e.element));\n    }\n    columnLayoutUpdated(e) {\n      var t = e.prevColumn();\n      this.reinitializeColumn(e), t && this.reinitializeColumn(t);\n    }\n    columnWidthUpdated(e) {\n      e.modules.frozen && (this.table.modules.frozenColumns.leftColumns.includes(e) ? this.table.modules.frozenColumns.leftColumns.forEach(e => {\n        this.reinitializeColumn(e);\n      }) : this.table.modules.frozenColumns.rightColumns.includes(e) && this.table.modules.frozenColumns.rightColumns.forEach(e => {\n        this.reinitializeColumn(e);\n      }));\n    }\n    frozenColumnOffset(e) {\n      var t = !1;\n      return e.modules.frozen && (t = e.modules.frozen.marginValue, \"left\" === e.modules.frozen.position ? t += e.getWidth() - 3 : t && (t -= 3)), !1 !== t && t + \"px\";\n    }\n    reinitializeColumn(e) {\n      var t = this.frozenColumnOffset(e);\n      e.cells.forEach(i => {\n        i.modules.resize && i.modules.resize.handleEl && (t && (i.modules.resize.handleEl.style[e.modules.frozen.position] = t, i.modules.resize.handleEl.style[\"z-index\"] = 11), i.element.after(i.modules.resize.handleEl));\n      }), e.modules.resize && e.modules.resize.handleEl && (t && (e.modules.resize.handleEl.style[e.modules.frozen.position] = t), e.element.after(e.modules.resize.handleEl));\n    }\n    initializeColumn(e, t, i, s) {\n      var o = this,\n        n = i.definition.resizable,\n        r = {},\n        a = i.getLastColumn();\n      if (\"header\" === e && (r = {\n        variableHeight: \"textarea\" == i.definition.formatter || i.definition.variableHeight\n      }), (!0 === n || n == e) && this._checkResizability(a)) {\n        var l = document.createElement(\"span\");\n        l.className = \"tabulator-col-resize-handle\", l.addEventListener(\"click\", function (e) {\n          e.stopPropagation();\n        });\n        var h = function (e) {\n          o.startColumn = i, o.initialNextColumn = o.nextColumn = a.nextColumn(), o._mouseDown(e, a, l);\n        };\n        l.addEventListener(\"mousedown\", h), l.addEventListener(\"touchstart\", h, {\n          passive: !0\n        }), l.addEventListener(\"dblclick\", e => {\n          var t = a.getWidth();\n          e.stopPropagation(), a.reinitializeWidth(!0), t !== a.getWidth() && (o.dispatch(\"column-resized\", a), o.table.externalEvents.dispatch(\"columnResized\", a.getComponent()));\n        }), i.modules.frozen && (l.style.position = \"sticky\", l.style[i.modules.frozen.position] = this.frozenColumnOffset(i)), r.handleEl = l, s.parentNode && i.visible && s.after(l);\n      }\n      t.modules.resize = r;\n    }\n    deInitializeColumn(e) {\n      this.deInitializeComponent(e), e.cells.forEach(e => {\n        this.deInitializeComponent(e);\n      });\n    }\n    deInitializeComponent(e) {\n      var t;\n      e.modules.resize && (t = e.modules.resize.handleEl) && t.parentElement && t.parentElement.removeChild(t);\n    }\n    resizeHandle(e, t) {\n      e.modules.resize && e.modules.resize.handleEl && (e.modules.resize.handleEl.style.height = t);\n    }\n    _checkResizability(e) {\n      return e.definition.resizable;\n    }\n    _mouseDown(e, t, i) {\n      var s = this;\n      function o(e) {\n        var i,\n          o,\n          n = void 0 === e.screenX ? e.touches[0].screenX : e.screenX,\n          r = n - s.startX,\n          a = n - s.latestX;\n        if (s.latestX = n, s.table.rtl && (r = -r, a = -a), i = t.width == t.minWidth || t.width == t.maxWidth, t.setWidth(s.startWidth + r), o = t.width == t.minWidth || t.width == t.maxWidth, a < 0 && (s.nextColumn = s.initialNextColumn), s.table.options.resizableColumnFit && s.nextColumn && (!i || !o)) {\n          let e = s.nextColumn.getWidth();\n          a > 0 && e <= s.nextColumn.minWidth && (s.nextColumn = s.nextColumn.nextColumn()), s.nextColumn && s.nextColumn.setWidth(s.nextColumn.getWidth() - a);\n        }\n        s.table.columnManager.rerenderColumns(!0), !s.table.browserSlow && t.modules.resize && t.modules.resize.variableHeight && t.checkCellHeights();\n      }\n      function n(e) {\n        s.startColumn.modules.edit && (s.startColumn.modules.edit.blocked = !1), s.table.browserSlow && t.modules.resize && t.modules.resize.variableHeight && t.checkCellHeights(), document.body.removeEventListener(\"mouseup\", n), document.body.removeEventListener(\"mousemove\", o), i.removeEventListener(\"touchmove\", o), i.removeEventListener(\"touchend\", n), s.table.element.classList.remove(\"tabulator-block-select\"), s.startWidth !== t.getWidth() && (s.table.columnManager.verticalAlignHeaders(), s.dispatch(\"column-resized\", t), s.table.externalEvents.dispatch(\"columnResized\", t.getComponent()));\n      }\n      s.table.element.classList.add(\"tabulator-block-select\"), e.stopPropagation(), s.startColumn.modules.edit && (s.startColumn.modules.edit.blocked = !0), s.startX = void 0 === e.screenX ? e.touches[0].screenX : e.screenX, s.latestX = s.startX, s.startWidth = t.getWidth(), document.body.addEventListener(\"mousemove\", o), document.body.addEventListener(\"mouseup\", n), i.addEventListener(\"touchmove\", o, {\n        passive: !0\n      }), i.addEventListener(\"touchend\", n);\n    }\n  }\n  De.moduleName = \"resizeColumns\";\n  class Pe extends k {\n    constructor(e) {\n      super(e), this.startColumn = !1, this.startY = !1, this.startHeight = !1, this.handle = null, this.prevHandle = null, this.registerTableOption(\"resizableRows\", !1);\n    }\n    initialize() {\n      this.table.options.resizableRows && this.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n    }\n    initializeRow(e) {\n      var t = this,\n        i = e.getElement(),\n        s = document.createElement(\"div\");\n      s.className = \"tabulator-row-resize-handle\";\n      var o = document.createElement(\"div\");\n      o.className = \"tabulator-row-resize-handle prev\", s.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n      });\n      var n = function (i) {\n        t.startRow = e, t._mouseDown(i, e, s);\n      };\n      s.addEventListener(\"mousedown\", n), s.addEventListener(\"touchstart\", n, {\n        passive: !0\n      }), o.addEventListener(\"click\", function (e) {\n        e.stopPropagation();\n      });\n      var r = function (i) {\n        var s = t.table.rowManager.prevDisplayRow(e);\n        s && (t.startRow = s, t._mouseDown(i, s, o));\n      };\n      o.addEventListener(\"mousedown\", r), o.addEventListener(\"touchstart\", r, {\n        passive: !0\n      }), i.appendChild(s), i.appendChild(o);\n    }\n    _mouseDown(e, t, i) {\n      var s = this;\n      function o(e) {\n        t.setHeight(s.startHeight + ((void 0 === e.screenY ? e.touches[0].screenY : e.screenY) - s.startY));\n      }\n      function n(e) {\n        document.body.removeEventListener(\"mouseup\", o), document.body.removeEventListener(\"mousemove\", o), i.removeEventListener(\"touchmove\", o), i.removeEventListener(\"touchend\", n), s.table.element.classList.remove(\"tabulator-block-select\"), s.dispatchExternal(\"rowResized\", t.getComponent());\n      }\n      s.table.element.classList.add(\"tabulator-block-select\"), e.stopPropagation(), s.startY = void 0 === e.screenY ? e.touches[0].screenY : e.screenY, s.startHeight = t.getHeight(), document.body.addEventListener(\"mousemove\", o), document.body.addEventListener(\"mouseup\", n), i.addEventListener(\"touchmove\", o, {\n        passive: !0\n      }), i.addEventListener(\"touchend\", n);\n    }\n  }\n  Pe.moduleName = \"resizeRows\";\n  class ze extends k {\n    constructor(e) {\n      super(e), this.binding = !1, this.visibilityObserver = !1, this.resizeObserver = !1, this.containerObserver = !1, this.tableHeight = 0, this.tableWidth = 0, this.containerHeight = 0, this.containerWidth = 0, this.autoResize = !1, this.visible = !1, this.initialized = !1, this.initialRedraw = !1, this.registerTableOption(\"autoResize\", !0);\n    }\n    initialize() {\n      if (this.table.options.autoResize) {\n        var e,\n          t = this.table;\n        this.tableHeight = t.element.clientHeight, this.tableWidth = t.element.clientWidth, t.element.parentNode && (this.containerHeight = t.element.parentNode.clientHeight, this.containerWidth = t.element.parentNode.clientWidth), \"undefined\" != typeof IntersectionObserver && \"undefined\" != typeof ResizeObserver && \"virtual\" === t.rowManager.getRenderMode() ? (this.initializeVisibilityObserver(), this.autoResize = !0, this.resizeObserver = new ResizeObserver(e => {\n          if (!t.browserMobile || t.browserMobile && !t.modules.edit.currentCell) {\n            var i = Math.floor(e[0].contentRect.height),\n              s = Math.floor(e[0].contentRect.width);\n            this.tableHeight == i && this.tableWidth == s || (this.tableHeight = i, this.tableWidth = s, t.element.parentNode && (this.containerHeight = t.element.parentNode.clientHeight, this.containerWidth = t.element.parentNode.clientWidth), this.redrawTable());\n          }\n        }), this.resizeObserver.observe(t.element), e = window.getComputedStyle(t.element), this.table.element.parentNode && !this.table.rowManager.fixedHeight && (e.getPropertyValue(\"max-height\") || e.getPropertyValue(\"min-height\")) && (this.containerObserver = new ResizeObserver(e => {\n          if (!t.browserMobile || t.browserMobile && !t.modules.edit.currentCell) {\n            var i = Math.floor(e[0].contentRect.height),\n              s = Math.floor(e[0].contentRect.width);\n            this.containerHeight == i && this.containerWidth == s || (this.containerHeight = i, this.containerWidth = s, this.tableHeight = t.element.clientHeight, this.tableWidth = t.element.clientWidth), this.redrawTable();\n          }\n        }), this.containerObserver.observe(this.table.element.parentNode)), this.subscribe(\"table-resize\", this.tableResized.bind(this))) : (this.binding = function () {\n          (!t.browserMobile || t.browserMobile && !t.modules.edit.currentCell) && (t.columnManager.rerenderColumns(!0), t.redraw());\n        }, window.addEventListener(\"resize\", this.binding)), this.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n      }\n    }\n    initializeVisibilityObserver() {\n      this.visibilityObserver = new IntersectionObserver(e => {\n        this.visible = e[0].isIntersecting, this.initialized ? this.visible && (this.redrawTable(this.initialRedraw), this.initialRedraw = !1) : (this.initialized = !0, this.initialRedraw = !this.visible);\n      }), this.visibilityObserver.observe(this.table.element);\n    }\n    redrawTable(e) {\n      this.initialized && this.visible && (this.table.columnManager.rerenderColumns(!0), this.table.redraw(e));\n    }\n    tableResized() {\n      this.table.rowManager.redraw();\n    }\n    clearBindings() {\n      this.binding && window.removeEventListener(\"resize\", this.binding), this.resizeObserver && this.resizeObserver.unobserve(this.table.element), this.visibilityObserver && this.visibilityObserver.unobserve(this.table.element), this.containerObserver && this.containerObserver.unobserve(this.table.element.parentNode);\n    }\n  }\n  ze.moduleName = \"resizeTable\";\n  class Fe extends k {\n    constructor(e) {\n      super(e), this.columns = [], this.hiddenColumns = [], this.mode = \"\", this.index = 0, this.collapseFormatter = [], this.collapseStartOpen = !0, this.collapseHandleColumn = !1, this.registerTableOption(\"responsiveLayout\", !1), this.registerTableOption(\"responsiveLayoutCollapseStartOpen\", !0), this.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", !0), this.registerTableOption(\"responsiveLayoutCollapseFormatter\", !1), this.registerColumnOption(\"responsive\");\n    }\n    initialize() {\n      this.table.options.responsiveLayout && (this.subscribe(\"column-layout\", this.initializeColumn.bind(this)), this.subscribe(\"column-show\", this.updateColumnVisibility.bind(this)), this.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this)), this.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this)), this.subscribe(\"column-moved\", this.initializeResponsivity.bind(this)), this.subscribe(\"column-add\", this.initializeResponsivity.bind(this)), this.subscribe(\"column-delete\", this.initializeResponsivity.bind(this)), this.subscribe(\"table-redrawing\", this.tableRedraw.bind(this)), \"collapse\" === this.table.options.responsiveLayout && (this.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this)), this.subscribe(\"row-init\", this.initializeRow.bind(this)), this.subscribe(\"row-layout\", this.layoutRow.bind(this))));\n    }\n    tableRedraw(e) {\n      -1 === [\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) && (e || this.update());\n    }\n    initializeResponsivity() {\n      var e = [];\n      this.mode = this.table.options.responsiveLayout, this.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData, this.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen, this.hiddenColumns = [], this.table.columnManager.columnsByIndex.forEach((t, i) => {\n        t.modules.responsive && t.modules.responsive.order && t.modules.responsive.visible && (t.modules.responsive.index = i, e.push(t), t.visible || \"collapse\" !== this.mode || this.hiddenColumns.push(t));\n      }), e = (e = e.reverse()).sort((e, t) => t.modules.responsive.order - e.modules.responsive.order || t.modules.responsive.index - e.modules.responsive.index), this.columns = e, \"collapse\" === this.mode && this.generateCollapsedContent();\n      for (let e of this.table.columnManager.columnsByIndex) if (\"responsiveCollapse\" == e.definition.formatter) {\n        this.collapseHandleColumn = e;\n        break;\n      }\n      this.collapseHandleColumn && (this.hiddenColumns.length ? this.collapseHandleColumn.show() : this.collapseHandleColumn.hide());\n    }\n    initializeColumn(e) {\n      var t = e.getDefinition();\n      e.modules.responsive = {\n        order: void 0 === t.responsive ? 1 : t.responsive,\n        visible: !1 !== t.visible\n      };\n    }\n    initializeRow(e) {\n      var t;\n      \"calc\" !== e.type && ((t = document.createElement(\"div\")).classList.add(\"tabulator-responsive-collapse\"), e.modules.responsiveLayout = {\n        element: t,\n        open: this.collapseStartOpen\n      }, this.collapseStartOpen || (t.style.display = \"none\"));\n    }\n    layoutRow(e) {\n      var t = e.getElement();\n      e.modules.responsiveLayout && (t.appendChild(e.modules.responsiveLayout.element), this.generateCollapsedRowContent(e));\n    }\n    updateColumnVisibility(e, t) {\n      !t && e.modules.responsive && (e.modules.responsive.visible = e.visible, this.initializeResponsivity());\n    }\n    hideColumn(e) {\n      var t = this.hiddenColumns.length;\n      e.hide(!1, !0), \"collapse\" === this.mode && (this.hiddenColumns.unshift(e), this.generateCollapsedContent(), this.collapseHandleColumn && !t && this.collapseHandleColumn.show());\n    }\n    showColumn(e) {\n      var t;\n      e.show(!1, !0), e.setWidth(e.getWidth()), \"collapse\" === this.mode && ((t = this.hiddenColumns.indexOf(e)) > -1 && this.hiddenColumns.splice(t, 1), this.generateCollapsedContent(), this.collapseHandleColumn && !this.hiddenColumns.length && this.collapseHandleColumn.hide());\n    }\n    update() {\n      for (var e = !0; e;) {\n        let t = \"fitColumns\" == this.table.modules.layout.getMode() ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth(),\n          i = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - t;\n        if (i < 0) {\n          let t = this.columns[this.index];\n          t ? (this.hideColumn(t), this.index++) : e = !1;\n        } else {\n          let t = this.columns[this.index - 1];\n          t && i > 0 && i >= t.getWidth() ? (this.showColumn(t), this.index--) : e = !1;\n        }\n        this.table.rowManager.activeRowsCount || this.table.rowManager.renderEmptyScroll();\n      }\n    }\n    generateCollapsedContent() {\n      this.table.rowManager.getDisplayRows().forEach(e => {\n        this.generateCollapsedRowContent(e);\n      });\n    }\n    generateCollapsedRowContent(e) {\n      var t, i;\n      if (e.modules.responsiveLayout) {\n        for (t = e.modules.responsiveLayout.element; t.firstChild;) t.removeChild(t.firstChild);\n        (i = this.collapseFormatter(this.generateCollapsedRowData(e))) && t.appendChild(i);\n      }\n    }\n    generateCollapsedRowData(e) {\n      var t,\n        i = e.getData(),\n        s = [];\n      return this.hiddenColumns.forEach(o => {\n        var n = o.getFieldValue(i);\n        if (o.definition.title && o.field) if (o.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters) {\n          function r(e) {\n            e();\n          }\n          t = {\n            value: !1,\n            data: {},\n            getValue: function () {\n              return n;\n            },\n            getData: function () {\n              return i;\n            },\n            getType: function () {\n              return \"cell\";\n            },\n            getElement: function () {\n              return document.createElement(\"div\");\n            },\n            getRow: function () {\n              return e.getComponent();\n            },\n            getColumn: function () {\n              return o.getComponent();\n            },\n            getTable: () => this.table\n          }, s.push({\n            field: o.field,\n            title: o.definition.title,\n            value: o.modules.format.formatter.call(this.table.modules.format, t, o.modules.format.params, r)\n          });\n        } else s.push({\n          field: o.field,\n          title: o.definition.title,\n          value: n\n        });\n      }), s;\n    }\n    formatCollapsedData(e) {\n      var t = document.createElement(\"table\");\n      return e.forEach(function (e) {\n        var i,\n          s = document.createElement(\"tr\"),\n          o = document.createElement(\"td\"),\n          n = document.createElement(\"td\"),\n          r = document.createElement(\"strong\");\n        o.appendChild(r), this.langBind(\"columns|\" + e.field, function (t) {\n          r.innerHTML = t || e.title;\n        }), e.value instanceof Node ? ((i = document.createElement(\"div\")).appendChild(e.value), n.appendChild(i)) : n.innerHTML = e.value, s.appendChild(o), s.appendChild(n), t.appendChild(s);\n      }, this), Object.keys(e).length ? t : \"\";\n    }\n  }\n  Fe.moduleName = \"responsiveLayout\";\n  class He extends k {\n    constructor(e) {\n      super(e), this.selecting = !1, this.lastClickedRow = !1, this.selectPrev = [], this.selectedRows = [], this.headerCheckboxElement = null, this.registerTableOption(\"selectable\", \"highlight\"), this.registerTableOption(\"selectableRangeMode\", \"drag\"), this.registerTableOption(\"selectableRollingSelection\", !0), this.registerTableOption(\"selectablePersistence\", !0), this.registerTableOption(\"selectableCheck\", function (e, t) {\n        return !0;\n      }), this.registerTableFunction(\"selectRow\", this.selectRows.bind(this)), this.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this)), this.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this)), this.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this)), this.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this)), this.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this)), this.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this)), this.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this)), this.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n    }\n    initialize() {\n      !1 !== this.table.options.selectable && (this.subscribe(\"row-init\", this.initializeRow.bind(this)), this.subscribe(\"row-deleting\", this.rowDeleted.bind(this)), this.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this)), this.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this)), this.table.options.selectable && !this.table.options.selectablePersistence && this.subscribe(\"data-refreshing\", this.deselectRows.bind(this)));\n    }\n    rowRetrieve(e, t) {\n      return \"selected\" === e ? this.selectedRows : t;\n    }\n    rowDeleted(e) {\n      this._deselectRow(e, !0);\n    }\n    clearSelectionData(e) {\n      var t = this.selectedRows.length;\n      this.selecting = !1, this.lastClickedRow = !1, this.selectPrev = [], this.selectedRows = [], t && !0 !== e && this._rowSelectionChanged();\n    }\n    initializeRow(e) {\n      var t = this,\n        i = e.getElement(),\n        s = function () {\n          setTimeout(function () {\n            t.selecting = !1;\n          }, 50), document.body.removeEventListener(\"mouseup\", s);\n        };\n      e.modules.select = {\n        selected: !1\n      }, t.checkRowSelectability(e) ? (i.classList.add(\"tabulator-selectable\"), i.classList.remove(\"tabulator-unselectable\"), t.table.options.selectable && \"highlight\" != t.table.options.selectable && (\"click\" === t.table.options.selectableRangeMode ? i.addEventListener(\"click\", this.handleComplexRowClick.bind(this, e)) : (i.addEventListener(\"click\", function (i) {\n        t.table.modExists(\"edit\") && t.table.modules.edit.getCurrentCell() || t.table._clearSelection(), t.selecting || t.toggleRow(e);\n      }), i.addEventListener(\"mousedown\", function (i) {\n        if (i.shiftKey) return t.table._clearSelection(), t.selecting = !0, t.selectPrev = [], document.body.addEventListener(\"mouseup\", s), document.body.addEventListener(\"keyup\", s), t.toggleRow(e), !1;\n      }), i.addEventListener(\"mouseenter\", function (i) {\n        t.selecting && (t.table._clearSelection(), t.toggleRow(e), t.selectPrev[1] == e && t.toggleRow(t.selectPrev[0]));\n      }), i.addEventListener(\"mouseout\", function (i) {\n        t.selecting && (t.table._clearSelection(), t.selectPrev.unshift(e));\n      })))) : (i.classList.add(\"tabulator-unselectable\"), i.classList.remove(\"tabulator-selectable\"));\n    }\n    handleComplexRowClick(e, t) {\n      if (t.shiftKey) {\n        this.table._clearSelection(), this.lastClickedRow = this.lastClickedRow || e;\n        var i = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),\n          s = this.table.rowManager.getDisplayRowIndex(e),\n          o = i <= s ? i : s,\n          n = i >= s ? i : s,\n          r = this.table.rowManager.getDisplayRows().slice(0).splice(o, n - o + 1);\n        t.ctrlKey || t.metaKey ? (r.forEach(t => {\n          t !== this.lastClickedRow && (!0 === this.table.options.selectable || this.isRowSelected(e) || this.selectedRows.length < this.table.options.selectable) && this.toggleRow(t);\n        }), this.lastClickedRow = e) : (this.deselectRows(void 0, !0), !0 !== this.table.options.selectable && r.length > this.table.options.selectable && (r = r.slice(0, this.table.options.selectable)), this.selectRows(r)), this.table._clearSelection();\n      } else t.ctrlKey || t.metaKey ? (this.toggleRow(e), this.lastClickedRow = e) : (this.deselectRows(void 0, !0), this.selectRows(e), this.lastClickedRow = e);\n    }\n    checkRowSelectability(e) {\n      return !(!e || \"row\" !== e.type) && this.table.options.selectableCheck.call(this.table, e.getComponent());\n    }\n    toggleRow(e) {\n      this.checkRowSelectability(e) && (e.modules.select && e.modules.select.selected ? this._deselectRow(e) : this._selectRow(e));\n    }\n    selectRows(e) {\n      var t,\n        i,\n        s = [];\n      switch (typeof e) {\n        case \"undefined\":\n          t = this.table.rowManager.rows;\n          break;\n        case \"string\":\n          (t = this.table.rowManager.findRow(e)) || (t = this.table.rowManager.getRows(e));\n          break;\n        default:\n          t = e;\n      }\n      Array.isArray(t) ? t.length && (t.forEach(e => {\n        (i = this._selectRow(e, !0, !0)) && s.push(i);\n      }), this._rowSelectionChanged(!1, s)) : t && this._selectRow(t, !1, !0);\n    }\n    _selectRow(e, t, i) {\n      if (!isNaN(this.table.options.selectable) && !0 !== this.table.options.selectable && !i && this.selectedRows.length >= this.table.options.selectable) {\n        if (!this.table.options.selectableRollingSelection) return !1;\n        this._deselectRow(this.selectedRows[0]);\n      }\n      var s = this.table.rowManager.findRow(e);\n      if (s) {\n        if (-1 == this.selectedRows.indexOf(s)) return s.getElement().classList.add(\"tabulator-selected\"), s.modules.select || (s.modules.select = {}), s.modules.select.selected = !0, s.modules.select.checkboxEl && (s.modules.select.checkboxEl.checked = !0), this.selectedRows.push(s), this.table.options.dataTreeSelectPropagate && this.childRowSelection(s, !0), this.dispatchExternal(\"rowSelected\", s.getComponent()), this._rowSelectionChanged(t, s), s;\n      } else t || console.warn(\"Selection Error - No such row found, ignoring selection:\" + e);\n    }\n    isRowSelected(e) {\n      return -1 !== this.selectedRows.indexOf(e);\n    }\n    deselectRows(e, t) {\n      var i,\n        s,\n        o = [];\n      switch (typeof e) {\n        case \"undefined\":\n          i = Object.assign([], this.selectedRows);\n          break;\n        case \"string\":\n          (i = this.table.rowManager.findRow(e)) || (i = this.table.rowManager.getRows(e));\n          break;\n        default:\n          i = e;\n      }\n      Array.isArray(i) ? i.length && (i.forEach(e => {\n        (s = this._deselectRow(e, !0, !0)) && o.push(s);\n      }), this._rowSelectionChanged(t, [], o)) : i && this._deselectRow(i, t, !0);\n    }\n    _deselectRow(e, t) {\n      var i,\n        s,\n        o = this,\n        n = o.table.rowManager.findRow(e);\n      if (n) {\n        if ((i = o.selectedRows.findIndex(function (e) {\n          return e == n;\n        })) > -1) return (s = n.getElement()) && s.classList.remove(\"tabulator-selected\"), n.modules.select || (n.modules.select = {}), n.modules.select.selected = !1, n.modules.select.checkboxEl && (n.modules.select.checkboxEl.checked = !1), o.selectedRows.splice(i, 1), this.table.options.dataTreeSelectPropagate && this.childRowSelection(n, !1), this.dispatchExternal(\"rowDeselected\", n.getComponent()), o._rowSelectionChanged(t, void 0, n), n;\n      } else t || console.warn(\"Deselection Error - No such row found, ignoring selection:\" + e);\n    }\n    getSelectedData() {\n      var e = [];\n      return this.selectedRows.forEach(function (t) {\n        e.push(t.getData());\n      }), e;\n    }\n    getSelectedRows() {\n      var e = [];\n      return this.selectedRows.forEach(function (t) {\n        e.push(t.getComponent());\n      }), e;\n    }\n    _rowSelectionChanged(e, t = [], i = []) {\n      this.headerCheckboxElement && (0 === this.selectedRows.length ? (this.headerCheckboxElement.checked = !1, this.headerCheckboxElement.indeterminate = !1) : this.table.rowManager.rows.length === this.selectedRows.length ? (this.headerCheckboxElement.checked = !0, this.headerCheckboxElement.indeterminate = !1) : (this.headerCheckboxElement.indeterminate = !0, this.headerCheckboxElement.checked = !1)), e || (Array.isArray(t) || (t = [t]), t = t.map(e => e.getComponent()), Array.isArray(i) || (i = [i]), i = i.map(e => e.getComponent()), this.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), t, i));\n    }\n    registerRowSelectCheckbox(e, t) {\n      e._row.modules.select || (e._row.modules.select = {}), e._row.modules.select.checkboxEl = t;\n    }\n    registerHeaderSelectCheckbox(e) {\n      this.headerCheckboxElement = e;\n    }\n    childRowSelection(e, t) {\n      var i = this.table.modules.dataTree.getChildren(e, !0);\n      if (t) for (let e of i) this._selectRow(e, !0);else for (let e of i) this._deselectRow(e, !0);\n    }\n  }\n  function Oe(e, t, i, s, o, n, r) {\n    var a = window.DateTime || luxon.DateTime,\n      l = r.format || \"dd/MM/yyyy HH:mm:ss\",\n      h = r.alignEmptyValues,\n      d = 0;\n    if (void 0 !== a) {\n      if (a.isDateTime(e) || (e = \"iso\" === l ? a.fromISO(String(e)) : a.fromFormat(String(e), l)), a.isDateTime(t) || (t = \"iso\" === l ? a.fromISO(String(t)) : a.fromFormat(String(t), l)), e.isValid) {\n        if (t.isValid) return e - t;\n        d = 1;\n      } else d = t.isValid ? -1 : 0;\n      return (\"top\" === h && \"desc\" === n || \"bottom\" === h && \"asc\" === n) && (d *= -1), d;\n    }\n    console.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n  }\n  He.moduleName = \"selectRow\";\n  var Ae = {\n    number: function (e, t, i, s, o, n, r) {\n      var a = r.alignEmptyValues,\n        l = r.decimalSeparator,\n        h = r.thousandSeparator,\n        d = 0;\n      if (e = String(e), t = String(t), h && (e = e.split(h).join(\"\"), t = t.split(h).join(\"\")), l && (e = e.split(l).join(\".\"), t = t.split(l).join(\".\")), e = parseFloat(e), t = parseFloat(t), isNaN(e)) d = isNaN(t) ? 0 : -1;else {\n        if (!isNaN(t)) return e - t;\n        d = 1;\n      }\n      return (\"top\" === a && \"desc\" === n || \"bottom\" === a && \"asc\" === n) && (d *= -1), d;\n    },\n    string: function (e, t, i, s, o, n, r) {\n      var a,\n        l = r.alignEmptyValues,\n        h = 0;\n      if (e) {\n        if (t) {\n          switch (typeof r.locale) {\n            case \"boolean\":\n              r.locale && (a = this.langLocale());\n              break;\n            case \"string\":\n              a = r.locale;\n          }\n          return String(e).toLowerCase().localeCompare(String(t).toLowerCase(), a);\n        }\n        h = 1;\n      } else h = t ? -1 : 0;\n      return (\"top\" === l && \"desc\" === n || \"bottom\" === l && \"asc\" === n) && (h *= -1), h;\n    },\n    date: function (e, t, i, s, o, n, r) {\n      return r.format || (r.format = \"dd/MM/yyyy\"), Oe.call(this, e, t, i, s, o, n, r);\n    },\n    time: function (e, t, i, s, o, n, r) {\n      return r.format || (r.format = \"HH:mm\"), Oe.call(this, e, t, i, s, o, n, r);\n    },\n    datetime: Oe,\n    boolean: function (e, t, i, s, o, n, r) {\n      return (!0 === e || \"true\" === e || \"True\" === e || 1 === e ? 1 : 0) - (!0 === t || \"true\" === t || \"True\" === t || 1 === t ? 1 : 0);\n    },\n    array: function (e, t, i, s, o, n, r) {\n      var a = r.type || \"length\",\n        l = r.alignEmptyValues,\n        h = 0;\n      function d(e) {\n        var t;\n        switch (a) {\n          case \"length\":\n            t = e.length;\n            break;\n          case \"sum\":\n            t = e.reduce(function (e, t) {\n              return e + t;\n            });\n            break;\n          case \"max\":\n            t = Math.max.apply(null, e);\n            break;\n          case \"min\":\n            t = Math.min.apply(null, e);\n            break;\n          case \"avg\":\n            t = e.reduce(function (e, t) {\n              return e + t;\n            }) / e.length;\n        }\n        return t;\n      }\n      if (Array.isArray(e)) {\n        if (Array.isArray(t)) return d(t) - d(e);\n        h = 1;\n      } else h = Array.isArray(t) ? -1 : 0;\n      return (\"top\" === l && \"desc\" === n || \"bottom\" === l && \"asc\" === n) && (h *= -1), h;\n    },\n    exists: function (e, t, i, s, o, n, r) {\n      return (void 0 === e ? 0 : 1) - (void 0 === t ? 0 : 1);\n    },\n    alphanum: function (e, t, i, s, o, n, r) {\n      var a,\n        l,\n        h,\n        d,\n        c,\n        u = 0,\n        p = /(\\d+)|(\\D+)/g,\n        m = /\\d/,\n        g = r.alignEmptyValues,\n        b = 0;\n      if (e || 0 === e) {\n        if (t || 0 === t) {\n          if (isFinite(e) && isFinite(t)) return e - t;\n          if ((a = String(e).toLowerCase()) === (l = String(t).toLowerCase())) return 0;\n          if (!m.test(a) || !m.test(l)) return a > l ? 1 : -1;\n          for (a = a.match(p), l = l.match(p), c = a.length > l.length ? l.length : a.length; u < c;) if ((h = a[u]) !== (d = l[u++])) return isFinite(h) && isFinite(d) ? (\"0\" === h.charAt(0) && (h = \".\" + h), \"0\" === d.charAt(0) && (d = \".\" + d), h - d) : h > d ? 1 : -1;\n          return a.length > l.length;\n        }\n        b = 1;\n      } else b = t || 0 === t ? -1 : 0;\n      return (\"top\" === g && \"desc\" === n || \"bottom\" === g && \"asc\" === n) && (b *= -1), b;\n    }\n  };\n  class _e extends k {\n    constructor(e) {\n      super(e), this.sortList = [], this.changed = !1, this.registerTableOption(\"sortMode\", \"local\"), this.registerTableOption(\"initialSort\", !1), this.registerTableOption(\"columnHeaderSortMulti\", !0), this.registerTableOption(\"sortOrderReverse\", !1), this.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"), this.registerTableOption(\"headerSortClickElement\", \"header\"), this.registerColumnOption(\"sorter\"), this.registerColumnOption(\"sorterParams\"), this.registerColumnOption(\"headerSort\", !0), this.registerColumnOption(\"headerSortStartingDir\"), this.registerColumnOption(\"headerSortTristate\");\n    }\n    initialize() {\n      this.subscribe(\"column-layout\", this.initializeColumn.bind(this)), this.subscribe(\"table-built\", this.tableBuilt.bind(this)), this.registerDataHandler(this.sort.bind(this), 20), this.registerTableFunction(\"setSort\", this.userSetSort.bind(this)), this.registerTableFunction(\"getSorters\", this.getSort.bind(this)), this.registerTableFunction(\"clearSort\", this.clearSort.bind(this)), \"remote\" === this.table.options.sortMode && this.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n    }\n    tableBuilt() {\n      this.table.options.initialSort && this.setSort(this.table.options.initialSort);\n    }\n    remoteSortParams(e, t, i, s) {\n      var o = this.getSort();\n      return o.forEach(e => {\n        delete e.column;\n      }), s.sort = o, s;\n    }\n    userSetSort(e, t) {\n      this.setSort(e, t), this.refreshSort();\n    }\n    clearSort() {\n      this.clear(), this.refreshSort();\n    }\n    initializeColumn(e) {\n      var t,\n        i,\n        s = !1;\n      switch (typeof e.definition.sorter) {\n        case \"string\":\n          _e.sorters[e.definition.sorter] ? s = _e.sorters[e.definition.sorter] : console.warn(\"Sort Error - No such sorter found: \", e.definition.sorter);\n          break;\n        case \"function\":\n          s = e.definition.sorter;\n      }\n      if (e.modules.sort = {\n        sorter: s,\n        dir: \"none\",\n        params: e.definition.sorterParams || {},\n        startingDir: e.definition.headerSortStartingDir || \"asc\",\n        tristate: e.definition.headerSortTristate\n      }, !1 !== e.definition.headerSort) {\n        if ((t = e.getElement()).classList.add(\"tabulator-sortable\"), (i = document.createElement(\"div\")).classList.add(\"tabulator-col-sorter\"), \"icon\" === this.table.options.headerSortClickElement) i.classList.add(\"tabulator-col-sorter-element\");else t.classList.add(\"tabulator-col-sorter-element\");\n        switch (this.table.options.headerSortElement) {\n          case \"function\":\n            break;\n          case \"object\":\n            i.appendChild(this.table.options.headerSortElement);\n            break;\n          default:\n            i.innerHTML = this.table.options.headerSortElement;\n        }\n        e.titleHolderElement.appendChild(i), e.modules.sort.element = i, this.setColumnHeaderSortIcon(e, \"none\"), (\"icon\" === this.table.options.headerSortClickElement ? i : t).addEventListener(\"click\", t => {\n          var i = \"\",\n            s = [],\n            o = !1;\n          if (e.modules.sort) {\n            if (e.modules.sort.tristate) i = \"none\" == e.modules.sort.dir ? e.modules.sort.startingDir : e.modules.sort.dir == e.modules.sort.startingDir ? \"asc\" == e.modules.sort.dir ? \"desc\" : \"asc\" : \"none\";else switch (e.modules.sort.dir) {\n              case \"asc\":\n                i = \"desc\";\n                break;\n              case \"desc\":\n                i = \"asc\";\n                break;\n              default:\n                i = e.modules.sort.startingDir;\n            }\n            this.table.options.columnHeaderSortMulti && (t.shiftKey || t.ctrlKey) ? (o = (s = this.getSort()).findIndex(t => t.field === e.getField()), o > -1 ? (s[o].dir = i, o = s.splice(o, 1)[0], \"none\" != i && s.push(o)) : \"none\" != i && s.push({\n              column: e,\n              dir: i\n            }), this.setSort(s)) : \"none\" == i ? this.clear() : this.setSort(e, i), this.refreshSort();\n          }\n        });\n      }\n    }\n    refreshSort() {\n      \"remote\" === this.table.options.sortMode ? this.reloadData(null, !1, !1) : this.refreshData(!0);\n    }\n    hasChanged() {\n      var e = this.changed;\n      return this.changed = !1, e;\n    }\n    getSort() {\n      var e = [];\n      return this.sortList.forEach(function (t) {\n        t.column && e.push({\n          column: t.column.getComponent(),\n          field: t.column.getField(),\n          dir: t.dir\n        });\n      }), e;\n    }\n    setSort(e, t) {\n      var i = this,\n        s = [];\n      Array.isArray(e) || (e = [{\n        column: e,\n        dir: t\n      }]), e.forEach(function (e) {\n        var t;\n        (t = i.table.columnManager.findColumn(e.column)) ? (e.column = t, s.push(e), i.changed = !0) : console.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", e.column);\n      }), i.sortList = s, this.dispatch(\"sort-changed\");\n    }\n    clear() {\n      this.setSort([]);\n    }\n    findSorter(e) {\n      var t,\n        i = this.table.rowManager.activeRows[0],\n        s = \"string\";\n      if (i && (i = i.getData(), e.getField())) switch (typeof (t = e.getFieldValue(i))) {\n        case \"undefined\":\n          s = \"string\";\n          break;\n        case \"boolean\":\n          s = \"boolean\";\n          break;\n        default:\n          isNaN(t) || \"\" === t ? t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i) && (s = \"alphanum\") : s = \"number\";\n      }\n      return _e.sorters[s];\n    }\n    sort(e) {\n      var t = this,\n        i = this.table.options.sortOrderReverse ? t.sortList.slice().reverse() : t.sortList,\n        s = [],\n        o = [];\n      return this.subscribedExternal(\"dataSorting\") && this.dispatchExternal(\"dataSorting\", t.getSort()), t.clearColumnHeaders(), \"remote\" !== this.table.options.sortMode ? (i.forEach(function (e, i) {\n        var o;\n        e.column && ((o = e.column.modules.sort) && (o.sorter || (o.sorter = t.findSorter(e.column)), e.params = \"function\" == typeof o.params ? o.params(e.column.getComponent(), e.dir) : o.params, s.push(e)), t.setColumnHeader(e.column, e.dir));\n      }), s.length && t._sortItems(e, s)) : i.forEach(function (e, i) {\n        t.setColumnHeader(e.column, e.dir);\n      }), this.subscribedExternal(\"dataSorted\") && (e.forEach(e => {\n        o.push(e.getComponent());\n      }), this.dispatchExternal(\"dataSorted\", t.getSort(), o)), e;\n    }\n    clearColumnHeaders() {\n      this.table.columnManager.getRealColumns().forEach(e => {\n        e.modules.sort && (e.modules.sort.dir = \"none\", e.getElement().setAttribute(\"aria-sort\", \"none\"), this.setColumnHeaderSortIcon(e, \"none\"));\n      });\n    }\n    setColumnHeader(e, t) {\n      e.modules.sort.dir = t, e.getElement().setAttribute(\"aria-sort\", \"asc\" === t ? \"ascending\" : \"descending\"), this.setColumnHeaderSortIcon(e, t);\n    }\n    setColumnHeaderSortIcon(e, t) {\n      var i,\n        s = e.modules.sort.element;\n      if (e.definition.headerSort && \"function\" == typeof this.table.options.headerSortElement) {\n        for (; s.firstChild;) s.removeChild(s.firstChild);\n        \"object\" == typeof (i = this.table.options.headerSortElement.call(this.table, e.getComponent(), t)) ? s.appendChild(i) : s.innerHTML = i;\n      }\n    }\n    _sortItems(e, t) {\n      var i = t.length - 1;\n      e.sort((e, s) => {\n        for (var o, n = i; n >= 0; n--) {\n          let i = t[n];\n          if (0 !== (o = this._sortRow(e, s, i.column, i.dir, i.params))) break;\n        }\n        return o;\n      });\n    }\n    _sortRow(e, t, i, s, o) {\n      var n,\n        r,\n        a = \"asc\" == s ? e : t,\n        l = \"asc\" == s ? t : e;\n      return e = void 0 !== (e = i.getFieldValue(a.getData())) ? e : \"\", t = void 0 !== (t = i.getFieldValue(l.getData())) ? t : \"\", n = a.getComponent(), r = l.getComponent(), i.modules.sort.sorter.call(this, e, t, n, r, i.getComponent(), s, o);\n    }\n  }\n  _e.moduleName = \"sort\", _e.sorters = Ae;\n  class Be extends k {\n    constructor(e) {\n      super(e), this.tooltipSubscriber = null, this.headerSubscriber = null, this.timeout = null, this.popupInstance = null, this.registerTableOption(\"tooltipGenerationMode\", void 0), this.registerTableOption(\"tooltipDelay\", 300), this.registerColumnOption(\"tooltip\"), this.registerColumnOption(\"headerTooltip\");\n    }\n    initialize() {\n      this.deprecatedOptionsCheck(), this.subscribe(\"column-init\", this.initializeColumn.bind(this));\n    }\n    deprecatedOptionsCheck() {\n      this.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n    }\n    initializeColumn(e) {\n      e.definition.headerTooltip && !this.headerSubscriber && (this.headerSubscriber = !0, this.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\")), this.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"))), e.definition.tooltip && !this.tooltipSubscriber && (this.tooltipSubscriber = !0, this.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\")), this.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\")));\n    }\n    mousemoveCheck(e, t, i) {\n      var s = \"tooltip\" === e ? i.column.definition.tooltip : i.definition.headerTooltip;\n      s && (this.clearPopup(), this.timeout = setTimeout(this.loadTooltip.bind(this, t, i, s), this.table.options.tooltipDelay));\n    }\n    mouseoutCheck(e, t, i) {\n      this.popupInstance || this.clearPopup();\n    }\n    clearPopup(e, t, i) {\n      clearTimeout(this.timeout), this.timeout = null, this.popupInstance && this.popupInstance.hide();\n    }\n    loadTooltip(e, t, i) {\n      var s, n, r;\n      \"function\" == typeof i && (i = i(e, t.getComponent(), function (e) {\n        n = e;\n      })), i instanceof HTMLElement ? s = i : (s = document.createElement(\"div\"), !0 === i && (t instanceof o ? i = t.value : t.definition.field ? this.langBind(\"columns|\" + t.definition.field, e => {\n        s.innerHTML = i = e || t.definition.title;\n      }) : i = t.definition.title), s.innerHTML = i), (i || 0 === i || !1 === i) && (s.classList.add(\"tabulator-tooltip\"), s.addEventListener(\"mousemove\", e => e.preventDefault()), this.popupInstance = this.popup(s), \"function\" == typeof n && this.popupInstance.renderCallback(n), r = this.popupInstance.containerEventCoords(e), this.popupInstance.show(r.x + 15, r.y + 15).hideOnBlur(() => {\n        this.dispatchExternal(\"TooltipClosed\", t.getComponent()), this.popupInstance = null;\n      }), this.dispatchExternal(\"TooltipOpened\", t.getComponent()));\n    }\n  }\n  Be.moduleName = \"tooltip\";\n  var Ie = {\n    integer: function (e, t, i) {\n      return \"\" === t || null == t || (t = Number(t), !isNaN(t) && isFinite(t) && Math.floor(t) === t);\n    },\n    float: function (e, t, i) {\n      return \"\" === t || null == t || (t = Number(t), !isNaN(t) && isFinite(t) && t % 1 != 0);\n    },\n    numeric: function (e, t, i) {\n      return \"\" === t || null == t || !isNaN(t);\n    },\n    string: function (e, t, i) {\n      return \"\" === t || null == t || isNaN(t);\n    },\n    max: function (e, t, i) {\n      return \"\" === t || null == t || parseFloat(t) <= i;\n    },\n    min: function (e, t, i) {\n      return \"\" === t || null == t || parseFloat(t) >= i;\n    },\n    starts: function (e, t, i) {\n      return \"\" === t || null == t || String(t).toLowerCase().startsWith(String(i).toLowerCase());\n    },\n    ends: function (e, t, i) {\n      return \"\" === t || null == t || String(t).toLowerCase().endsWith(String(i).toLowerCase());\n    },\n    minLength: function (e, t, i) {\n      return \"\" === t || null == t || String(t).length >= i;\n    },\n    maxLength: function (e, t, i) {\n      return \"\" === t || null == t || String(t).length <= i;\n    },\n    in: function (e, t, i) {\n      return \"\" === t || null == t || (\"string\" == typeof i && (i = i.split(\"|\")), i.indexOf(t) > -1);\n    },\n    regex: function (e, t, i) {\n      return \"\" === t || null == t || new RegExp(i).test(t);\n    },\n    unique: function (e, t, i) {\n      if (\"\" === t || null == t) return !0;\n      var s = !0,\n        o = e.getData(),\n        n = e.getColumn()._getSelf();\n      return this.table.rowManager.rows.forEach(function (e) {\n        var i = e.getData();\n        i !== o && t == n.getFieldValue(i) && (s = !1);\n      }), s;\n    },\n    required: function (e, t, i) {\n      return \"\" !== t && null != t;\n    }\n  };\n  class Ve extends k {\n    constructor(e) {\n      super(e), this.invalidCells = [], this.registerTableOption(\"validationMode\", \"blocking\"), this.registerColumnOption(\"validator\"), this.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this)), this.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this)), this.registerTableFunction(\"validate\", this.userValidate.bind(this)), this.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this)), this.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this)), this.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this)), this.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this)), this.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n    }\n    initialize() {\n      this.subscribe(\"cell-delete\", this.clearValidation.bind(this)), this.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this)), this.subscribe(\"edit-success\", this.editValidate.bind(this)), this.subscribe(\"edit-editor-clear\", this.editorClear.bind(this)), this.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n    }\n    editValidate(e, t, i) {\n      var s = \"manual\" === this.table.options.validationMode || this.validate(e.column.modules.validate, e, t);\n      return !0 !== s && setTimeout(() => {\n        e.getElement().classList.add(\"tabulator-validation-fail\"), this.dispatchExternal(\"validationFailed\", e.getComponent(), t, s);\n      }), s;\n    }\n    editorClear(e, t) {\n      t && e.column.modules.validate && this.cellValidate(e), e.getElement().classList.remove(\"tabulator-validation-fail\");\n    }\n    editedClear(e) {\n      e.modules.validate && (e.modules.validate.invalid = !1);\n    }\n    cellIsValid(e) {\n      return e.modules.validate && e.modules.validate.invalid || !0;\n    }\n    cellValidate(e) {\n      return this.validate(e.column.modules.validate, e, e.getValue());\n    }\n    columnValidate(e) {\n      var t = [];\n      return e.cells.forEach(e => {\n        !0 !== this.cellValidate(e) && t.push(e.getComponent());\n      }), !t.length || t;\n    }\n    rowValidate(e) {\n      var t = [];\n      return e.cells.forEach(e => {\n        !0 !== this.cellValidate(e) && t.push(e.getComponent());\n      }), !t.length || t;\n    }\n    userClearCellValidation(e) {\n      e || (e = this.getInvalidCells()), Array.isArray(e) || (e = [e]), e.forEach(e => {\n        this.clearValidation(e._getSelf());\n      });\n    }\n    userValidate(e) {\n      var t = [];\n      return this.table.rowManager.rows.forEach(e => {\n        var i = (e = e.getComponent()).validate();\n        !0 !== i && (t = t.concat(i));\n      }), !t.length || t;\n    }\n    initializeColumnCheck(e) {\n      void 0 !== e.definition.validator && this.initializeColumn(e);\n    }\n    initializeColumn(e) {\n      var t,\n        i = this,\n        s = [];\n      e.definition.validator && (Array.isArray(e.definition.validator) ? e.definition.validator.forEach(e => {\n        (t = i._extractValidator(e)) && s.push(t);\n      }) : (t = this._extractValidator(e.definition.validator)) && s.push(t), e.modules.validate = !!s.length && s);\n    }\n    _extractValidator(e) {\n      var t, i, s;\n      switch (typeof e) {\n        case \"string\":\n          return (s = e.indexOf(\":\")) > -1 ? (t = e.substring(0, s), i = e.substring(s + 1)) : t = e, this._buildValidator(t, i);\n        case \"function\":\n          return this._buildValidator(e);\n        case \"object\":\n          return this._buildValidator(e.type, e.parameters);\n      }\n    }\n    _buildValidator(e, t) {\n      var i = \"function\" == typeof e ? e : Ve.validators[e];\n      return i ? {\n        type: \"function\" == typeof e ? \"function\" : e,\n        func: i,\n        params: t\n      } : (console.warn(\"Validator Setup Error - No matching validator found:\", e), !1);\n    }\n    validate(e, t, i) {\n      var s = this,\n        o = [],\n        n = this.invalidCells.indexOf(t);\n      return e && e.forEach(e => {\n        e.func.call(s, t.getComponent(), i, e.params) || o.push({\n          type: e.type,\n          parameters: e.params\n        });\n      }), t.modules.validate || (t.modules.validate = {}), o.length ? (t.modules.validate.invalid = o, \"manual\" !== this.table.options.validationMode && t.getElement().classList.add(\"tabulator-validation-fail\"), -1 == n && this.invalidCells.push(t)) : (t.modules.validate.invalid = !1, t.getElement().classList.remove(\"tabulator-validation-fail\"), n > -1 && this.invalidCells.splice(n, 1)), !o.length || o;\n    }\n    getInvalidCells() {\n      var e = [];\n      return this.invalidCells.forEach(t => {\n        e.push(t.getComponent());\n      }), e;\n    }\n    clearValidation(e) {\n      var t;\n      e.modules.validate && e.modules.validate.invalid && (e.getElement().classList.remove(\"tabulator-validation-fail\"), e.modules.validate.invalid = !1, (t = this.invalidCells.indexOf(e)) > -1 && this.invalidCells.splice(t, 1));\n    }\n  }\n  Ve.moduleName = \"validate\", Ve.validators = Ie;\n  var Ne = Object.freeze({\n    __proto__: null,\n    AccessorModule: A,\n    AjaxModule: W,\n    ClipboardModule: j,\n    ColumnCalcsModule: X,\n    DataTreeModule: q,\n    DownloadModule: J,\n    EditModule: Q,\n    ExportModule: ie,\n    FilterModule: oe,\n    FormatModule: re,\n    FrozenColumnsModule: ae,\n    FrozenRowsModule: le,\n    GroupRowsModule: ce,\n    HistoryModule: ue,\n    HtmlTableImportModule: pe,\n    ImportModule: ge,\n    InteractionModule: be,\n    KeybindingsModule: fe,\n    MenuModule: ve,\n    MoveColumnsModule: we,\n    MoveRowsModule: Ce,\n    MutatorModule: Ee,\n    PageModule: Re,\n    PersistenceModule: ke,\n    PopupModule: Me,\n    PrintModule: Le,\n    ReactiveDataModule: Se,\n    ResizeColumnsModule: De,\n    ResizeRowsModule: Pe,\n    ResizeTableModule: ze,\n    ResponsiveLayoutModule: Fe,\n    SelectRowModule: He,\n    SortModule: _e,\n    TooltipModule: Be,\n    ValidateModule: Ve\n  });\n  class We extends O {}\n  return new F(We, Ne), We;\n});","map":{"version":3,"names":["e","constructor","table","reloadData","t","i","dataLoader","load","langText","modules","localize","getText","arguments","langBind","bind","langLocale","getLocale","commsConnections","comms","getConnections","commsSend","send","layoutMode","layout","getMode","layoutRefresh","subscribe","eventBus","unsubscribe","subscribed","subscriptionChange","dispatch","chain","confirm","dispatchExternal","externalEvents","subscribedExternal","subscriptionChangeExternal","options","setOption","deprecationCheck","deprecationAdvisor","check","deprecationCheckMsg","checkMsg","deprecationMsg","msg","module","_column","type","Proxy","get","componentFunctionBinder","handle","getElement","getDefinition","getField","getTitleDownload","getCells","cells","forEach","push","getComponent","isVisible","visible","show","isGroup","columns","hide","toggle","delete","getSubColumns","length","getParentColumn","parent","n","_getSelf","scrollTo","columnManager","scrollToColumn","getTable","move","findColumn","moveColumn","console","warn","getNextColumn","nextColumn","getPrevColumn","prevColumn","updateDefinition","getWidth","setWidth","reinitializeWidth","rerenderColumns","title","field","hozAlign","vertAlign","width","minWidth","maxWidth","maxInitialWidth","cssClass","variableHeight","headerVertical","headerHozAlign","headerWordWrap","editableTitle","s","_cell","getValue","getOldValue","getInitialValue","initialValue","getRow","row","getData","getType","column","getColumn","setValue","restoreOldValue","setValueActual","restoreInitialValue","checkHeight","o","element","value","oldValue","height","component","loaded","build","generateElement","_configureCell","getFieldValue","data","document","createElement","className","setAttribute","style","textAlign","display","alignItems","top","bottom","middle","justifyContent","left","right","center","definition","split","classList","add","_generateContents","innerHTML","Node","firstChild","removeChild","appendChild","cellRendered","layoutElement","setValueProcessData","cellEdited","call","rowManager","setFieldValue","widthStyled","clearWidth","offsetWidth","setMinWidth","minWidthStyled","setMaxWidth","maxWidthStyled","reinitializeHeight","clearHeight","setHeight","heightStyled","getHeight","offsetHeight","redrawBlock","parentNode","deleteCell","calcs","getIndex","getCellIndex","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","fieldStructure","titleDownload","titleFormatterRendered","mapDefinitions","setField","widthFixed","attachColumn","checkColumnVisibility","registerColumnField","_initialize","columnHeaderVertAlign","columnDefaults","optionsList","generate","defaultOptionList","checkDefinition","Object","keys","indexOf","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","registerColumnPosition","reRegisterPosition","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","parseInt","_buildColumnHeaderTitle","addEventListener","stopPropagation","focus","_formatColumnHeaderTitle","columnRendered","verticalAlign","getGroupElement","clientHeight","getHeadersElement","minHeight","clearVerticalAlign","paddingTop","getFirstColumn","getLastColumn","getColumns","concat","getTopColumn","verticalAlignHeaders","matchChildWidths","silent","splice","setWidthActual","isNaN","Math","floor","clientWidth","max","min","checkCellHeights","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","getLeftOffset","offsetLeft","ceil","getBoundingClientRect","Promise","deregisterColumn","generateCell","findColumnIndex","_nextVisibleColumn","getColumnByIndex","_prevVisibleColumn","fitToData","error","reject","assign","addColumn","then","r","elVisible","elOffset","window","pageYOffset","documentElement","clientTop","pageXOffset","clientLeft","deepClone","__proto__","Array","isArray","a","l","findIndex","subject","copy","unshift","msgType","registeredDefaults","register","debugInvalidOptions","hasOwnProperty","key","elementVertical","elementHorizontal","tableElement","verticalFillMode","initialize","clearRows","clearColumns","reinitializeColumnWidths","renderRows","renderColumns","rerenderRows","renderRowCells","rerenderRowCells","scrollColumns","scrollRows","resize","scrollToRow","scrollToRowNearestTop","visibleRows","rows","getDisplayRows","styleRow","remove","clear","render","rerender","scrollToRowPosition","scrollToRowIfVisible","scrollHeight","scrollTop","offsetTop","h","createDocumentFragment","d","leftCol","rightCol","scrollLeft","vDomScrollPosLeft","vDomScrollPosRight","vDomPadLeft","vDomPadRight","fitDataColAvg","windowBuffer","initialized","isFitData","compatibilityCheck","layoutCheck","vertScrollListen","startsWith","clearVisRowCache","dataChange","scroll","calcWindowBuffer","columnsByIndex","cols","frozen","leftPos","rightPos","fitDataCheck","vdomHoz","paddingLeft","paddingRight","reinitChanged","reinitializeRows","initializeRow","reinitializeRow","deinitialize","generateCells","getVisibleRows","getRows","filter","includes","abs","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","getCell","insertBefore","nextSibling","fitDataColActualWidthCheck","message","frozenColumns","leftColumns","appendCell","rightColumns","c","blockHozScrollEvent","headersElement","contentsElement","columnsByField","redrawBlockUpdate","renderer","initializeRenderer","createHeadersElement","createHeaderContentsElement","createHeaderElement","initializeScrollWheelWatcher","scrollHorizontal","padVerticalScrollbar","rtl","marginLeft","marginRight","virtual","basic","renderHorizontal","headerVisible","getContentsElement","deltaX","generateColumnsFromRowData","autoColumnsDefinitions","match","sorter","find","setColumns","_addColumn","_reIndexColumns","redraw","adjustTableSize","HTMLElement","getColumnByField","getColumnsByFieldRoot","getFirstVisibleColumn","getRealColumns","traverse","getDefinitions","getDefinitionTree","getComponents","moveColumnActual","reinitialize","_moveColumnInArray","scrollToColumnPosition","scrollToColumnIfVisible","scrollWidth","getFlexBaseWidth","blockRedraw","restoreRedraw","resetScroll","footerManager","u","_row","index","getPosition","watchPosition","moveToRow","update","updateData","normalizeHeight","reformat","getNextRow","nextRow","getPrevRow","prevRow","p","manualHeight","outerHeight","position","positionWatchers","created","setData","create","detachElement","deleteCells","rowFormatter","rendered","deinitializeHeight","rowHeight","resizableRows","JSON","parse","findCell","nextDisplayRow","prevDisplayRow","findRow","moveRowActual","refreshActiveData","deleteActual","resolve","detachModules","deleteRow","wipe","isDisplayed","setPosition","getGroup","group","m","visibility","g","vDomRowHeight","vDomTop","vDomBottom","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","paddingBottom","_virtualRenderFill","tableEmpty","_addTopRow","vDomScrollHeight","_removeBottomRow","_addBottomRow","_removeTopRow","renderVerticalBuffer","slice","b","f","v","w","C","fixedHeight","E","y","R","maxHeight","_quickNormalizeRowHeight","createHolderElement","createTableElement","heightFixer","placeholder","placeholderContents","firstRender","renderMode","activeRowsPipeline","activeRows","activeRowsCount","displayRows","displayRowsCount","redrawBlockRestoreConfig","redrawBlockRenderInPosition","dataPipeline","displayPipeline","scrollbarWidth","initializePlaceholder","el","getTableElement","_positionPlaceholder","getRowFromDataObject","getRowFromPosition","pagination","_setDataActual","reRenderInPosition","autoColumns","_wipeElements","destroy","setActiveRows","displayRowIterator","regenerateRowPositions","addRow","addRowActual","addRows","findAddRowPos","reverse","_clearPlaceholder","addRowPos","moveRow","moveRowInArray","clearData","getRowIndex","findRowIndex","getDisplayRowIndex","getDataCount","registerDataPipelineHandler","handler","priority","sort","registerDisplayPipelineHandler","destroyed","stage","skipStage","renderInPosition","refreshPipelines","renderTable","layoutColumnsOnNewData","resetDisplayRows","setDisplayRows","scrollBarCheck","renderVertical","getRenderMode","_clearTable","renderEmptyScroll","_showPlaceholder","active","external","tableWidth","browser","createEvent","initEvent","dispatchEvent","Event","containerElement","createContainerElement","initializeElement","footerElement","querySelector","append","activate","prepend","deactivate","abortClasses","previousTargets","listeners","componentMap","pseudoTrackers","subscriber","target","cell","pseudoTracking","buildListenerMap","bindSubscriptionWatchers","components","bindPseudoEvents","pseudoMouseEnter","pseudoMouseLeave","values","subscriptionChanged","clearWatchers","updateEventListeners","track","removeEventListener","composedPath","path","findTargets","bindComponents","triggerEvents","closest","bindings","debugInvalidComponentFuncs","requestOrder","loading","alertLoader","mapParams","dataSendParams","objectInvert","dataReceiveParams","clearAlert","catch","alertError","setTimeout","dataLoaderErrorTimeout","finally","blockActiveLoad","alertManager","alert","dataLoaderLoading","dataLoaderError","events","subscriptionNotifiers","_debugDispatch","_dispatch","debug","_notifySubscriptionChange","from","shift","apply","log","_debugChain","_chain","_debugConfirm","_confirm","callback","_warnUser","x","tables","deregister","lookupTable","querySelectorAll","matchElement","O","T","container","_lookupContainer","reversedX","childPopup","blurable","blurCallback","blurEventsBound","renderedCallback","hideable","blurEvent","escEvent","_escapeCheck","destroyBinding","tableDestroyed","popupContainer","_checkContainerIsParent","body","renderCallback","containerEventCoords","MouseEvent","touches","pageX","pageY","elementPositionCoords","offset","_fitToScreen","hideOnBlur","keyCode","blockHide","restoreHide","child","k","_handler","registerTableOption","registerColumnOption","registerTableFunction","initGuard","registerComponentFunction","registerDataHandler","registerDisplayHandler","refreshData","footerAppend","footerPrepend","footerRemove","popup","M","responsiveLayout","modExists","L","fitData","fitDataFill","fitDataTable","fitDataStretch","responsive","fitColumns","widthGrow","widthShrink","S","mode","modes","initializeColumn","Number","moduleName","D","locale","lang","langList","langs","headerFilterPlaceholder","setHeaderFilterPlaceholder","installLang","setLocale","getLang","default","headerFilters","_setLangProp","navigator","language","toLowerCase","_executeBindings","_getLangElement","groups","item","items","page_size","page_title","first","first_title","last","last_title","prev","prev_title","next","next_title","all","counter","showing","of","pages","P","receive","tableComms","commsReceived","z","freeze","LayoutModule","LocalizeModule","CommsModule","F","bindStaticFunctionality","bindModules","moduleBindings","extendModule","registerModule","registerModuleBinding","findTable","prototype","moduleCore","modulesCore","moduleInitOrder","modulesRegular","H","_createAlertElement","msgElement","_createMsgElement","_typeClass","interactionMonitor","browserSlow","browserMobile","originalElement","initializeCoreSystems","_create","defaultOptions","_clearObjectPointers","_mapDeprecatedFunctionality","debugEventsExternal","debugEventsInternal","_clearSelection","getSelection","empty","removeAllRanges","selection","_rtlCheck","_buildElement","_initializeTable","_loadInitialData","getComputedStyle","textDirection","direction","reactiveData","tagName","attributes","name","replaceChild","_detectBrowser","userAgent","vendor","opera","test","debugInitialization","Error","stack","trim","replaceData","addData","updateOrAddData","updateOrAddRow","updateRow","getRowPosition","getColumnDefinitions","showColumn","hideColumn","toggleColumn","deleteColumn","updateColumnDefinition","on","off","debugDeprecation","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","A","allowedTypes","transformRow","charAt","toUpperCase","lookupAccessor","accessor","params","accessors","_","B","encodeURIComponent","join","I","method","V","N","json","headers","stringify","form","FormData","W","config","url","urlGenerator","loaderPromise","contentTypeFormatters","ajaxRequestFunc","defaultLoaderPromise","ajaxURLGenerator","defaultURLGenerator","ajaxURL","setUrl","setDefaultConfig","ajaxConfig","getUrl","requestDataCheck","requestParams","requestData","ajaxParams","generateConfig","sendRequest","defaultConfig","ajaxRequesting","ajaxResponse","ajaxContentType","Accept","Origin","location","origin","credentials","fetch","ok","status","statusText","j","pasteParser","pasteAction","customSelection","rowRange","blocked","clipboard","clipboardCopyRowRange","preventDefault","clipboardCopyFormatter","export","generateExportList","clipboardCopyConfig","clipboardCopyStyled","generateHTMLTable","generatePlainContent","clipboardData","originalEvent","reset","paste","setPasteParser","clipboardPasteParser","setPasteAction","clipboardPasteAction","getKey","createRange","selectNodeContents","toString","addRange","createTextRange","moveToElementText","select","execCommand","pasteActions","pasteParsers","checkPaseOrigin","getPasteData","mutateData","mutator","edit","currentCell","replace","insert","G","U","avg","precision","reduce","toFixed","parseFloat","sum","String","count","unique","X","topCalcs","botCalcs","genColumn","topElement","botElement","topRow","botRow","topInitialized","botInitialized","recalcAfterBlock","cellValueChanged","initializeColumnCheck","rowsUpdated","recalcActiveRows","recalcActiveRowsRefresh","tableRedraw","adjustForScrollbar","resizeHolderWidth","getResults","userRecalc","recalc","blockCheck","groupBy","recalcRowGroup","dataTreeStartExpanded","dataTree","recalcAll","topCalc","bottomCalc","columnCalcs","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","reinitializeCalcs","rowsToData","generateRow","recalcGroup","groupRows","getRowGroup","getChildGroups","generateRowData","generateTopRow","generateBottomRow","dataTreeChildColumnCalcs","open","getFilteredTreeChildren","disable","enable","format","formatter","getFormatter","hasTopCalcs","hasBottomCalcs","getGroups","getGroupResults","getSubGroups","q","indent","collapseEl","expandEl","branchEl","elementField","startOpen","collapseRow","expandRow","toggleRow","getTreeParent","getRowChildren","addTreeChildRow","isRowExpanded","dataTreeChildField","dataTreeChildIndent","dataTreeBranchElement","dataTreeCollapseElement","tabIndex","dataTreeExpandElement","layoutRow","rowDelete","rowDataChanged","columnMoving","initializeElementField","tableRedrawing","reinitializeRowChildren","dataTreeElementColumn","getTreeChildren","redrawNeeded","controlEl","children","generateControlElement","cloneNode","getPropertyValue","getChildren","generateChildren","dataTreeFilter","dataTreeSort","getTreeParentRoot","findChildIndex","getChildField","K","csv","delimiter","depth","bom","jsonLines","pdf","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDF","content","colSpan","rowSpan","styles","orientation","unit","jspdf","autoTable","didDrawPage","text","head","documentProcessing","output","xlsx","sheetName","XLSX","utils","book_new","compress","writeOptions","bookType","bookSST","compression","Date","sheet_add_aoa","encode_range","SheetNames","Sheets","sheetOnly","sheets","intercept","ArrayBuffer","Uint8Array","charCodeAt","write","html","J","Blob","deprecatedOptionsCheck","download","downloadToTab","downloaders","triggerDownload","downloadConfig","downloadRowRange","groupHeaderDownload","_group","getRowCount","downloadEncoder","URL","createObjectURL","msSaveOrOpenBlob","click","Y","mask","maskLetterChar","maskNumberChar","maskWildcardChar","ctrlKey","metaKey","maskAutoFill","$","_initializeParams","displayItems","currentItems","focusedItem","input","_createInputElement","listEl","_createListElement","initialValues","isFilter","filterTimeout","filtered","typing","listIteration","lastAction","filterTerm","actions","success","cancel","_deprecatedOptionsCheck","_initializeValue","_onRendered","listItemFormatter","sortValuesList","searchFunc","searchingPlaceholder","defaultValue","multiselect","headerFilterInitialListGen","preventScroll","_preventPopupBlur","_preventBlur","_inputKeyDown","_setListWidth","elementAttributes","clearable","padding","boxSizing","autocomplete","cursor","caretColor","getAttribute","_bindInputEvents","verticalNavigation","placeholderLoading","placeholderEmpty","filterDelay","emptyValue","freetext","filterFunc","filterRemote","allowEmpty","listOnEmpty","valuesLookup","valuesURL","_inputFocus","_inputClick","_inputBlur","_inputSearch","_inputKeyUp","rebuildOptionsList","_filter","clearTimeout","_filterList","_resolveValue","_clearChoices","_keyUp","_keyDown","_keySide","_keyEnter","_keyEsc","_keyHomeEnd","_keyTab","_keySelectLetter","_keyAutoCompLetter","_chooseItem","stopImmediatePropagation","_focusItem","_cancel","_scrollToValue","fromCharCode","label","scrollIntoView","behavior","block","inline","_generateOptions","_sortOptions","_buildList","_showList","isInteger","_filterOptions","_ajaxRequest","_uniqueColumnValues","valuesLookupField","_addPlaceholder","_parseList","_clearList","term","entries","map","_parseListItem","_parseListGroup","itemParams","selected","level","original","_defaultSortFunction","_sortGroup","isFinite","_defaultFilterFunc","_filterItem","_buildItem","itemFormatter","_groupClick","_itemClick","_styleItem","Z","search","selectContents","textarea","whiteSpace","shiftKey","shiftEnterSubmit","selectionStart","number","step","blurFunc","range","date","DateTime","luxon","isDateTime","fromISO","fromFormat","toFormat","toISO","relatedTarget","rangeParent","explicitOriginalTarget","time","datetime","list","star","getElementsByTagName","createElementNS","blur","overflow","textOverflow","progress","round","backgroundColor","screenX","tickCross","tristate","indeterminateValue","marginTop","checked","trueValue","falseValue","indeterminate","Q","mouseClick","recursionBlock","invalidEdit","editedCells","editors","getEditedCells","clearCellEdited","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","cellIsEdited","clearEdited","editCell","cellCancelEdit","bindEditor","updateCellClass","columnDeleteCheck","rowDeleteCheck","rowEditableCheck","cancelEdit","keybindingNavigateNext","edited","allowEdit","findPrevEditableCell","findNextEditableCell","editor","editable","editorParams","getCurrentCell","clearEditor","cellEditCancelled","contains","button","focusCellNoEvent","focusScrollAdjust","leftMargin","rightMargin","cellClick","cellEditing","validationMode","ee","te","ie","cloneTableStyle","colVisProp","getHtml","columnHeaders","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","generateTable","generateTableElement","selectRow","selectedRows","columnGroups","processColumnGroup","subGroups","columnVisCheck","rowGroups","lookupTableStyles","treeElementField","groupHeader","mapElementStyles","generateHeaderElement","generateGroupElement","generateCalcElement","generateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","firstCell","lastCell","generator","formatCells","formatExportValue","align","htmlOutputConfig","color","se","=","<","<=",">",">=","!=","regex","RegExp","like","keywords","separator","matchAll","starts","ends","endsWith","in","oe","filterList","headerFilterColumns","prevHeaderFilterChangeCheck","changed","tableInitialized","searchRows","searchData","userSetFilter","userRefreshFilter","userAddFilter","getFilters","userSetHeaderFilterFocus","userGetHeaderFilterValue","userSetHeaderFilterValue","getHeaderFilters","userRemoveFilter","userClearFilter","userClearHeaderFilter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","initializeColumnHeaderFilter","hideHeaderFilterElements","showHeaderFilterElements","tableBuilt","generatePlaceholder","filterMode","remoteFilterParams","initialFilter","setFilter","initialHeaderFilter","placeholderHeaderFilter","refreshFilter","addFilter","removeFilter","clearFilter","clearHeaderFilter","headerFilter","tagType","attrType","prevSuccess","emptyFunc","headerFilterFunc","filters","headerFilterFuncParams","func","trackChanges","generateHeaderFilterElement","headerElement","headerFilterEmptyCheck","headerFilterParams","searchTrigger","headerFilterLiveFilterDelay","hasAttribute","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","filtersToArray","filterRecurse","filterRow","ne","plaintext","emptyToSpace","sanitizeHTML","money","decimal","thousand","negativeSign","symbol","symbolAfter","link","urlPrefix","labelField","urlField","image","urlSuffix","allowTruthy","tickElement","crossElement","inputFormat","outputFormat","invalidPlaceholder","isValid","timezone","setZone","datetimediff","suffix","humanize","now","diff","toHuman","lookup","stars","traffic","legendAlign","legend","legendColor","buttonTick","buttonCross","rownum","innerText","responsiveCollapse","rowSelection","selectableRangeMode","toggleSelect","handleComplexRowClick","isSelected","registerRowSelectCheckbox","deselectRow","registerHeaderSelectCheckbox","re","formatValue","formatHeader","lookupFormatter","formatterPrint","print","formatterClipboard","formatterHtmlOutput","htmlOutput","formatters","titleFormatter","titleFormatterParams","ae","initializationMode","layoutCell","reinitializeColumns","blockLayout","unblockLayout","margin","edge","frozenCheck","layoutCalcRows","layoutGroupCalcs","groupList","layoutColumnPosition","marginValue","getColGroupParentElement","_calcSpace","le","freezeRow","unfreezeRow","isRowFrozen","detachRow","frozenRows","initializeRows","isFrozen","styleRows","he","groupManager","getParentGroup","toggleVisibility","de","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","old","elementContents","arrowElement","createElements","addBindings","createValueGroups","movableRows","initializeGroupHeader","allowedValues","_createGroup","groupToggleElement","headerGenerator","insertRow","conformRowData","updateGroupRows","scrollHeader","removeRow","groupValues","generateGroupHeaderContents","removeGroup","getHeadersAndRows","_visSet","groupClosedShowCalcs","getPath","childNodes","ce","displayHandler","setGroupBy","setGroupValues","setGroupStartOpen","setGroupHeader","userGetGroups","userGetGroupedData","rowGetGroup","_blockRedrawing","_restore_redrawing","groupUpdateOnCellEdit","cellUpdated","reassignRowToGroup","configureGroupSetup","rowDeleting","scrollHeaders","rowMoving","rowAddingIndex","rowSample","virtualRenderFill","groupStartOpen","assignRowToGroup","getGroupedData","generateGroups","pullGroupListData","rowCount","headerContent","countGroups","createGroup","assignRowToExistingGroup","getExpectedPath","every","checkBasicModeGroupHeaderWidth","ue","history","clearComponentHistory","rowDeleted","rowAdded","rowMoved","undo","redo","getHistoryUndoSize","getHistoryRedoSize","action","posFrom","posTo","to","after","pos","newValue","undoers","redoers","_rebindRow","cellEdit","rowAdd","rowMove","pe","fieldIndex","hasIndex","tableElementCheck","parseTable","_extractOptions","_extractHeaders","_generateBlankHeaders","_attribValue","_findCol","textContent","replaceAll","me","array","ge","importFromFile","importFormat","loadDataCheck","loadData","importData","lookupImporter","structureData","importers","pickFile","accept","files","FileReader","importReader","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","onload","result","onerror","structureArrayToObject","structureArrayToColumns","be","eventMap","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowMouseDown","rowMouseUp","rowTap","rowDblTap","rowTapHold","cellDblClick","cellContext","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellMouseDown","cellMouseUp","cellTap","cellDblTap","cellTapHold","headerClick","headerDblClick","headerContext","headerMouseEnter","headerMouseLeave","headerMouseOver","headerMouseOut","headerMouseMove","headerMouseDown","headerMouseUp","headerTap","headerDblTap","headerTapHold","groupClick","groupDblClick","groupContext","groupMouseEnter","groupMouseLeave","groupMouseOver","groupMouseOut","groupMouseMove","groupMouseDown","groupMouseUp","groupTap","groupDblTap","groupTapHold","subscribers","touchSubscribers","columnSubscribers","touchWatchers","tap","tapDbl","tapHold","initializeExternalEvents","cellContentsSelectionFixer","clearTouchWatchers","selectNode","subscribeTouchEvents","unsubscribeTouchEvents","handleTouch","fe","watchKeys","pressedKeys","keyupBinding","keydownBinding","keybindings","mapBindings","bindEvents","clearBindings","mapBinding","ctrl","meta","checkBinding","navPrev","navNext","navUp","navDown","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","copyToClipboard","keyBlock","navLeft","navRight","ve","menuContainer","nestedMenuBlock","currentComponent","rootPopup","initializeRowWatchers","initializeGroupWatchers","rowContextMenu","loadMenuEvent","rowClickMenu","rowDblClickMenu","groupContextMenu","groupClickMenu","groupDblClickMenu","headerContextMenu","loadMenuTableColumnEvent","headerClickMenu","headerDblClickMenu","headerMenu","initializeColumnHeaderMenu","contextMenu","loadMenuTableCellEvent","clickMenu","dblClickMenu","headerMenuIcon","loadMenu","disabled","menu","we","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","movableColumns","mousemove","which","startMove","bindTouchEvents","passive","_bindMouseMove","_unbindMouseMove","Ce","toRow","toRowAfter","hasHandle","startY","tableRowDropEvent","connection","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connections","connectedTable","connectedRow","movableRowsConnectedTables","movableRowsConnectedElements","initializeCell","mouseup","tableRowDrop","previousSibling","rowHandle","setStartPosition","connectToTables","pointerEvents","disconnectFromTables","moveHoverConnections","moveHoverTable","elementRowDrop","tabulatorElementDropEvent","connect","disconnect","dropComplete","movableRowsSender","senders","movableRowsReceiver","receivers","Ee","enabled","transformCell","mutateLink","lookupMutator","mutate","mutators","mutatorEdit","ye","Re","progressiveLoad","pageCounterElement","pageCounter","size","page","remoteRowCountEstimate","initialLoad","dataChanging","pageSizes","setMaxPage","setPage","userSetPageToRow","userSetPageSize","getPageSize","previousPage","nextPage","getPage","getPageMax","setPageToRow","initialLoadComplete","calculatePageSizes","footerRedraw","paginationAddRow","rowAddingPosition","paginationMode","remotePageParams","_parseRemoteData","restOnRenderBefore","initializePageCounter","initializePaginator","initializeProgressive","scrollVertical","paginationSize","generatePageSizeSelectList","setPageSize","progressiveLoadScrollMargin","pagesElement","firstBut","prevBut","nextBut","lastBut","paginationSizeSelector","pageSizeSelect","paginationCounter","pageCounters","paginationElement","paginationCounterElement","paginationInitialPage","paginationButtonCount","setMaxRows","trigger","_setPageCounter","_setPageButtons","_generatePageButton","last_page","last_row","progressiveLoadDelay","xe","local","localStorage","getItem","cookie","Te","setItem","setDate","getDate","toUTCString","ke","id","defWatcherBlock","readFunc","writeFunc","localStorageTest","removeItem","persistence","persistenceMode","persistenceID","persistenceReaderFunc","readers","persistenceWriterFunc","writers","retrieveData","save","eventSave","getColumnLayout","setColumnLayout","initialSort","parseColumns","mergeDefinition","getOwnPropertyDescriptor","defineProperty","set","_findColumn","validateSorters","getSort","getGroupConfig","getPageConfig","Me","_componentPopupCall","loadPopupEvent","rowContextPopup","rowClickPopup","rowDblClickPopup","groupContextPopup","groupClickPopup","groupDblClickPopup","headerContextPopup","loadPopupTableColumnEvent","headerClickPopup","headerDblClickPopup","headerPopup","initializeColumnHeaderPopup","contextPopup","loadPopupTableCellEvent","clickPopup","dblClickPopup","headerPopupIcon","loadPopup","Le","manualBlock","beforeprintEventHandler","afterprintEventHandler","printAsHtml","replaceTable","cleanup","printFullscreen","printConfig","printStyled","printRowRange","scrollX","scrollY","printHeader","printFooter","printFormatter","Se","origFuncs","currentVersion","unblock","watchRow","watchData","unwatchData","enumerable","configurable","pop","writable","watchKey","watchTreeChildren","rebuildTree","unwatchRow","De","startColumn","startWidth","latestX","initialNextColumn","layoutColumnHeader","initializeEventWatchers","layoutCellHandles","deInitializeComponent","resizeHandle","columnLayoutUpdated","deInitializeColumn","columnWidthUpdated","resizable","reinitializeColumn","frozenColumnOffset","handleEl","_checkResizability","handleDown","_mouseDown","parentElement","resizableColumnFit","Pe","startHeight","prevHandle","startRow","prevHandleDown","screenY","ze","binding","visibilityObserver","resizeObserver","containerObserver","tableHeight","containerHeight","containerWidth","autoResize","initialRedraw","IntersectionObserver","ResizeObserver","initializeVisibilityObserver","contentRect","redrawTable","observe","tableResized","isIntersecting","unobserve","Fe","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","updateColumnVisibility","initializeResponsivity","generateCollapsedRowContent","responsiveLayoutCollapseFormatter","formatCollapsedData","responsiveLayoutCollapseStartOpen","order","generateCollapsedContent","generateCollapsedRowData","responsiveLayoutCollapseUseFormatters","He","selecting","lastClickedRow","selectPrev","headerCheckboxElement","selectRows","deselectRows","getSelectedRows","getSelectedData","isRowSelected","selectable","clearSelectionData","rowRetrieve","selectablePersistence","_deselectRow","_rowSelectionChanged","endSelect","checkRowSelectability","selectableCheck","_selectRow","selectableRollingSelection","checkboxEl","dataTreeSelectPropagate","childRowSelection","Oe","alignEmptyValues","Ae","decimalSeparator","thousandSeparator","string","localeCompare","boolean","exists","alphanum","_e","sortList","userSetSort","clearSort","sortMode","remoteSortParams","setSort","refreshSort","sorters","dir","sorterParams","startingDir","headerSortStartingDir","headerSortTristate","headerSort","headerSortClickElement","headerSortElement","setColumnHeaderSortIcon","columnHeaderSortMulti","findSorter","sortOrderReverse","clearColumnHeaders","setColumnHeader","_sortItems","_sortRow","Be","tooltipSubscriber","headerSubscriber","timeout","popupInstance","headerTooltip","mousemoveCheck","mouseoutCheck","tooltip","clearPopup","loadTooltip","tooltipDelay","Ie","integer","float","numeric","minLength","maxLength","required","Ve","invalidCells","getInvalidCells","userClearCellValidation","userValidate","cellIsValid","clearValidation","cellValidate","columnValidate","rowValidate","editValidate","editorClear","editedClear","validate","invalid","validator","_extractValidator","substring","_buildValidator","parameters","validators","Ne","AccessorModule","AjaxModule","ClipboardModule","ColumnCalcsModule","DataTreeModule","DownloadModule","EditModule","ExportModule","FilterModule","FormatModule","FrozenColumnsModule","FrozenRowsModule","GroupRowsModule","HistoryModule","HtmlTableImportModule","ImportModule","InteractionModule","KeybindingsModule","MenuModule","MoveColumnsModule","MoveRowsModule","MutatorModule","PageModule","PersistenceModule","PopupModule","PrintModule","ReactiveDataModule","ResizeColumnsModule","ResizeRowsModule","ResizeTableModule","ResponsiveLayoutModule","SelectRowModule","SortModule","TooltipModule","ValidateModule","We"],"sources":["/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/CoreFeature.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/column/ColumnComponent.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/column/defaults/options.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/cell/CellComponent.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/cell/Cell.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/column/Column.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/Helpers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/OptionsList.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/rendering/Renderer.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/rendering/renderers/BasicHorizontal.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/rendering/renderers/VirtualDomHorizontal.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/ColumnManager.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/row/RowComponent.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/row/Row.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/rendering/renderers/BasicVertical.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/rendering/renderers/VirtualDomVertical.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/RowManager.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/FooterManager.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/InteractionMonitor.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/ComponentFunctionBinder.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/DataLoader.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/ExternalEventBus.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/InternalEventBus.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/DeprecationAdvisor.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/TableRegistry.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/Popup.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/Module.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/defaults/modes/fitDataGeneral.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/defaults/modes.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/defaults/modes/fitData.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/defaults/modes/fitDataStretch.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/defaults/modes/fitColumns.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Layout/Layout.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Localize/Localize.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Localize/defaults/langs.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Comms/Comms.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/ModuleBinder.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/tools/Alert.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/Tabulator.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/defaults/options.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Accessor/Accessor.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Accessor/defaults/accessors.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Ajax/defaults/urlGenerator.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Ajax/defaults/contentTypeFormatters.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Ajax/Ajax.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Ajax/defaults/config.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Ajax/defaults/loaderPromise.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Clipboard/Clipboard.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Clipboard/defaults/pasteActions.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Clipboard/defaults/pasteParsers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ColumnCalcs/CalcComponent.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ColumnCalcs/defaults/calculations.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ColumnCalcs/ColumnCalcs.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/DataTree/DataTree.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/csv.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/json.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/jsonLines.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/pdf.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/xlsx.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/defaults/downloaders/html.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Download/Download.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/inputMask.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/List.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/input.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/textarea.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/number.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/range.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/date.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/time.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/datetime.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/select.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/list.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/autocomplete.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/star.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/progress.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/defaults/editors/tickCross.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Edit/Edit.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Export/ExportRow.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Export/ExportColumn.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Export/Export.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Filter/defaults/filters.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Filter/Filter.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/plaintext.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/html.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/textarea.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/money.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/link.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/image.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/tickCross.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/datetime.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/datetimediff.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/lookup.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/star.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/traffic.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/progress.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/color.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/buttonTick.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/buttonCross.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/rownum.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/handle.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/responsiveCollapse.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/defaults/formatters/rowSelection.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Format/Format.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/FrozenColumns/FrozenColumns.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/FrozenRows/FrozenRows.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/GroupRows/GroupComponent.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/GroupRows/Group.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/GroupRows/GroupRows.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/History/History.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/History/defaults/undoers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/History/defaults/redoers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/HtmlTableImport/HtmlTableImport.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Import/defaults/importers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Import/defaults/importers/csv.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Import/defaults/importers/json.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Import/defaults/importers/array.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Import/Import.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Interaction/Interaction.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Keybindings/Keybindings.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Keybindings/defaults/bindings.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Keybindings/defaults/actions.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Menu/Menu.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/MoveColumns/MoveColumns.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/MoveRows/MoveRows.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Mutator/Mutator.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Mutator/defaults/mutators.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Page/defaults/pageCounters.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Page/defaults/pageCounters/rows.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Page/defaults/pageCounters/pages.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Page/Page.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Persistence/defaults/readers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Persistence/defaults/writers.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Persistence/Persistence.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Popup/Popup.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Print/Print.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ReactiveData/ReactiveData.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ResizeColumns/ResizeColumns.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ResizeRows/ResizeRows.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ResizeTable/ResizeTable.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/ResponsiveLayout/ResponsiveLayout.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/SelectRow/SelectRow.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/datetime.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/number.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/string.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/date.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/time.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/boolean.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/array.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/exists.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/defaults/sorters/alphanum.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Sort/Sort.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Tooltip/Tooltip.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Validate/defaults/validators.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/modules/Validate/Validate.js","/home/karine/desafio-front/node_modules/tabulator-tables/src/js/core/TabulatorFull.js"],"sourcesContent":["export default class CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}","import Column from './Column.js';\n\n//public column object\nexport default class ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column, position, ifVisible);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else{\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}","export default {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};","//public cell object\nexport default class CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(transform){\n\t\treturn this._cell.row.getData(transform);\n\t}\n\tgetType(){\n\t\treturn \"cell\";\n\t}\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport CellComponent from './CellComponent.js';\n\nexport default class Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else{\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n","import CoreFeature from '../CoreFeature.js';\nimport ColumnComponent from './ColumnComponent.js';\nimport defaultOptions from './defaults/options.js';\n\nimport Cell from '../cell/Cell.js';\n\nclass Column extends CoreFeature{\n\n\tconstructor(def, parent){\n\t\tsuper(parent.table);\n\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.isGroup = false;\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\n\t\tthis.mapDefinitions();\n\n\t\tthis.setField(this.definition.field);\n\n\t\tthis.modules = {}; //hold module variables;\n\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\n\t\tthis.visible = true; //default visible state\n\n\t\tthis.component = null;\n\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\n\t\t\tthis.isGroup = true;\n\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\n\t\t\tthis.checkColumnVisibility();\n\t\t}else{\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\n\t\tthis._initialize();\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn el;\n\t}\n\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\n\t\treturn el;\n\t}\n\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else{\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\n\t\tthis.element.appendChild(this.contentElement);\n\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else{\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\n\t\tthis.dispatch(\"column-layout\", this);\n\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else{\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\n\t\tthis.reinitializeWidth();\n\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\t\treturn contentElement;\n\t}\n\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\n\t\t}else{\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\n\t\treturn titleHolderElement;\n\t}\n\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdataObj = dataObj[structure[i]];\n\n\t\t\toutput = dataObj;\n\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else{\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\n\t\t\tcolumn.columnRendered();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\t\tthis.element.style.height = parentHeight + \"px\";\n\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else{\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else{\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\n\t\treturn this.definition;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\n\t\t\tthis.element.style.display = \"\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\n\t\t\tthis.element.style.display = \"none\";\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\n\t\twidth = Math.max(this.minWidth, width);\n\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\t\tthis.element.style.width = this.widthStyled;\n\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tthis.dispatch(\"column-width\", this);\n\t}\n\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else{\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\twidth = this.width;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dispatch(\"column-delete\", this);\n\n\t\t\tvar cellCount = this.cells.length;\n\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\n\t\tthis.cells.push(cell);\n\n\t\treturn cell;\n\t}\n\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\n\t\tthis.fitToData(force);\n\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\n\t\tvar maxWidth = this.element.offsetWidth;\n\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateDefinition(updates){\n\t\tvar definition;\n\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\nColumn.defaultOptionList = defaultOptions;\n\nexport default Column;\n","export default class Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else{\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}","export default class OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else{\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\trenderRowCells(row, inFragment) {\n\t\tconst rowFrag = document.createDocumentFragment();\n\t\trow.cells.forEach((cell) => {\n\t\t\trowFrag.appendChild(cell.getElement());\n\t\t});\n\t\trow.element.appendChild(rowFrag);\n\t\t\n\t\tif(!inFragment){\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else{\n\t\t\tconst rowFrag = document.createDocumentFragment();\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trowFrag.appendChild(cell.getElement());\n\t\t\t});\n\t\t\trow.element.appendChild(rowFrag);\n\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else{\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else{\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}","import CoreFeature from './CoreFeature.js';\nimport Column from './column/Column.js';\nimport ColumnComponent from './column/ColumnComponent.js';\nimport Helpers from './tools/Helpers.js';\nimport OptionsList from './tools/OptionsList.js';\n\nimport RendererBasicHorizontal from './rendering/renderers/BasicHorizontal.js';\nimport RendererVirtualDomHorizontal from './rendering/renderers/VirtualDomHorizontal.js';\n\nimport defaultColumnOptions from './column/defaults/options.js';\n\nexport default class ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\n\t\tthis.initializeScrollWheelWatcher();\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else{\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomHorizontal,\n\t\t\t\"basic\": RendererBasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\n\tinitializeScrollWheelWatcher(){\n\t\tthis.contentsElement.addEventListener(\"wheel\", (e) => {\n\t\t\tvar left;\n\n\t\t\tif(e.deltaX){\n\t\t\t\tleft = this.contentsElement.scrollLeft + e.deltaX;\n\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions,\n\t\trow, sorter;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trow = data[0];\n\t\t\t\n\t\t\tfor(var key in row){\n\t\t\t\tlet col = {\n\t\t\t\t\tfield:key,\n\t\t\t\t\ttitle:key,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet value = row[key];\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcol.sorter = sorter;\n\t\t\t\t\n\t\t\t\tcols.push(col);\n\t\t\t}\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else{\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else{\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else{\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\n\t\t\t\tcolumns = [];\n\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = field.split(\".\")[0];\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else{\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else{\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}","//public row object\nexport default class RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row, position, ifVisible);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport RowComponent from './RowComponent.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force, inFragment){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this, inFragment);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else{\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this, inFragment);\n\t\t}\n\t}\n\n\trendered(){\n\t\tthis.cells.forEach((cell) => {\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0,\n\t\tminHeight;\n\t\t\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else{\n\t\t\tminHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tvar height = cell.getHeight();\n\t\t\t\tif(height > maxHeight){\n\t\t\t\t\tmaxHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else{\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.verticalFillMode = \"fill\";\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\t\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\t\t\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\t\t\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\t\n\trenderRows() {\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true,\n\t\ttableFrag = document.createDocumentFragment(),\n\t\trows = this.rows();\n\t\t\n\t\trows.forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\trow.initialize(false, true);\n\t\t\t\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t\t\n\t\t\ttableFrag.appendChild(row.getElement());\n\t\t});\n\t\t\n\t\telement.appendChild(tableFrag);\n\t\t\n\t\trows.forEach((row) => {\n\t\t\trow.rendered();\n\t\t\t\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.calcHeight(true);\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.setCellHeight();\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n\t\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\t\t\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t\t\n\t\tthis.renderRows();\n\t}\n\t\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\t\t\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\t\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\t\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\t\n}\n","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else{\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else{\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else{\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset) {\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\trowHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tindex = 0,\n\t\trow,\n\t\trowFragment,\n\t\trenderedRows = [],\n\t\ttotalRowsRendered = 0,\n\t\trowsToRender = 0,\n\t\tfixedHeight = this.table.rowManager.fixedHeight,\n\t\tcontainerHeight = this.elementVertical.clientHeight, \n\t\tavgRowHeight = this.table.options.rowHeight, \n\t\tresized = true;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else {\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\tif(fixedHeight || this.table.options.maxHeight) {\n\t\t\t\tif(avgRowHeight) {\n\t\t\t\t\trowsToRender = (containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight);\n\t\t\t\t}\n\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil(rowsToRender));\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowsToRender = rowsCount;\n\t\t\t}\n\n\t\t\twhile(((rowsToRender == rowsCount || rowsHeight <= containerHeight + this.vDomWindowBuffer) || totalRowsRendered < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1) {\n\t\t\t\trenderedRows = [];\n\t\t\t\trowFragment = document.createDocumentFragment();\n\n\t\t\t\ti = 0;\n\n\t\t\t\twhile ((i < rowsToRender) && this.vDomBottom < rowsCount -1) {\t\n\t\t\t\t\tindex = this.vDomBottom + 1,\n\t\t\t\t\trow = rows[index];\n\n\t\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\t\trow.initialize(false, true);\n\t\t\t\t\tif(!row.heightInitialized && !this.table.options.rowHeight){\n\t\t\t\t\t\trow.clearCellHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\trowFragment.appendChild(row.getElement());\n\t\t\t\t\trenderedRows.push(row);\n\t\t\t\t\tthis.vDomBottom ++;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\tif(!renderedRows.length){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(rowFragment);\n\t\t\t\t\n\t\t\t\t// NOTE: The next 3 loops are separate on purpose\n\t\t\t\t// This is to batch up the dom writes and reads which drastically improves performance \n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trow.rendered();\n\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.calcHeight(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.setCellHeight();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trowHeight = row.getHeight();\n\t\t\t\t\t\n\t\t\t\t\tif(totalRowsRendered < topPad){\n\t\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t\t}else {\n\t\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t\ttotalRowsRendered++;\n\t\t\t\t});\n\n\t\t\t\tresized = this.table.rowManager.adjustTableSize();\n\t\t\t\tcontainerHeight = this.elementVertical.clientHeight;\n\t\t\t\tif(resized && (fixedHeight || this.table.options.maxHeight))\n\t\t\t\t{\n\t\t\t\t\tavgRowHeight = rowsHeight / totalRowsRendered;\n\t\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil((containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / totalRowsRendered);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else {\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\t\t\t\n\t\t\telement.style.paddingTop = this.vDomTopPad+\"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad+\"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\nimport Row from './row/Row.js';\nimport RowComponent from './row/RowComponent.js';\nimport Helpers from './tools/Helpers.js';\n\nimport RendererBasicVertical from './rendering/renderers/BasicVertical.js';\nimport RendererVirtualDomVertical from './rendering/renderers/VirtualDomVertical.js';\n\nexport default class RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\t\t\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\t\t\n\t\tif(typeof placeholder === \"function\"){\n\t\t\tplaceholder = placeholder.call(this.table);\n\t\t}\n\t\t\n\t\tplaceholder = this.chain(\"placeholder\", [placeholder], placeholder, placeholder) || placeholder;\n\t\t\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\t\t\t\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\t\t\t\t\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t\t\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else{\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else{\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\t\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\t\t\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(rows.length){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else{\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else{\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\t\t\t\t\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\t\t\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\t\t\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else{\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\t\t\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else{\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\t\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\t\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\t\t\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomVertical,\n\t\t\t\"basic\": RendererBasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else{\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\t\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else{\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\t\t\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else{\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\t\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\t\n\t\t\tthis.initializePlaceholder();\n\t\t\t\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t\t\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight();\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tlet initialHeight = this.element.clientHeight, minHeight;\n\t\tlet resized = false;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tconst height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = height;\n\t\t\t\tthis.element.style.maxHeight = height;\n\t\t\t} else {\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height =\n\t\t\t\tthis.table.element.clientHeight - otherHeight + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tresized = true;\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else{\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t\treturn resized;\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else{\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tconst resized = this.adjustTableSize();\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\n\t\t\tif(resized) {\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t\tthis.scrollHorizontal(this.scrollLeft);\n\t\t}else{\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else{\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\n\nexport default class FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Row from '../row/Row.js';\n\nexport default class InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\t\t\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else{\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else{\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}","export default class ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else{\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else{\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","import CoreFeature from '../CoreFeature.js';\n\nexport default class DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\t\n\tinitialize(){}\n\t\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tif(this.table.destroyed){\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\t\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\t\t\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\t\t\t\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\t\t\t\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\t\t\t\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!this.table.destroyed){\n\t\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rowData = this.chain(\"data-loaded\", response, null, response);\n\t\t\t\t\t\n\t\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\t\tthis.clearAlert();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - Table has been destroyed\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\t\t\t\t\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\t\t\t\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\t\n\tmapParams(params, map){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tobjectInvert(obj){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\t\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\t\t\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\t\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\t\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}","export default class ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}","export default class InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else{\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}else{\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}","import Tabulator from '../Tabulator.js';\n\nclass TableRegistry {\n\n\tstatic register(table){\n\t\tTableRegistry.tables.push(table);\n\t}\n\n\tstatic deregister(table){\n\t\tvar index = TableRegistry.tables.indexOf(table);\n\n\t\tif(index > -1){\n\t\t\tTableRegistry.tables.splice(index, 1);\n\t\t}\n\t}\n\n\tstatic lookupTable(query, silent){\n\t\tvar results = [],\n\t\tmatches, match;\n\n\t\tif(typeof query === \"string\"){\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif(matches.length){\n\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\tmatch = TableRegistry.matchElement(matches[i]);\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof Tabulator){\n\t\t\tmatch = TableRegistry.matchElement(query);\n\n\t\t\tif(match){\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t}else if(Array.isArray(query)){\n\t\t\tquery.forEach(function(item){\n\t\t\t\tresults = results.concat(TableRegistry.lookupTable(item));\n\t\t\t});\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tstatic matchElement(element){\n\t\treturn TableRegistry.tables.find(function(table){\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n}\n\nTableRegistry.tables = [];\n\nexport default TableRegistry;","import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\n\nexport default class Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else{\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tif((y + this.element.offsetHeight) > Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0)) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight) + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n}","import CoreFeature from './CoreFeature.js';\nimport Popup from './tools/Popup.js';\n\nclass Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else{\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else{\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nexport default Module;","//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nexport default function(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","import fitData from './modes/fitData.js';\nimport fitDataGeneral from './modes/fitDataGeneral.js';\nimport fitDataStretch from './modes/fitDataStretch.js';\nimport fitColumns from './modes/fitColumns.js';\n\nexport default {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};","//resize columns to fit data they contain\nexport default function(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","//resize columns to fit data the contain and stretch last column to fill table\nexport default function(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else{\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else{\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}","//resize columns to fit\nexport default function(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else{\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else{\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else{\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else{\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n","import Module from '../../core/Module.js';\n\nimport defaultModes from './defaults/modes.js';\n\nclass Layout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else{\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.widthGrow){\n\t\t\tcolumn.definition.widthGrow = Number(column.definition.widthGrow);\n\t\t}\n\t\tif(column.definition.widthShrink){\n\t\t\tcolumn.definition.widthShrink = Number(column.definition.widthShrink);\n\t\t}\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}\n\nLayout.moduleName = \"layout\";\n\n//load defaults\nLayout.modes = defaultModes;\n\nexport default Layout;","import Module from '../../core/Module.js';\n\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultLangs from './defaults/langs.js';\n\nclass Localize extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else{\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else{\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else{\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else{\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nLocalize.moduleName = \"localize\";\n\n//load defaults\nLocalize.langs = defaultLangs;\n\nexport default Localize;","export default {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\nimport TableRegistry from '../../core/tools/TableRegistry.js';\n\nclass Comms extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = TableRegistry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else{\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nComms.moduleName = \"comms\";\n\nexport default Comms;","import * as coreModules from '../modules/core.js';\nimport TableRegistry from './TableRegistry.js';\n\nexport default class ModuleBinder {\n\t\n\tconstructor(tabulator, modules){\n\t\tthis.bindStaticFunctionality(tabulator);\n\t\tthis.bindModules(tabulator, coreModules, true);\n\t\t\n\t\tif(modules){\n\t\t\tthis.bindModules(tabulator, modules);\n\t\t}\n\t}\n\t\n\tbindStaticFunctionality(tabulator){\n\t\ttabulator.moduleBindings = {};\n\t\t\n\t\ttabulator.extendModule = function(name, property, values){\n\t\t\tif(tabulator.moduleBindings[name]){\n\t\t\t\tvar source = tabulator.moduleBindings[name][property];\n\t\t\t\t\n\t\t\t\tif(source){\n\t\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t\t}\n\t\t};\n\t\t\n\t\ttabulator.registerModule = function(modules){\n\t\t\tif(!Array.isArray(modules)){\n\t\t\t\tmodules = [modules];\n\t\t\t}\n\t\t\t\n\t\t\tmodules.forEach((mod) => {\n\t\t\t\ttabulator.registerModuleBinding(mod);\n\t\t\t});\n\t\t};\n\t\t\n\t\ttabulator.registerModuleBinding = function(mod){\n\t\t\ttabulator.moduleBindings[mod.moduleName] = mod;\n\t\t};\n\t\t\n\t\ttabulator.findTable = function(query){\n\t\t\tvar results = TableRegistry.lookupTable(query, true);\n\t\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t\t};\n\t\t\n\t\t//ensure that module are bound to instantiated function\n\t\ttabulator.prototype.bindModules = function(){\n\t\t\tvar orderedStartMods = [],\n\t\t\torderedEndMods = [],\n\t\t\tunOrderedMods = [];\n\t\t\t\n\t\t\tthis.modules = {};\n\t\t\t\n\t\t\tfor(var name in tabulator.moduleBindings){\n\t\t\t\tlet mod = tabulator.moduleBindings[name];\n\t\t\t\tlet module = new mod(this);\n\t\t\t\t\n\t\t\t\tthis.modules[name] = module;\n\t\t\t\t\n\t\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\t\tthis.modulesCore.push(module);\n\t\t\t\t}else{\n\t\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\t\n\t\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t\t};\n\t}\n\t\n\tbindModules(tabulator, modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModule(mods);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else{\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}","'use strict';\n\nimport defaultOptions from './defaults/options.js';\n\nimport ColumnManager from './ColumnManager.js';\nimport RowManager from './RowManager.js';\nimport FooterManager from './FooterManager.js';\n\nimport InteractionMonitor from './tools/InteractionMonitor.js';\nimport ComponentFunctionBinder from './tools/ComponentFunctionBinder.js';\nimport DataLoader from './tools/DataLoader.js';\n\nimport ExternalEventBus from './tools/ExternalEventBus.js';\nimport InternalEventBus from './tools/InternalEventBus.js';\n\nimport DeprecationAdvisor from './tools/DeprecationAdvisor.js';\n\nimport TableRegistry from './tools/TableRegistry.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nimport OptionsList from './tools/OptionsList.js';\n\nimport Alert from './tools/Alert.js';\n\nclass Tabulator {\n\t\n\tconstructor(element, options){\n\t\t\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tTableRegistry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis.bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionMonitor(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\t// this.columnManager.initialize();\n\t\t// this.rowManager.initialize();\n\t\tthis.footerManager.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\t\t\n\t\tthis._loadInitialData();\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\tthis.dataLoader.load(this.options.data);\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tTableRegistry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else{\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else{\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else{\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else{\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else{\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw();\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else{\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\n//default setup options\nTabulator.defaultOptions = defaultOptions;\n\n//bind modules and static functionality\nnew ModuleBinder(Tabulator);\n\nexport default Tabulator;\n","export default {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\n\tdataSendParams:{},\n\n\tdataReceiveParams:{},\n};\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultAccessors from './defaults/accessors.js';\n\nclass Accessor extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\n//load defaults\nAccessor.moduleName = \"accessor\";\nAccessor.accessors = defaultAccessors;\n\nexport default Accessor;","export default {};","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nexport default function(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nexport default {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultConfig from './defaults/config.js';\nimport defaultURLGenerator from './defaults/urlGenerator.js';\nimport defaultLoaderPromise from './defaults/loaderPromise.js';\nimport defaultContentTypeFormatters from './defaults/contentTypeFormatters.js';\n\nclass Ajax extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(params, ajaxParams);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else{\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else{\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else{\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nAjax.moduleName = \"ajax\";\n\n//load defaults\nAjax.defaultConfig = defaultConfig;\nAjax.defaultURLGenerator = defaultURLGenerator;\nAjax.defaultLoaderPromise = defaultLoaderPromise;\nAjax.contentTypeFormatters = defaultContentTypeFormatters;\n\nexport default Ajax;","export default {\n\tmethod: \"GET\",\n};","export default function(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}","import Module from '../../core/Module.js';\n\nimport defaultPasteActions from './defaults/pasteActions.js';\nimport defaultPasteParsers from './defaults/pasteParsers.js';\n\nclass Clipboard extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPaseOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else{\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPaseOrigin(e){\n\t\tvar valid = true;\n\n\t\tif(e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nClipboard.moduleName = \"clipboard\";\n\n//load defaults\nClipboard.pasteActions = defaultPasteActions;\nClipboard.pasteParsers = defaultPasteParsers;\n\nexport default Clipboard;","export default {\n\treplace:function(rows){\n\t\treturn this.table.setData(rows);\n\t},\n\tupdate:function(rows){\n\t\treturn this.table.updateOrAddData(rows);\n\t},\n\tinsert:function(rows){\n\t\treturn this.table.addData(rows);\n\t},\n};","export default {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else{\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else{\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\treturn rows;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n};","class CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\nexport default CalcComponent;","export default {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"unique\":function(values, data, calcParams){\n\t\tvar unique = values.filter((value, index) => {\n\t\t\treturn (values || value === 0) && values.indexOf(value) === index;\n\t\t});\n\n\t\treturn unique.length;\n\t},\n};","import Module from '../../core/Module.js';\n\nimport CalcComponent from './CalcComponent.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\nimport Row from '../../core/row/Row.js';\n\nimport defaultCalculations from './defaults/calculations.js';\n\nclass ColumnCalcs extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tif(!this.topInitialized){\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [];\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\t\t\t\n\t\t\tif(this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs){\n\t\t\t\tif(row.modules.dataTree && row.modules.dataTree.open){\n\t\t\t\t\tvar children = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\t\tdata = data.concat(children);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else{\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nColumnCalcs.moduleName = \"columnCalcs\";\n\n//load defaults\nColumnCalcs.calculations = defaultCalculations;\n\nexport default ColumnCalcs;","import Module from '../../core/Module.js';\n\nimport Row from '../../core/row/Row.js';\n\nimport RowComponent from '../../core/row/RowComponent.js';\n\nclass DataTree extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else{\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else{\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else{\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else{\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config && config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\toutput = output.concat(this.getTreeChildren(childRow, component, recurse));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nDataTree.moduleName = \"dataTree\";\n\nexport default DataTree;","import csv from './downloaders/csv.js';\nimport json from './downloaders/json.js';\nimport pdf from './downloaders/pdf.js';\nimport xlsx from './downloaders/xlsx.js';\nimport html from './downloaders/html.js';\nimport jsonLines from './downloaders/jsonLines.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};","export default function(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n","export default function(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}","export default function (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}","export default function(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\";\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tvar doc = new jspdf.jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else{\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n","import CoreFeature from '../../../../core/CoreFeature.js';\n\nexport default function(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tworkbook = XLSX.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\twriteOptions = options.writeOptions || {bookType:'xlsx', bookSST:true, compression},\n\toutput;\n\n\twriteOptions.type = 'binary';\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else{\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else{\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSX.write(workbook, writeOptions);\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}\n","export default function(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}","import Module from '../../core/Module.js';\n\nimport defaultDownloaders from './defaults/downloaders.js';\n\nclass Download extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\tthis.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else{\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else{\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else{\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else{\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nDownload.moduleName = \"download\";\n\n//load defaults\nDownload.downloaders = defaultDownloaders;\n\nexport default Download;","export default function maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}","import maskInput from './inputMask.js';\nimport urlBuilder from '../Ajax/defaults/urlGenerator.js';\n\nexport default class Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = cell.getType() === \"header\";\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\tif(this.params.listItemFormatter){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.sortValuesList){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchFunc){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchingPlaceholder){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else{\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else{\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else{\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else{\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tthis._keyTab(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyTab(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else{\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else{\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else{\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else{\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else{\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else{\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n\t\t\t\t\toutput[val] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\t\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else{\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else{\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else{\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else{\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else{\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else{\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else{\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else{\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\t\t\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else{\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else{\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else{\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else{\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n}\n","import input from './editors/input.js';\nimport textarea from './editors/textarea.js';\nimport number from './editors/number.js';\nimport range from './editors/range.js';\nimport date from './editors/date.js';\nimport time from './editors/time.js';\nimport datetime from './editors/datetime.js';\nimport select from './editors/select.js';\nimport list from './editors/list.js';\nimport autocomplete from './editors/autocomplete.js';\nimport star from './editors/star.js';\nimport progress from './editors/progress.js';\nimport tickCross from './editors/tickCross.js';\n\nexport default {\n\tinput:input,\n\ttextarea:textarea,\n\tnumber:number,\n\trange:range,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tselect:select,\n\tlist:list,\n\tautocomplete:autocomplete,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n};","import maskInput from '../../inputMask.js';\n\n//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange(e);\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//resizable text area element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange(e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"hh:mm\");\n\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() == \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"hh:mm\");\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The select editor has been deprecated, please use the new list editor\");\n\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\");\n\n\teditorParams.autocomplete = true;\n\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","//star rating\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else{\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}","//draggable progress bar\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}","//checkbox\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell.getType() === \"cell\"){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultEditors from './defaults/editors.js';\n\nclass Edit extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\t\n\t\tthis.editors = Edit.editors;\n\t\t\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\t\t\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else{\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {}\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tswitch(typeof column.definition.editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[column.definition.editor]){\n\t\t\t\t\tconfig.editor = this.editors[column.definition.editor];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.editor = column.definition.editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(column.definition.editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\tconfig.editor = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconfig.editor = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else{\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else{\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin || 0);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin || 0);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else{\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\tcellEditor, component, params;\n\t\t\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\t\t\t\t\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\t\t\t\t\t\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else{\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tself.cancelEdit();\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\t\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\telement.blur();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\telement.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\telement.blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.mouseClick = false;\n\t\t\telement.blur();\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nEdit.moduleName = \"edit\";\n\n//load defaults\nEdit.editors = defaultEditors;\n\n\nexport default Edit;\n","class ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nexport default ExportRow;","class ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nexport default ExportColumn;","import Module from '../../core/Module.js';\n\nimport ExportRow from './ExportRow.js';\nimport ExportColumn from './ExportColumn.js';\n\nclass Export extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\t\t\n\t\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\t\tvar body = this.bodyToExportRows(this.rowLookup(range));\n\t\t\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [];\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tswitch(range){\n\t\t\t\tcase true:\n\t\t\t\tcase \"visible\":\n\t\t\t\t\trows = this.table.rowManager.getVisibleRows(false, true);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"all\":\n\t\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"selected\":\n\t\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"active\":\n\t\t\t\tdefault:\n\t\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(){\n\t\tvar output = [];\n\t\t\n\t\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\t\t\n\t\treturn visProp !== false && (column.visible || (!column.visible && visProp));\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else{\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows){\n\t\t\n\t\tvar columns = [];\n\t\tvar exportRows = [];\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\t\t\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\n\t\t\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else{\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else{\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\tindex = this.table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else{\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else{\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\t\t\t\t\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nExport.moduleName = \"export\";\n\nexport default Export;\n","export default {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultFilters from './defaults/filters.js';\n\nclass Filter extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\t\tthis.registerTableOption(\"placeholderHeaderFilter\", false); //placeholder when header filter is empty\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.subscribe(\"placeholder\", this.generatePlaceholder.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\tgeneratePlaceholder(text){\n\t\tif(this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length){\n\t\t\treturn this.table.options.placeholderHeaderFilter;\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else{\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:() => {\n\t\t\t\t\t\treturn \"header\";\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else{\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else{\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else{\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else{\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nFilter.moduleName = \"filter\";\n\n//load defaults\nFilter.filters = defaultFilters;\n\nexport default Filter;","import plaintext from './formatters/plaintext.js';\nimport html from './formatters/html.js';\nimport textarea from './formatters/textarea.js';\nimport money from './formatters/money.js';\nimport link from './formatters/link.js';\nimport image from './formatters/image.js';\nimport tickCross from './formatters/tickCross.js';\nimport datetime from './formatters/datetime.js';\nimport datetimediff from './formatters/datetimediff.js';\nimport lookup from './formatters/lookup.js';\nimport star from './formatters/star.js';\nimport traffic from './formatters/traffic.js';\nimport progress from './formatters/progress.js';\nimport color from './formatters/color.js';\nimport buttonTick from './formatters/buttonTick.js';\nimport buttonCross from './formatters/buttonCross.js';\nimport rownum from './formatters/rownum.js';\nimport handle from './formatters/handle.js';\nimport responsiveCollapse from './formatters/responsiveCollapse.js';\nimport rowSelection from './formatters/rowSelection.js';\n\nexport default {\n\tplaintext:plaintext,\n\thtml:html,\n\ttextarea:textarea,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross,\n\tdatetime:datetime,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star,\n\ttraffic:traffic,\n\tprogress:progress,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\trownum:rownum,\n\thandle:handle,\n\tresponsiveCollapse:responsiveCollapse,\n\trowSelection:rowSelection,\n};","export default function(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx, value;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\tvalue = integer + decimal;\n\t\n\tif(sign === true){\n\t\tvalue = \"(\" + value  + \")\";\n\t\treturn after ? value + symbol : symbol + value;\n\t}else{\n\t\treturn after ? sign + value + symbol : sign + symbol + value;\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\t\t\tvalue = data[formatterParams.urlField];\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else{\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else{\n\t\treturn \"&nbsp;\";\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else{\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else{\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else{\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else{\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else{\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}","import CellComponent from '../../../../core/cell/CellComponent.js';\n\nexport default function(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\n\trow.watchPosition((position) => {\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else{\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}","import RowComponent from '../../../../core/row/RowComponent.js';\n\nexport default function(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else{\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}","import Module from '../../core/Module.js';\n\nimport defaultFormatters from './defaults/formatters.js';\n\nclass Format extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tconfig.formatter = Format.formatters[formatter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.formatter = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn config;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.getFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetType:function(){\n\t\t\t\t\treturn \"header\";\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else{\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else{\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n\t//get formatter for cell\n\tgetFormatter(formatter){\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatter = Format.formatters[formatter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t//Custom formatter Function, do nothing\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatter;\n\t}\n}\n\nFormat.moduleName = \"format\";\n\n//load defaults\nFormat.formatters = defaultFormatters;\n\nexport default Format;","import Module from '../../core/Module.js';\n\nclass FrozenColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\n\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\t\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else{\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else{\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else{\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.modules.frozen.edge){\n\t\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen && element){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else{\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\tif(column.modules.frozen.edge){\n\t\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t}\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nFrozenColumns.moduleName = \"frozenColumns\";\n\nexport default FrozenColumns;","import Module from '../../core/Module.js';\n\nclass FrozenRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\nFrozenRows.moduleName = \"frozenRows\";\n\nexport default FrozenRows;","//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._group.groupManager.table.rowManager.scrollToRow(this._group, position, ifVisible);\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\nexport default GroupComponent;","import Helpers from '../../core/tools/Helpers.js';\nimport GroupComponent from './GroupComponent.js';\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\tif(this.groupManager.table.options.groupToggleElement === \"arrow\"){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\t//allow click event to propagate before toggling visibility\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.toggleVisibility();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else{\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else{\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else{\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else{\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else{\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else{\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else{\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component, includeChildren){\n\t\tvar output = [];\n\t\t\n\t\tif(includeChildren && this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getRows(component, includeChildren));\n\t\t\t});\n\t\t}else{\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tvar rows = this.getRows(false, true);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else{\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else{\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\n\trendered(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nexport default Group;","import Module from '../../core/Module.js';\n\nimport Group from './Group.js';\n\nclass GroupRows extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else{\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t\tlevel = typeof level == \"function\" ? level : function(){return true;};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else{\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else{\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else{\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else{\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else{\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else{\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}\n\nGroupRows.moduleName = \"groupRows\";\n\nexport default GroupRows;","import Module from '../../core/Module.js';\nimport Row from '../../core/row/Row.js';\nimport Cell from '../../core/cell/Cell.js';\n\nimport defaultUndoers from './defaults/undoers.js';\nimport defaultRedoers from './defaults/redoers.js';\n\nclass History extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else{\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Undo Error - No more history to undo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Redo Error - No more history to redo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nHistory.moduleName = \"history\";\n\n//load defaults\nHistory.undoers = defaultUndoers;\nHistory.redoers = defaultRedoers;\n\nexport default History;","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowMove: function(action){\n\t\tvar after = (action.data.posFrom  - action.data.posTo) > 0;\n\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posFrom), after);\n\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posTo), action.data.after);\n\t\t\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};","import Module from '../../core/Module.js';\n\nclass HtmlTableImport extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else{\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else{\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nHtmlTableImport.moduleName = \"htmlTableImport\";\n\nexport default HtmlTableImport;\n","import csv from './importers/csv.js';\nimport json from './importers/json.js';\nimport array from './importers/array.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tarray:array,\n};","function csvImporter(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}\n\nexport default csvImporter;","export default function(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}","function arrayImporter(input){\n\treturn input;\n}\n\nexport default arrayImporter;","import Module from '../../core/Module.js';\n\nimport defaultImporters from './defaults/importers.js';\n\nclass Import extends Module{\n    \n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t}\n    \n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\n\tlookupImporter(importFormat){\n\t\tvar importer;\n        \n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n        \n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else{\n\t\t\timporter = importFormat;\n\t\t}\n\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n        \n\t\treturn importer;\n\t}\n    \n\timportFromFile(importFormat, extension){\n\t\tvar importer = this.lookupImporter(importFormat);\n        \n\t\tif(importer){\n\t\t\treturn this.pickFile(extension)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n    \n\tpickFile(extensions){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n            \n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader();\n                \n\t\t\t\tswitch(this.table.options.importReader){\n\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t}\n                  \n\t\t\t\treader.onload = (e) => {\n\t\t\t\t\tresolve(reader.result);\n\t\t\t\t};\n                \n\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\treject();\n\t\t\t\t};\n\t\t\t});\n            \n\t\t\tinput.click();\n\t\t});\n\t}\n    \n\timportData(importer, fileContents){\n\t\tvar data = importer.call(this.table, fileContents);\n        \n\t\tif(data instanceof Promise){\n\t\t\treturn data;\n\t\t}else{\n\t\t\treturn data ? Promise.resolve(data) : Promise.reject();\n\t\t}\n\t}\n\n\tstructureData(parsedData){\n\t\tvar data = [];\n        \n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else{\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}else{\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = parsedData.shift();\n\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\n\t\t\treturn row;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tcolumns = this.table.getColumns();\n\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && parsedData[0][0]){\n\t\t\tif(columns[0].getDefinition().title === parsedData[0][0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n        \n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdata.push(row);\n\t\t});\n\n\t\treturn data;\n\t}\n    \n\tsetData(data){\n\t\treturn this.table.setData(data);\n\t}\n}\n\nImport.moduleName = \"import\";\n\n//load defaults\nImport.importers = defaultImporters;\n\nexport default Import;","import Module from '../../core/Module.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\n\nclass Interaction extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this));\n\t\tthis.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n\t}\n\n\tclearTouchWatchers(){\n\t\tvar types = Object.values(this.touchWatchers);\n\n\t\ttypes.forEach((type) => {\n\t\t\tfor(let key in type){\n\t\t\t\ttype[key] = null;\n\t\t\t}\n\t\t});\n\t}\n\t\t\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else{\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nInteraction.moduleName = \"interaction\";\n\nexport default Interaction;\n","import Module from '../../core/Module.js';\n\nimport defaultBindings from './defaults/bindings.js';\nimport defaultActions from './defaults/actions.js';\n\nclass Keybindings extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nKeybindings.moduleName = \"keybindings\";\n\n//load defaults\nKeybindings.bindings = defaultBindings;\nKeybindings.actions = defaultActions;\n\nexport default Keybindings;","export default {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 67\"],\n};","export default {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n\n\tundo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard:function(e){\n\t\tif(!this.table.modules.edit.currentCell){\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nclass Menu extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tif(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t\tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t}\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else{\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else{\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nMenu.moduleName = \"menu\";\n\nexport default Menu;\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\t\t\n\t\tif(!column.modules.frozen && !column.isGroup){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\t\t\t\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nMoveColumns.moduleName = \"moveColumn\";\n\nexport default MoveColumns;\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else{\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else{\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else{\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else{\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else{\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else{\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}\n\nMoveRows.prototype.receivers = {\n\tinsert:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n};\n\nMoveRows.prototype.senders = {\n\tdelete:function(fromRow, toRow, toTable){\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.moduleName = \"moveRow\";\n\nexport default MoveRows;","import Module from '../../core/Module.js';\n\nimport defaultMutators from './defaults/mutators.js';\n\nclass Mutator extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nMutator.moduleName = \"mutator\";\n\n//load defaults\nMutator.mutators = defaultMutators;\n\nexport default Mutator;","export default {};","import rows from './pageCounters/rows.js';\nimport pages from './pageCounters/pages.js';\n\n\nexport default {\n\trows:rows,\n\tpages:pages,\n};","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else{\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}","import Module from '../../core/Module.js';\n\nimport defaultPageCounters from './defaults/pageCounters.js';\n\nclass Page extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else{\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else{\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else{\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else{\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tpaginationCounterHolder; \n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else{\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else{\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else{\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else{\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else{\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else{\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\nPage.moduleName = \"page\";\n\n//load defaults\nPage.pageCounters = defaultPageCounters;\n\nexport default Page;\n","// read persistance information from storage\nexport default {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n","//write persistence information to storage\nexport default {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};","import Module from '../../core/Module.js';\n\nimport defaultReaders from './defaults/readers.js';\nimport defaultWriters from './defaults/writers.js';\n\nclass Persistence extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\theaderFilter:this.table.options.persistence === true || this.table.options.persistence.headerFilter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters, headerFilters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t\tif(this.config.headerFilter){\n\t\t\theaderFilters = this.load(\"headerFilter\");\n\n\t\t\tif(!headerFilters === false){\n\t\t\t\tthis.table.options.initialHeaderFilter = headerFilters;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else{\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"headerFilter\":\n\t\t\t\tdata = this.table.modules.filter.getHeaderFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else{\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nPersistence.moduleName = \"persistence\";\n\nPersistence.moduleInitOrder = -10;\n\n//load defaults\nPersistence.readers = defaultReaders;\nPersistence.writers = defaultWriters;\n\nexport default Persistence;","import Module from '../../core/Module.js';\n\nclass Popup extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else{\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}\n\nPopup.moduleName = \"popup\";\n\nexport default Popup;\n","import Module from '../../core/Module.js';\n\nclass Print extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else{\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else{\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nPrint.moduleName = \"print\";\n\nexport default Print;","import Module from '../../core/Module.js';\n\nclass ReactiveData extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}\n\nReactiveData.moduleName = \"reactiveData\";\n\nexport default ReactiveData;\n\n\n\n","import Module from '../../core/Module.js';\n\nclass ResizeColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else{\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t\tcell.modules.resize.handleEl.style[\"z-index\"] = 11;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this;\n\t\t\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tfunction mouseMove(e){\n\t\t\tvar x = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX,\n\t\t\tstartDiff = x - self.startX,\n\t\t\tmoveDiff = x - self.latestX,\n\t\t\tblockedBefore, blockedAfter;\n\t\t\t\n\t\t\tself.latestX = x;\n\t\t\t\n\t\t\tif(self.table.rtl){\n\t\t\t\tstartDiff = -startDiff;\n\t\t\t\tmoveDiff = -moveDiff;\n\t\t\t}\n\t\t\t\n\t\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tcolumn.setWidth(self.startWidth + startDiff);\n\t\t\t\n\t\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tif(moveDiff < 0){\n\t\t\t\tself.nextColumn = self.initialNextColumn;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.options.resizableColumnFit && self.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\t\tlet colWidth = self.nextColumn.getWidth();\n\t\t\t\t\n\t\t\t\tif(moveDiff > 0){\n\t\t\t\t\tif(colWidth <= self.nextColumn.minWidth){\n\t\t\t\t\t\tself.nextColumn = self.nextColumn.nextColumn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(self.nextColumn){\n\t\t\t\t\tself.nextColumn.setWidth(self.nextColumn.getWidth() - moveDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tif(!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeColumns.moduleName = \"resizeColumns\";\n\nexport default ResizeColumns;","import Module from '../../core/Module.js';\n\nclass ResizeRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this;\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t\t}\n\n\t\tfunction mouseUp(e){\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeRows.moduleName = \"resizeRows\";\n\nexport default ResizeRows;","import Module from '../../core/Module.js';\n\nclass ResizeTable extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && !table.modules.edit.currentCell)){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else{\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nResizeTable.moduleName = \"resizeTable\";\n\nexport default ResizeTable;","import Module from '../../core/Module.js';\n\nclass ResponsiveLayout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else{\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach(function(item){\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\tthis.langBind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else{\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t}, this);\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nResponsiveLayout.moduleName = \"responsiveLayout\";\n\nexport default ResponsiveLayout;\n","import Module from '../../core/Module.js';\n\nclass SelectRow extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectable\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectablePersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.selectable !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectable && !this.table.options.selectablePersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\n\t\t\telement.classList.add(\"tabulator-selectable\");\n\t\t\telement.classList.remove(\"tabulator-unselectable\");\n\t\t\t\n\t\t\tif(self.table.options.selectable && self.table.options.selectable != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else{\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\telement.classList.add(\"tabulator-unselectable\");\n\t\t\telement.classList.remove(\"tabulator-selectable\");\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectable !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectable){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else{\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectable !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectable){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else{\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row && row.type === \"row\"){\n\t\t\treturn this.table.options.selectableCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else{\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._selectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(false, changes);\n\t\t\t}\n\t\t}else{\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, false, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectable){\n\t\t\t\tif(this.table.options.selectableRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = Object.assign([], this.selectedRows);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._deselectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(silent, [], changes);\n\t\t\t}\n\t\t}else{\n\t\t\tif(rowMatch){\n\t\t\t\tthis._deselectRow(rowMatch, silent, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex, element;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\n\t\t\t\telement = row.getElement();\n\t\t\t\t\n\t\t\t\tif(element){\n\t\t\t\t\telement.classList.remove(\"tabulator-selected\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent, undefined, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent, selected = [], deselected = []){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tif(!Array.isArray(selected)){\n\t\t\t\tselected = [selected];\n\t\t\t}\n\n\t\t\tselected = selected.map(row => row.getComponent());\n\n\t\t\tif(!Array.isArray(deselected)){\n\t\t\t\tdeselected = [deselected];\n\t\t\t}\n\n\t\t\tdeselected = deselected.map(row => row.getComponent());\n\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), selected, deselected);\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nSelectRow.moduleName = \"selectRow\";\n\nexport default SelectRow;","//sort datetime\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else{\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else{\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else{\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}","import number from './sorters/number.js';\nimport string from './sorters/string.js';\nimport date from './sorters/date.js';\nimport time from './sorters/time.js';\nimport datetime from './sorters/datetime.js';\nimport boolean from './sorters/boolean.js';\nimport array from './sorters/array.js';\nimport exists from './sorters/exists.js';\nimport alphanum from './sorters/alphanum.js';\n\nexport default {\n\tnumber:number,\n\tstring:string,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};","//sort numbers\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort strings\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","import datetime from './datetime.js';\n\n//sort date\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","import datetime from './datetime.js';\n\n//sort times\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","//sort booleans\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}","//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tfunction calc(value){\n\t\tvar result;\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else{\n\t\treturn calc(b) - calc(a);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}","//sort alpha numeric strings\nexport default function(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else{\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","import Module from '../../core/Module.js';\n\nimport defaultSorters from './defaults/sorters.js';\n\nclass Sort extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\n\t\tparams.sort = sorters;\n\n\t\treturn params;\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\n\t\tif(column.definition.headerSort !== false){\n\n\t\t\tcolEl = column.getElement();\n\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else{\n\t\t\tthis.refreshData(true);\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\n\t\treturn sorters;\n\t}\n\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\n\t\t});\n\n\t\tself.sortList = newSortList;\n\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\n\t\t\tif(field){\n\n\t\t\t\tvalue = column.getFieldValue(row);\n\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Sort.sorters[sorter];\n\t}\n\n\t//work through sort list sorting data\n\tsort(data){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\n\t\tself.clearColumnHeaders();\n\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\n\t\t\t\t\tif(sortObj){\n\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\n\t\t}else{\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else{\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nSort.moduleName = \"sort\";\n\n//load defaults\nSort.sorters = defaultSorters;\n\nexport default Sort;","import Module from '../../core/Module.js';\nimport Cell from '../../core/cell/Cell.js';\n\nclass Tooltip extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\tthis.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else{\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nTooltip.moduleName = \"tooltip\";\n\nexport default Tooltip;\n","export default {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultValidators from './defaults/validators.js';\n\nclass Validate extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else{\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else{\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidate.moduleName = \"validate\";\n\n//load defaults\nValidate.validators = defaultValidators;\n\nexport default Validate;\n","//tabulator with all modules installed\nimport {default as Tabulator} from './Tabulator.js';\nimport * as modules from '../core/modules/optional.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nclass TabulatorFull extends Tabulator {}\n\n//bind modules and static functionality\nnew ModuleBinder(TabulatorFull, modules);\n\nexport default TabulatorFull;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}